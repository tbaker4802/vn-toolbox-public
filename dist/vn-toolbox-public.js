function Translate(e,t,n,a,i){this.$translate=e,this.$translatePartialLoader=t,this.storage=n,this.disableTranslations=i,this.configure(angular.extend(a,this.getConfig())),this.addPart=t.addPart}function TranslateProvider(e){this.$translateProvider=e,this.setPreferredLanguage=e.preferredLanguage}function validator(e,t){angular.module("Volusion.toolboxCommon").directive(e,["vnUtils",function(e){return{restrict:"A",require:"ngModel",link:function(n,a,i,s){return t(n,a,i,s,e)}}}])}angular.module("Volusion.toolboxCommon.templates",[]),angular.module("Volusion.toolboxCommon",["ngCookies","ngSanitize","pascalprecht.translate","ui.bootstrap","Volusion.toolboxCommon.templates","ngLodash","ngAria","ncy-angular-breadcrumb"]).config(["$httpProvider","$translateProvider",function(e,t){"use strict";e.interceptors.push("vnHttpResponseInterceptor");var n={"VN-CAROUSEL-TITLE":"Inline Images:","VN-IMAGE-TITLE":"Image:","VN-RATING-TITLE":"Rating:"},a={"VN-CAROUSEL-TITLE":"Imágenes","VN-IMAGE-TITLE":"Imáge:","VN-RATING-TITLE":"Clasificación"};t.translations("en",n).translations("es",a).preferredLanguage("en")}]).run(["$rootScope","$rootElement","$window","vnCacheBustFilter","$state","vnDevice",function(e,t,n,a,i){"use strict";e.overridesCSS=a("/styles/overrides.css"),e.$on("$routeChangeError",function(e,t,a,i){404===i.status&&n.location.replace("/404.html")}),e.$on("$stateChangeError",function(e,t){var n={"checkout.ship-method":"home","checkout.pay-with":"checkout.ship-method","checkout.review-order":"checkout.pay-with","paypal-checkout.ship-method":"home","paypal-checkout.review-order":"paypal-checkout.ship-method"};e.preventDefault(),i.go(-1!==t.name.indexOf("my-account")?"login":n[t.name]?n[t.name]:"home")}),e.overridesCSS=a("/styles/overrides.css"),e.$on("$stateChangeSuccess",function(t,n){e.currentState=n.name})}]),angular.module("Volusion.toolboxCommon").service("vnAccountSession",[function(){return this.create=function(e){this.id=e},this.destroy=function(){this.id=null},this}]),angular.module("Volusion.toolboxCommon").constant("VN_AUTH_EVENTS",{loginSuccess:"vn-auth-login-success",logoutSuccess:"vn-auth-logout-success",loginFailed:"vn-auth-login-failed",sessionTimeout:"vn-auth-session-timeout",notAuthenticated:"vn-auth-not-authenticated",notAuthorized:"vn-auth-not-authorized"}),angular.module("Volusion.toolboxCommon").factory("vnAuthService",["$http","$rootScope","$q","$cookies","vnAppConfig","vnAccountSession","VN_AUTH_EVENTS","vnUser",function(e,t,n,a,i,s,d,o){function r(n){return e({method:"POST",url:i.getLoginUrl(),headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")},data:n,withCredentials:!0}).success(function(e){return s.create(e.CustomerId),a.CustomerID=e.CustomerId,t.$emit(d.loginSuccess,e.CustomerId)})["catch"](function(e){return t.$emit(d.loginFailed,e)})}function c(){return!!s.id}function l(){s.destroy(),delete a.CustomerID,v(),t.$emit(d.logoutSuccess)}function u(t){return e({method:"POST",url:i.getForgotPasswordUrl(),headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")},data:{Email:t},withCredentials:!0})}function p(){var e=n.defer();return a.CustomerID?(o.getCurrentUser().then(function(){s.create(a.CustomerId),o.setAnonymous(!1),t.$emit(d.loginSuccess,a.CustomerID),e.resolve()},function(){e.resolve()}),e.promise):!0}function v(){for(var e in a)-1!==e.indexOf("ASPSESSIONID")&&delete a[e]}return{login:r,loginFromCookie:p,isAuthenticated:c,logout:l,forgotPassword:u}}]),angular.module("Volusion.toolboxCommon").controller("vnAppMessageCtrl",["vnAppMessageService","$rootScope",function(e,t){var n=this;n.alerts=e.getMessages(),n.closeAlert=function(t){e.removeMessage(t)},t.$on("$stateChangeStart",function(e,t,a,i){"my-account"===i.name&&(n.alerts.length=0)})}]),angular.module("Volusion.toolboxCommon").directive("vnAppMessage",function(){return{restrict:"EA",controller:"vnAppMessageCtrl",controllerAs:"appMessagesCtrl",templateUrl:"app-messages/vnAppMessage.tpl.html",scope:{messagePosition:"@"}}}),angular.module("Volusion.toolboxCommon").service("vnAppMessageService",[function(){var e={},t=[];return e.addMessage=function(e){var n={id:Date.now(),type:e.type||"warning",text:e.text};t.push(n)},e.getMessages=function(){return t},e.removeMessage=function(e){angular.forEach(t,function(n,a){n&&n.id===e&&t.splice(a,1)})},e}]),angular.module("Volusion.toolboxCommon").directive("vnBusyAnimation",function(){"use strict";return{templateUrl:"busy-animation/vnBusyAnimation.tpl.html",transclude:!0,restrict:"A",scope:{},link:function(e,t,n){e.show=!1,e["class"]=n.vnBusyAnimationClass,e.size=n.vnBusyAnimationSize||"40px",n.$observe("vnBusyAnimationShow",function(t){e.show="true"===t})}}}),angular.module("Volusion.toolboxCommon").filter("vnCacheBust",["vnTokenGenerator",function(e){function t(t){if(!t||!t.trim())return t;var n=t.indexOf("?")>-1?"&":"?";return t+n+"_="+e.getCacheBustingToken()}return function(e){return t(e)}}]),angular.module("Volusion.toolboxCommon").factory("vnTokenGenerator",function(){function e(){return(new Date).valueOf()}return{getCacheBustingToken:e}}),angular.module("Volusion.toolboxCommon").controller("CartCtrl",["$rootScope","$scope","$timeout","$filter","$window","$state","translate","vnCart","notifications","vnUser",function(e,t,n,a,i,s,d,o,r,c){"use strict";function l(e,n){t.loading=e?!0:!1,o.updateCart().then(function(){void 0!==n&&"function"==typeof n&&n()})}t.state="cart",t.checkout=function(){c.isLoggedIn().then(function(){s.go("checkout.ship-method")},function(){t.state="login"})},t.closeLogin=function(){t.state="cart"},e.$on("closeCart",function(){t.state="cart"}),t.cart={},t.cartEmpty=!0,t.calcSubtotal=0,t.coupon={code:"",showApply:!1},t.couponsEmpty=!1,t.loading=!1,t.showGiftOption=!1,t.visualCue=!1,e.isCartOpen=!1,t.device=e.device,e.$on("config.updated",function(){t.isPaypalExpressAvailable=e.config.checkout.isPaypalExpressAvailable}),d.addParts("cart"),t.getCartItemsCount=function(){return o.getCartItemsCount()},t.deleteItem=function(e){t.cart.items=a("filter")(t.cart.items,function(t){return t.id!==e}),l(!0)},t.changeQty=function(e,a,i){e.qty=""===e.qty?1:a,n.cancel(t.debounceUpdateCart),void 0===i?l(!1):t.debounceUpdateCart=n(function(){l(!1)},i)},t.resetGiftOptions=function(){return t.cart.misc.isGift?(t.visualCue=!0,void n(function(){t.visualCue=!1},3e3)):(angular.forEach(t.cart.items,function(e){e.isGiftWrapAvailable&&e.giftWrap.selected&&(e.giftWrap.selected=!1)}),void l(!0))},t.addGiftWrap=function(){l(!0)},t.addGiftMsg=function(){l(!0)},t.applyCoupon=function(){t.coupon.code.length>0&&(t.cart.discounts=a("filter")(t.cart.discounts,function(e){return e.couponCode!==t.coupon.code}),t.cart.discounts.push({couponCode:t.coupon.code}),l(!0,function(){t.coupon.showApply=!1,t.coupon.code="",0===t.cart.serviceErrors.length&&0===t.cart.warnings.length&&t.togglePromoList(!0)}))},t.deleteCoupon=function(e){t.cart.discounts=a("filter")(t.cart.discounts,function(t){return t.id!==e}),t.couponsEmpty=t.cart.discounts.length>0?!1:!0,l(!0)},e.$on("cart.startLoading",function(){t.loading=!0}),e.$on("cart.stopLoading",function(){t.loading=!1}),e.$on("cartUpdated",function(){if(t.cart=o.getCart(),(t.cart.warnings&&t.cart.warnings.length>0||t.cart.serviceErrors&&t.cart.serviceErrors.length>0)&&(r.displayWarnings(t.cart.warnings),r.displayErrors(t.cart.serviceErrors),e.$emit("vnScroll.cart")),void 0!==t.cart&&(void 0!==t.cart.totals&&(t.calcSubtotal=t.cart.totals.items+t.cart.totals.discounts+t.cart.totals.giftWrap,t.cartEmpty=t.cart.totals.qty>0?!1:!0),void 0!==t.cart.discounts&&(t.couponsEmpty=t.cart.discounts.length>0?!1:!0),void 0!==t.cart.items))for(var n=0;n<t.cart.items.length;n++)t.cart.items[n].giftWrap.selected&&(t.showGiftOption=!0);t.loading=!1})}]),angular.module("Volusion.toolboxCommon").directive("vnCart",["$rootScope","$timeout",function(e,t){"use strict";return{restrict:"A",templateUrl:"cart/cart.tpl.html",controller:"CartCtrl",link:function(n){n.showPromoList=!1,e.openCart=function(){n.fixBodyHeight(),angular.element("body").addClass("cart-active"),e.isCartOpen=!0,e.closeMobileMenu(),e.$emit("openCart")},e.closeCart=function(){angular.element("body").removeClass("cart-active"),e.isCartOpen=!1,e.$emit("closeCart")},e.toggleCart=function(){e.isCartOpen?e.closeCart():e.openCart()},n.fixBodyHeight=function(){angular.element(".th-cart__body").css({top:$(".th-cart__header").outerHeight()+"px",bottom:$(".th-cart__footer").outerHeight()+"px"})},n.promoInputKeypress=function(e){13===e.which&&(e.currentTarget.blur(),n.applyCoupon())},n.togglePromoList=function(e){n.showPromoList=void 0!==e?e:!n.showPromoList,t(function(){n.fixBodyHeight()},275)},n.toggleApplyBtn=function(e){e===!1?t(function(){n.coupon.showApply=!n.coupon.showApply},0):n.coupon.showApply=e===!0?!0:void 0!==e?e:!n.coupon.showApply,n.fixBodyHeight()},e.$on("cartUpdated",function(){n.fixBodyHeight()}),e.$on("device.info.changed",function(){n.fixBodyHeight()})}}}]),angular.module("Volusion.toolboxCommon").directive("vnAddressDisplay",function(){"use strict";return{restrict:"AE",replace:!0,scope:{address:"=",showEditButton:"=",onClick:"&",shipping:"@"},templateUrl:"checkout/address/address-display.tpl.html",link:function(e){e.isLocationUS=!0,e.shippingValue="true"===e.shipping?!0:!1,e.$watch("address.country",function(t){t&&(e.isLocationUS="United States"===t)})}}}),angular.module("Volusion.toolboxCommon").directive("vnAddressDisplayActions",function(){return{restrict:"A",scope:{address:"=",onMakePreferredClicked:"&",onDeleteClicked:"&",onEditClicked:"&",shipping:"@"},templateUrl:"checkout/address/vn-address-display-actions.tpl.html"}}),angular.module("Volusion.toolboxCommon").directive("vnAddressEditor",["$rootScope","lodash",function(e,t){return{restrict:"EA",scope:{address:"=",countries:"=",onSave:"&",onDirty:"&",showSaveButton:"@",saveText:"@",showCancelButton:"@",cancelText:"@",onCancel:"&",shipping:"@"},templateUrl:"checkout/address/vn-address-editor.html",link:function(n){var a=null,i=null;n.frmAddress.$setPristine(),n.saveText=n.saveText||"Continue",n.cancelText=n.cancelText||"Cancel",n.showSaveButtonValue="false"===n.showSaveButton?!1:!0,n.showCancelButtonValue="true"===n.showCancelButton?!0:!1,n.shippingValue="true"===n.shipping?!0:!1,n.isLocationUS=!0,n.previousCountry=null,n.disabledButton=!0,n.validateChange=function(e){if(n.address.country=n.address.selectedCountry?n.address.selectedCountry.name:"",n.frmAddress)if(n.isLocationUS?n.address.selectedState&&n.address.selectedState.code&&""!==n.address.state?(n.frmAddress.inputUSState.$setValidity("state",!0),n.frmAddress.inputUSStateLabel.$setValidity("state",!0),n.stateEmpty="valid"):(n.frmAddress.inputUSState.$setValidity("state",!1),n.frmAddress.inputUSStateLabel.$setValidity("state",!1),n.stateEmpty=void 0):""===n.address.country?(n.frmAddress.inputWorldwideCountry.$setValidity("country",!1),n.frmAddress.inputWorldwideCountryLabel.$setValidity("country",!1),n.stateEmpty=void 0):(n.frmAddress.inputWorldwideCountry.$setValidity("country",!0),n.frmAddress.inputWorldwideCountryLabel.$setValidity("country",!0),n.stateEmpty="valid"),n.frmAddress.$valid)n.address.residential=angular.isDefined(n.address.residential)?n.address.residential:!0,n.frmAddress.$setPristine(),e&&e(),n.disabledButton=!1;else if(n.disabledButton=!0,e)for(var t in n.frmAddress)n.frmAddress.hasOwnProperty(t)&&t.indexOf("$")<0&&(n.frmAddress[t].$setDirty(),n.frmAddress[t].$setTouched())},n.setCountryToOther=function(){if(n.previousCountry&&"United States"===n.previousCountry.name){var e=t.reject(n.countries,{name:"United States"});if(!e.length)return void n.setCountryToUS();n.previousCountry=null,n.frmAddress.$setDirty()}n.address.selectedCountry=n.previousCountry,n.address.country=n.address.selectedCountry?n.address.selectedCountry.name:"",n.isLocationUS=!1},n.setCountryToUS=function(){n.previousCountry=n.address.selectedCountry,n.address.selectedCountry=t.find(n.countries,{name:"United States"}),n.isLocationUS=!0,n.frmAddress.$setPristine()},n.onCountryChanged=function(e){e&&(n.previousCountry=e,n.address.country=e.name,"United States"===e.name?n.setCountryToUS():n.setCountryToOther(),n.address.selectedState={},i&&i!==e.name&&n.frmAddress.$setDirty())},n.onStateChanged=function(e){n.address.state=e.code,a&&a!==e.code&&n.frmAddress.$setDirty()},n.saveAddress=function(){n.validateChange(n.onSave)};var s=n.$watch("countries",function(){"undefined"!=typeof n.countries&&n.countries.length>0&&(n.setCountryToUS(),s())}),d=n.$watch("address.country",function(e){if(e&&n.countries){var a=t.find(n.countries,{name:e});a&&(i=a.name,n.onCountryChanged(a),d()),n.validateChange()}}),o=n.$watch("address.state",function(e){e&&n.address.selectedCountry&&n.address.selectedCountry.states&&(n.address.selectedState=t.find(n.address.selectedCountry.states,{code:e})||{},a=n.address.selectedState.code||"",o(),n.validateChange())}),r=n.$watch("frmAddress.$dirty",function(e){e&&(t.isFunction(n.onDirty)&&n.onDirty(),r())}),c=e.$on("vnPayment.validate",function(){n.saveAddress(),e.$emit("vnPayment.validate.continue")});n.$on("$destroy",function(){c()})}}}]),angular.module("Volusion.toolboxCommon").directive("vnAddressPicker",["$rootScope","vnAddressUtilities",function(e,t){return{restrict:"AE",replace:!0,scope:{addressCopied:"=",addressList:"=",backToText:"@",copyAddressHandler:"&",copyAddressText:"@",countries:"=",newAddressTitle:"@",onAddressSelected:"&",saveAddress:"&",selectAddressTitle:"@",showCopyAddress:"=",shipping:"@"},templateUrl:"checkout/address/vn-address-picker.tpl.html",link:function(n){n.openAddressPicker=!0,n.state="ADDRESSLIST",n.setPreferredAddress=function(e){t.setPreferredAddress(n.addressList,e)},n.createNewAddress=function(){n.state="NEWADDRESS",n.newAddress=t.createEmptyAddress(),n.showCopyAddress&&e.$emit("vnAddressPicker.addAddressClicked")},n.selectAddress=function(){n.onAddressSelected(),n.openAddressPicker=!1}}}}]),angular.module("Volusion.toolboxCommon").factory("vnAddressUtilities",["lodash",function(e){return{createEmptyAddress:function(){return{address1:"",address2:"",city:"",companyName:"",country:"United States",firstName:"",lastName:"",phoneNumber:"",postalCode:"",preferred:!1,residential:!0,state:""}},setPreferredAddress:function(t,n){e.forEach(t,function(e,t){e.preferred=n===t})},getPreferredAddress:function(t){return e.find(t,function(e){return e.preferred})||t[0]},removeAddressFromList:function(t,n){return e.reject(t,function(e){return e.id===n.id})}}}]),angular.module("Volusion.toolboxCommon").controller("BillingAddressViewsCtrl",["$scope","$rootScope","vnAddressUtilities","vnCheckout","vnUser",function(e,t,n,a,i){var s=1,d=-1,o=this;o.state=null,o.showCopyAddress=!0,o.useShippingAddress=!1,o.init=function(){o.checkout=a.get(),o.user=i.getUser(),o.user.anonymous?(o.billingAddress=n.createEmptyAddress(),o.state="EDITADDRESS"):i.getBillingAddresses().then(function(e){e&&e.length?(o.billingAddress=n.getPreferredAddress(e),o.onAfterAddressSave()):(o.billingAddress=n.createEmptyAddress(),o.state="EDITADDRESS")}),a.getCountries().then(function(e){o.countries=e.data})},o.editBillingAddress=function(){!o.user.anonymous&&o.user.billingAddresses&&o.user.billingAddresses.length?(o.state="PICKADDRESS",a.setHasOpenDrawer(s,!0)):o.state="EDITADDRESS"},o.onAddressSelected=function(){o.useShippingAddress=!1,o.billingAddress=n.getPreferredAddress(o.user.billingAddresses),o.onAfterAddressSave(),a.setHasOpenDrawer(s,!1)},o.onAddressAdded=function(e){o.billingAddress=e,o.addAddressToBillingAddresses(o.billingAddress),o.onAfterAddressSave()},o.saveBillingAddress=function(){"EDITADDRESS"===o.state&&o.addAddressToBillingAddresses(o.billingAddress),o.onAfterAddressSave(),a.setHasOpenDrawer(1,!1)},o.copyShippingAddress=function(){if(o.user.anonymous)o.useShippingAddress?(angular.copy(o.checkout.cart.shippingAddress,o.billingAddress),o.saveBillingAddress()):o.state="EDITADDRESS";else{o.useShippingAddress=!0;var e=n.createEmptyAddress();angular.copy(o.checkout.cart.shippingAddress,e);var t=o.addAddressToBillingAddresses(e,!0);o.billingAddress=o.user.billingAddresses[t],o.saveBillingAddress()}},o.setShippingAddressFalse=function(){o.state="EDITADDRESS",o.useShippingAddress=!1,a.setBillToValidity(!1)},o.addAddressToBillingAddresses=function(e,t){var n;if(!o.user.anonymous){if(t){if(-1===d)i.setBillingAddress(e).then(function(t){e.id=t}),n=o.user.billingAddresses.push(e),d=n-1;else{var a=o.user.billingAddresses[d];angular.extend(a,e),i.updateBillingAddress(a)}return d}return o.useShippingAddress=!1,i.setBillingAddress(e).then(function(t){e.id=t}),n=o.user.billingAddresses.push(e),n}o.user.billingAddresses=[],n=o.user.billingAddresses.push(e)},o.onAfterAddressSave=function(){a.setBillToValidity(!0),a.setBillingAddress(o.billingAddress),a.updateCart(),o.state="VIEWADDRESS",a.setHasOpenDrawer(1,!1)},t.$on("vnPayment.validate",function(){"VIEWADDRESS"===o.state&&(a.setBillToValidity(!0),t.$emit("vnPayment.validate.continue"))}),t.$on("vnAddressPicker.addAddressClicked",function(){o.useShippingAddress=!1}),e.$watch(function(){return o.useShippingAddress},function(e){var n=angular.noop;e?n=t.$on("checkout.shippingaddress.changed",function(){o.useShippingAddress&&o.copyShippingAddress()}):n()})}]),angular.module("Volusion.toolboxCommon").service("CheckoutService",function(){this.sharedMethods={}}).controller("CheckoutCtrl",["$rootScope","vnViewPortWatch","$scope","$state","vnCart","vnCheckout","vnContentManager","CheckoutService","$window","vnPaypal",function(e,t,n,a,i,s,d,o,r,c){s.initCart().promise.then(function(){s.setUser()}),n.isPaypalExpressAvailable=e.config.checkout.isPaypalExpressAvailable,n.paymentType="credit-card";var l={"default":"Place Order",loading:"Placing Order"};n.placeOrderBtnText=l["default"],o.sharedMethods.nextCheckoutStep=function(){n.nextStep()},d.showCheckoutAppHeader(),d.showCheckoutAppFooter(),n.checkout=s.get(),n.isEditable=function(e){return n.checkout.currentStep===e?"edit":"show"},n.getShipToValid=function(){return!n.checkout.shipToValid},n.getShipMethodValid=function(){return!n.checkout.shipMethodValid},n.getCreditCardValid=function(){return!n.checkout.creditCardValid},n.getBillingAddressValid=function(){return!n.checkout.billToValid},n.setStep=function(e){s.setStep(e)},n.nextStep=function(){s.nextStep()},n.prevStep=function(){s.prevStep()},n.nextShippingStep=function(){n.checkout.shipToValid&&n.checkout.shipMethodValid&&s.nextStep()},n.nextBillingStep=function(){s.setBillToValidity(!1),s.setCreditCardValidity(!1),e.$emit("vnPayment.validate")},n.placeOrder=function(){s.placeOrder(),n.placeOrderBtnText=l.loading,e.$emit("checkout.stepThreeLoading");var t=e.$on("checkout.orderPlaced",function(){n.placeOrderBtnText=l["default"],e.$emit("checkout.stopLoading"),t()})},n.startPaypal=function(){c.startPaypal()},n.device=e.device,e.$on("vnPayment.validate.continue",function(){n.checkout.creditCardValid&&n.checkout.billToValid&&a.go("checkout.review-order")}),e.$on("checkout.stepChanged",function(){r.scrollTo(0,0)}),n.$on("$destroy",function(){d.showAppHeader(),d.showAppFooter(),s.resetCheckout()}),n.$on("vnShipTo.edit",function(e){n.hideShippingMethods=!0,e.stopPropagation()}),n.$on("vnShipTo.edit.done",function(e){n.hideShippingMethods=!1,e.stopPropagation()}),n.stepOneLoading=!1,n.stepTwoLoading=!1,n.stepThreeLoading=!1,e.$on("checkout.stepOneLoading",function(){n.stepOneLoading=!0}),e.$on("checkout.stepTwoLoading",function(){n.stepTwoLoading=!0}),e.$on("checkout.stepThreeLoading",function(){n.stepThreeLoading=!0}),e.$on("checkout.stopLoading",function(){n.stepOneLoading=!1,n.stepTwoLoading=!1,n.stepThreeLoading=!1})}]),angular.module("Volusion.toolboxCommon").controller("CreditCardViewsCtrl",["$rootScope","$filter","vnCheckout","vnPayment","vnUser","$q","vnPciaasIframe","vnSiteConfig","vnCreditCardClass","vnCreditCardUtilities",function(e,t,n,a,i,s,d,o,r,c){"use strict";function l(){if(h.user.paymentProfiles.length>0){for(var e=h.user.paymentProfiles[0].card,t=0,n=0,a=h.user.paymentProfiles.length;a>n;n++)h.user.paymentProfiles[n].preferred&&(t=n,e=h.user.paymentProfiles[n].card);return{index:t,card:e}}return{index:0,card:c.newCard()}}function u(e){angular.forEach(h.user.paymentProfiles,function(t){return h.user.paymentProfiles[e].id===t.id?void(t.preferred=!0):void(t.preferred=!1)})}function p(e){h.preferredProfile=t("filter")(h.user.paymentProfiles,function(e){return e.preferred===!0?e:void 0})[0],a.setCardFrom(h.preferredProfile.card),n.setCCPaymentProfile(a.getCard()),e!==!1&&n.setCreditCardValidity(!0)}function v(){var e={method:"Credit Card",preferred:!0,card:{cardType:h.card.cardType,cardTypeName:h.card.cardTypeName,holdersName:h.user.firstName+" "+h.user.lastName,last4:h.card.cardNumber.slice(-4),expMonth:h.card.expMonth,expYear:h.card.expYear,issueMonth:"",issueYear:"",issueNumber:"",pCIaaSId:h.card.pCIaaSId,cardNumber:h.card.cardNumber}};n.setCCPaymentProfile(e),h.user.anonymous||i.setPaymentProfile(e).then(function(e){var t=r(e.data.card.cardType);e.data.card.ccCssClass=t["class"],e.data.card.last4=e.data.card.cardNumber.slice(-4),e.data.card.cardTypeName=t.name,h.user.paymentProfiles.push(e.data)})}var h=this,g=null;o.getConfig().then(function(e){g=e.data.PCIaaS.merchantId});h.state=null,h.pickCardState="PICK",h.displayCardState="CVV",h.oldSelectedIndex=null,h.selectedIndex=null,h.init=function(){h.card=c.newCard(),h.user.anonymous?(h.isUserCanEnterPaymentProfile=!0,h.state="ENTERCARD"):i.getPaymentProfiles().then(function(){if(h.user.paymentProfiles.length>0){p(!1),h.state="VALIDCARDENTERED";var e=l();h.oldSelectedIndex=h.selectedIndex=e.index,h.card=e.card}else h.isUserCanEnterPaymentProfile=!0,h.state="ENTERCARD"})},h.isUserCanEnterPaymentProfile=!1,h.user=i.getUser(),h.checkout=n.get(),h.payment=a.getCard(),h.openCreditCards=!1,h.user.isUserCanEnterPaymentProfile=!0,h.preferredProfile={},h.setPaymentProfile=function(){u(h.selectedIndex),p()},h.setCardValidFalse=function(){n.setCreditCardValidity(!1)},h.processCard=function(){return s(function(e,t){var n={CVV:"inputCreditCardCVV",HiddenCardID:"hiddenCardID",CardNumber:function(){return h.card.cardNumber},CardType:function(){return{Visa:"Visa",MasterCard:"MasterCard","American Express":"Amex",Discover:"Discover"}[h.card.cardTypeName]}};d.PCIaaS({settings:{merchantID:"3de067d8d96d407697da4a9559f99681",apiBase:"https://payments-qa.dev.volusion.com/paymentsv1_4"},fields:n,events:{success:e,error:t}}).process(!0)})},h.saveCreditCard=function(){h.processCard().then(function(t){h.card.pCIaaSError="",angular.isString(t)&&(t=JSON.parse(t)),h.card.cardNumber=-1===h.card.cardNumber.indexOf("*")?c.maskCardValue(h.card.cardNumber):h.card.cardNumber,h.card.pCIaaSId=t.CardId?t.CardId:h.card.pCIaaSId,h.card.changed=!1,v(),h.displayCardState="NOCVV",h.state="VALIDCARDENTERED",n.setCreditCardValidity(!0),n.setHasOpenDrawer(1,!1),e.$emit("vnPayment.validate.continue")},function(){h.card.pCIaaSError="There was a problem with saving your credit card"})},h.toggleChange=function(){n.setCreditCardValidity(!1),h.user.paymentProfiles&&h.user.paymentProfiles.length>0?(h.openCreditCards=!0,n.setHasOpenDrawer(1,!0),h.state="PICKCARD",h.pickCardState="PICK"):h.state="ENTERCARD"},h.closePicker=function(){h.user.paymentProfiles.length>0?(u(h.oldSelectedIndex),h.card=l().card,h.state="VALIDCARDENTERED",h.displayCardState="CVV",n.setCreditCardValidity(!0),n.setHasOpenDrawer(1,!1)):h.state="ENTERCARD"},h.choosePicker=function(){h.oldSelectedIndex=h.selectedIndex,h.setPaymentProfile(),h.card=l().card,n.setCreditCardValidity(!0),h.state="VALIDCARDENTERED",h.displayCardState="CVV",n.setHasOpenDrawer(1,!1)}}]),angular.module("Volusion.toolboxCommon").directive("vnCreditCardDisplayActions",["vnCreditCardClass",function(e){return{restrict:"A",scope:{paymentProfile:"=",onMakePreferredClicked:"&",onDeleteClicked:"&",onEditClicked:"&"},templateUrl:"checkout/pay-with/vn-credit-card-display-action.html",link:function(t){if(!t.paymentProfile.card.ccCssClass&&t.paymentProfile.card.cardTypeName){var n=e(t.paymentProfile.card.cardTypeName);t.paymentProfile.card.ccCssClass=n["class"],t.paymentProfile.card.cardType=n.type}}}}]),angular.module("Volusion.toolboxCommon").directive("vnCreditCardDisplay",["$rootScope","vnCreditCardClass",function(e,t){return{replace:!0,restrict:"EA",scope:{card:"=",state:"=?",onSave:"&",onDirty:"&",onClick:"&",readonly:"@",showArrow:"@"},templateUrl:"checkout/pay-with/vn-credit-card-display.html",link:function(n){function a(){for(var e in n.frmCVV)n.frmCVV.hasOwnProperty(e)&&e.indexOf("$")<0&&(n.frmCVV[e].$setDirty(),n.frmCVV[e].$setTouched())}if(n.state=n.state||"NOCVV",n.readonlyVal="true"===n.readonly?!0:!1,n.showArrowVal="false"===n.showArrow?!1:!0,n.card.expMonth=n.card.expMonth||n.card.ExpireMonth,n.card.expYear=n.card.expYear||n.card.ExpireYear,n.card.cardTypeName=n.card.cardTypeName||n.card.CardTypeName,!n.card.ccCssClass&&n.card.cardTypeName){var i=t(n.card.cardTypeName);n.card.ccCssClass=i["class"],n.card.cardType=i.type}n.validateCVV=function(){n.frmCVV.$valid?(n.frmCVV.$setPristine(),n.onSave()):(a(),n.onDirty())},n.$watch("frmCVV.$dirty",function(e){e&&angular.isFunction(n.onDirty)&&n.onDirty()});var s=e.$on("vnPayment.validate",function(){n.validateCVV(),e.$emit("vnPayment.validate.continue")});n.$on("$destroy",function(){s()})}}}]),angular.module("Volusion.toolboxCommon").directive("vnCreditCardEditor",["$rootScope","vnCreditCardClass","lodash",function(e,t,n){return{restrict:"EA",scope:{card:"=",title:"@",onSave:"&",onDirty:"&",showSaveButton:"@",saveText:"@",showCancelButton:"@",cancelText:"@",onCancel:"&"},templateUrl:"checkout/pay-with/vn-credit-card-editor.html",link:function(a){function i(){a.card&&a.card.cardTypeName&&"American Express"===a.card.cardTypeName&&(a.cvvLength=4)}function s(){if(void 0!==a.card.cardNumber&&-1!==a.card.cardNumber.indexOf("*")){var e=t(a.card.cardTypeName);return a.card.ccCssClass=e["class"],void(a.card.cardType=e.type)}if(void 0===a.card.cardNumber||""===a.card.cardNumber)return void(a.card.ccCssClass="th-credit-card__img--notvalid");a.card.cardTypeName="",/^(34)|^(37)/.test(a.card.cardNumber)&&(a.card.cardTypeName="American Express"),/^4/.test(a.card.cardNumber)&&(a.card.cardTypeName="Visa"),/^5[1-5]/.test(a.card.cardNumber)&&(a.card.cardTypeName="MasterCard"),/^(6011)|^(622(1(2[6-9]|[3-9][0-9])|[2-8][0-9]{2}|9([01][0-9]|2[0-5])))|^(64[4-9])|^65/.test(a.card.cardNumber)&&(a.card.cardTypeName="Discover");var n=t(a.card.cardTypeName);a.card.ccCssClass=n["class"],a.card.cardType=n.type,a.creditCardSupported=-1!==a.card.CardType&&""!==a.card.CardType?"valid":void 0}function d(){for(var e in a.frmCreditCard)a.frmCreditCard.hasOwnProperty(e)&&e.indexOf("$")<0&&(a.frmCreditCard[e].$setDirty(),a.frmCreditCard[e].$setTouched())}function o(){if(a.card.expMonth&&a.card.expYear){var e=new Date;a.expDateInvalid="valid",parseInt("20"+a.card.expYear)===e.getFullYear()&&parseInt(a.card.expMonth)<e.getMonth()+1&&(a.expDateInvalid=void 0,a.frmCreditCard.inputCreditCardExpMonth.$setValidity("expmonth",!1),a.frmCreditCard.inputCreditCardExpYear.$setValidity("expyear",!1))}}a.saveText=a.saveText||"Continue",a.cancelText=a.cancelText||"Cancel",a.showSaveButtonValue="false"===a.showSaveButton?!1:!0,a.showCancelButtonValue="true"===a.showCancelButton?!0:!1,a.disabledButton=!0,a.cvvLength=3,i(),a.expDateInvalid="valid",a.creditCardSupported="valid",a.saveText=a.saveText||"Add Credit Card",a.months=[{num:"01",label:"01 - January"},{num:"02",label:"02 - February"},{num:"03",label:"03 - March"},{num:"04",label:"04 - April"},{num:"05",label:"05 - May"},{num:"06",label:"06 - June"},{num:"07",label:"07 - July"},{num:"08",label:"08 - August"},{num:"09",label:"09 - September"},{num:"10",label:"10 - October"},{num:"11",label:"11 - November"},{num:"12",label:"12 - December"}],a.setCreditCardInfo=function(){var e=a.frmCreditCard.inputCreditCardNumber.$viewValue;if(void 0!==e&&-1!==e.indexOf("*")){var n=t(a.card.cardTypeName);return a.card.ccCssClass=n["class"],void(a.card.cardType=n.type)}if(void 0===e||""===e)return void(a.card.ccCssClass="th-credit-card__img--notvalid");a.card.cardTypeName="",/^(34)|^(37)/.test(e)&&(a.card.cardTypeName="American Express"),/^4/.test(e)&&(a.card.cardTypeName="Visa"),/^5[1-5]/.test(e)&&(a.card.cardTypeName="MasterCard"),/^(6011)|^(622(1(2[6-9]|[3-9][0-9])|[2-8][0-9]{2}|9([01][0-9]|2[0-5])))|^(64[4-9])|^65/.test(e)&&(a.card.cardTypeName="Discover");var i=t(a.card.cardTypeName);a.card.ccCssClass=i["class"],a.card.cardType=i.type,a.creditCardSupported=-1!==a.card.CardType&&""!==a.card.CardType?"valid":void 0},a.rangeYears=function(){var e,t=[],n=(new Date).getFullYear();for(e=n;n+15>=e;e++)t.push(e);return t},a.validateChange=function(e){a.disabledButton=!0;var t;return a.cvvLength=3,i(),a.expDateInvalid=void 0,a.card.cardNumber&&-1===a.card.cardNumber.indexOf("*")&&(t=a.card.cardNumber.replace(/[^\d]+/g,""),a.frmCreditCard.inputCreditCardNumber.$setValidity("creditcard",!a.frmCreditCard.inputCreditCardNumber.$invalid&&void 0!==a.creditCardSupported)),a.card.CVV&&-1===a.card.CVV.indexOf("*")&&(t=a.card.CVV.replace(/[^\d]+/g,""),a.frmCreditCard.inputCreditCardCVV.$setValidity("cvv",t.toString().length===a.cvvLength)),a.card.expMonth?a.frmCreditCard.inputCreditCardExpMonth.$setValidity("expmonth",!0):a.frmCreditCard.inputCreditCardExpMonth.$setValidity("expmonth",!1),a.card.expYear?a.frmCreditCard.inputCreditCardExpYear.$setValidity("expyear",!0):a.frmCreditCard.inputCreditCardExpYear.$setValidity("expyear",!1),o(),a.frmCreditCard.$valid?(a.frmCreditCard.preferred=!0,a.frmCreditCard.$setPristine(),e&&e(),a.disabledButton=!1,!0):(e&&d(),!1)},a.onExpMonthChanged=function(e,t){a.card.expMonth=e.num;var n=angular.element("#"+t);n.focus(),n.triggerHandler("change"),o(),a.validateChange()},a.onExpYearChanged=function(e,t){a.card.expYear=e.toString().substring(2);var n=angular.element("#"+t);n.focus(),n.triggerHandler("change"),o(),a.validateChange()},a.setCCImage=function(e){void 0===e?a.card.ccCssClass="AMEX"===a.card.cardTypeName?"th-credit-card__img--amex-flipped":"th-credit-card__img--flipped":s()},a.displayLast4=function(){return a.card.cardNumber.slice(-4)},a.displayExpDate=function(){var e="";return e=""===a.card.expMonth?"":a.card.expMonth,e+=""===a.card.expYear?"":"/"+a.card.expYear},a.saveCard=function(){a.validateChange(a.onSave)},a.frmCreditCard.$setPristine();var r=a.$watch("frmCreditCard.$dirty",function(e){e&&(n.isFunction(a.onDirty)&&a.onDirty(),r())});a.$watch("card.cardNumber",function(){s()});var c=e.$on("vnPayment.validate",function(){a.saveCard()&&e.$emit("vnPayment.validate.continue")});a.$on("$destroy",function(){c()})}}}]),angular.module("Volusion.toolboxCommon").directive("vnCreditCardPicker",["vnCreditCardClass",function(e){return{replace:!0,restrict:"EA",scope:{cardList:"=",state:"=",openCreditCards:"@",onSelect:"&",enterCard:"&",closePicker:"&",choosePicker:"&",setPaymentProfile:"&",selectedIndex:"=",card:"=",onSaveCard:"&",onDirtyCard:"&"},templateUrl:"checkout/pay-with/vn-credit-card-picker.html",link:function(t){t.addCard=function(){t.card={cardNumber:"",expMonth:"",expYear:""},t.state="ENTER"},t.goBackFromEnter=function(){t.state="PICK"},t.setIndex=function(e){t.selectedIndex=e},t.getCssClass=function(t){return e(t.card.cardTypeName.toUpperCase())["class"]}}}}]),angular.module("Volusion.toolboxCommon").factory("vnCreditCardUtilities",["lodash",function(e){return{maskCardValue:function(e){var t=new RegExp("[\\s-]","g"),n=e.replace(t,""),a=new RegExp("^(\\d+?)\\d{4}$"),i=n.match(a),s=n,d="*",o="";if(null!==i){for(var r=1;r<i.length;r++){o="";for(var c=0;c<i[r].length;c++)o+=d;s=s.replace(i[r],o)}for(var l=s.length-1;l>=0;l--)s.charAt(l)===d;return s}return null;

},newCard:function(){return{cardNumber:"",expMonth:"",expYear:""}},setPreferredPaymentProfile:function(t,n){e.forEach(t,function(e,t){e.preferred=n===t})},getPreferredPaymentProfile:function(t){return e.find(t,function(e){return e.preferred})||t[0]},removePaymentProfileFromList:function(t,n){return e.reject(t,function(e){return e.id===n.id})}}}]),angular.module("Volusion.toolboxCommon").controller("ReviewDetailsCtrl",["$rootScope","$scope","$filter","vnCheckout","vnCreditCardClass","lodash",function(e,t,n,a,i,s){"use strict";var d=a.get();t.orderId=d.orderId,t.userEmail=d.user.email,t.isShippingLocationUS="United States"===d.cart.shippingAddress.country,t.shippingAddress=d.cart.shippingAddress,t.shippingMethod=s.find(d.cart.shippingMethods,function(e){return e.selected===!0}),t.isBillingLocationUS="United States"===d.cart.billingAddress.country,t.billingAddress=d.cart.billingAddress,t.payment=d.cart.paymentProfile,t.payment.total=d.cart.totals,t.payment.ccCssClass=i(t.payment.CardTypeName)["class"],e.$on("checkout.shippingMethod.changed",function(){t.shippingMethod=s.find(d.cart.shippingMethods,function(e){return e.selected===!0})})}]),angular.module("Volusion.toolboxCommon").directive("vnReviewDetails",[function(){return{restrict:"A",replace:!0,templateUrl:"checkout/review/vn-review-details.html",scope:{shippingAddress:"=",shippingMethod:"=",payment:"=",billingAddress:"=",paypalEmail:"@"}}}]),angular.module("Volusion.toolboxCommon").directive("vnReview",[function(){return{restrict:"A",replace:!0,templateUrl:"checkout/review/vn-review.html",scope:{cart:"=vnReview"}}}]),angular.module("Volusion.toolboxCommon").controller("ShipMethodCtrl",["$rootScope","$scope","vnCheckout",function(e,t,n){"use strict";var a=1;t.checkout=n.get(),t.currentShippingMethodIdx=0;var i=!0;t.isEditable=function(){return t.checkout.currentStep===a&&i?"edit":"show"},t.setPreferredShippingMethod=function(a){angular.forEach(t.checkout.cart.shippingMethods,function(e){return t.checkout.cart.shippingMethods[a].id===e.id?(t.currentShippingMethodIdx=a,e.selected=!0,void n.setShipMethodValidity(!0)):void(e.selected=!1)}),e.$emit("checkout.shippingMethod.changed"),n.updateCart(),i=!1},t.editShippingMethod=function(){i=!0}}]),angular.module("Volusion.toolboxCommon").controller("ShipToViewsCtrl",["$scope","$rootScope","$window","vnAddressUtilities","vnCheckout","vnUser",function(e,t,n,a,i,s){var d=this;d.state=null,d.showCopyAddress=!1,d.showSaveButton=!0,d.init=function(){d.checkout=i.get(),d.user=s.getUser(),d.user.anonymous?(d.shippingAddress=a.createEmptyAddress(),d.state="EDITADDRESS"):s.getShippingAddresses().then(function(){d.user.shippingAddresses&&d.user.shippingAddresses.length?(d.shippingAddress=a.getPreferredAddress(d.user.shippingAddresses),d.saveShippingAddress()):(d.shippingAddress=a.createEmptyAddress(),d.state="EDITADDRESS")}),i.getCountries().then(function(e){d.countries=e.data})},d.editShippingAddress=function(){d.state=!d.user.anonymous&&d.user.shippingAddresses&&d.user.shippingAddresses.length?"PICKADDRESS":"EDITADDRESS",e.$emit("vnShipTo.edit")},d.onAddressSelected=function(){d.shippingAddress=a.getPreferredAddress(d.user.shippingAddresses),d.saveShippingAddress()},d.onAddressAdded=function(e){d.shippingAddress=e,d.saveShippingAddress()},d.saveShippingAddress=function(){n.scrollTo(0,0),t.$emit("checkout.stepOneLoading"),i.setShipToValidity(!0),i.setShippingAddress(d.shippingAddress),s.setShippingAddress(d.shippingAddress),i.updateCart(),d.state="VIEWADDRESS",e.$emit("vnShipTo.edit.done")};var o=t.$on("cartUpdated",function(){t.$emit("checkout.stopLoading")});e.$on("$destroy",function(){o()})}]),angular.module("Volusion.toolboxCommon").directive("vnTabIndex",["$rootScope","$timeout",function(e,t){"use strict";return{restrict:"A",link:function(n){function a(){angular.element(".th-checkout__step input, .th-checkout__step .form-control, .th-checkout__step label, .th-checkout__step button, .th-checkout-footer a, .th-checkout__step a, .th-checkout-header a").attr("tabindex","-1"),angular.element(".th-checkout__step.-active input, .th-checkout__step.-active .form-control, .th-checkout__step.-active label, .th-checkout__step.-active button, .th-checkout__step.-active a").attr("tabindex","0")}a();var i=e.$on("checkout.stepChanged",function(){t(function(){a()},0)});n.$on("$destroy",function(){i()})}}}]),angular.module("Volusion.toolboxCommon").controller("ThankYouCtrl",["$scope","vnCheckout","lodash","$location",function(e,t,n,a){"use strict";var i=t.get();return"undefined"==typeof i.orderId||-1===i.orderId?void a.path("/"):(e.orderId=i.orderId,e.userEmail=i.user.email,e.paypalEmail=i.user.paypalEmail,e.checkout=angular.copy(i,{}),t.updateCart(),void(e.shippingMethod=n.find(e.checkout.cart.shippingMethods,function(e){return e.selected===!0})))}]),angular.module("Volusion.toolboxCommon").value("paypalConfig",{inContextUrl:"//166.78.8.98/cgi-bin/aries.cgi?sandbox=1",checkoutUrl:"//www.paypalobjects.com/api/checkout.js",merchantId:"Paypal has very poor documentation"}),angular.module("Volusion.toolboxCommon").provider("vnAppConfig",[function(){function e(){this.AppConfig=function(){return this},this.getApiHost=function(){return t},this.getApiUrl=function(){return n},this.getLoginUrl=function(){return t+"/ajax_receiver.asp?system=login"},this.getForgotPasswordUrl=function(){return t+"/ajax_receiver.asp?system=forgotpassword"}}var t,n,a="us",i=!1,s="en",d="us",o="";this.setApiPath=function(e,a){t=e,n=e+a},this.getApiPath=function(){return n},this.getCountry=function(){return a},this.getIsLocalEnv=function(){return""!==t},this.getLang=function(){return s},this.getPrefix=function(){return o},this.getRegion=function(){return d},this.getTranslations=function(){return i},this.setCountry=function(e){a=e},this.setLang=function(e){s=e},this.setPrefix=function(e){o=e},this.setRegion=function(e){d=e},this.setTranslations=function(e){i=e},this.$get=function(){return new e}}]),angular.module("Volusion.toolboxCommon").service("vnSiteConfig",["vnApi","$q",function(e,t){var n={};return n.getConfig=function(){var n=t.defer();return e.Configuration().get().$promise.then(function(e){n.resolve(e)}),n.promise},n}]),angular.module("Volusion.toolboxCommon").controller("CategoryCtrl",["$q","$scope","$rootScope","$stateParams","$location","$route","vnApi","vnProductParams","vnAppRoute","vnContentManager",function(e,t,n,a,i,s,d,o,r,c){"use strict";t.checkForFacetFilters=function(){return o.getFacetString()?!0:void 0},t.clearAllFilters=function(){o.resetParams(),o.addCategory(t.category.id),t.queryProducts(),t.isMobileAndVisible&&t.toggleSearch()},t.dismissMobileFilters=function(){t.toggleSearch()},t.getCategory=function(e){d.Category().get({slug:e}).$promise.then(function(e){t.category=e.data,o.addCategory(e.data.id),t.queryProducts()})},t.queryProducts=function(){var e=o.getParamsObject();d.Product().get(e).$promise.then(function(e){t.products=e.data,t.facets=e.facets,t.categoryList=e.categories,t.cursor=e.cursor,t.checkFacetsAndCategories(e.categories,e.facets)})},t.toggleSearch=function(){return t.mobileDisplay?(t.mobileDisplay=!1,t.isMobileAndVisible=!1,t.isMobileAndHidden=!0,void c.showAppFooter()):(t.mobileDisplay=!0,t.isMobileAndVisible=!0,t.isMobileAndHidden=!1,void c.hideAppFooter())},t.$on("$destroy",function(){o.resetParams()}),t.$on("$viewContentLoaded",function(){r.setRouteStrategy("category"),t.getCategory(a.slug)})}]),angular.module("Volusion.toolboxCommon").controller("FooterCtrl",["$scope","vnContentManager",function(e,t){"use strict";e.$watch(function(){return t.getFooterState()},function(t){e.footerState=t},!0),e.$watch(function(){return t.getCheckoutFooterState()},function(t){e.checkoutFooterState=t},!0)}]),angular.module("Volusion.toolboxCommon").controller("OptionsCtrl",["$rootScope","$scope",function(e,t){"use strict";function n(e){var t=[];if(!e)return t;for(var n=0;n<e.length;n++){var a=e[n];a.isRequired&&a.derivesToSKU&&t.push(a.label)}return t}t.isItemAvailable=!1,t.itemToken=t.option.key+":"+t.item.key;var a=n(t.product.options).length;if(t.product.optionSKUs.length>0)for(var i=0;i<t.product.optionSKUs.length;i++){var s=1===a||t.product.optionSKUs[i].key!==t.itemToken;if(s&&t.product.optionSKUs[i].key.indexOf(t.itemToken)>-1&&t.product.optionSKUs[i].quantityInStock>0){t.isItemAvailable=!0;break}}else t.isItemAvailable=t.product.availability.allowBackOrders||null===t.product.availability.quantityInStock||t.product.availability.quantityInStock>0;t.$on("VN_PRODUCT_SELECTED",function(e,n,a){for(var i=0,s=0;s<t.product.options.length;s++)if(t.product.options[s].key===t.option.key){i=s;break}var d=a.split("|");d[i]=t.itemToken;for(var o=d.join("|"),r=0;r<t.product.optionSKUs.length;r++)o!==t.itemToken&&t.product.optionSKUs[r].key.indexOf(o)>-1&&(t.isItemAvailable=t.product.optionSKUs[r].quantityInStock>0)})}]),angular.module("Volusion.toolboxCommon").controller("ProductCtrl",["$rootScope","$scope","vnApi","$location","$stateParams","$filter","$anchorScroll","$translate","vnCart","vnAppMessageService","vnProduct",function(e,t,n,a,i,s,d,o,r,c,l){"use strict";function u(){null===l.getProductImage()&&l.setProductNoImage(["/images/theme/tcp-no-image.jpg","/images/theme/tcp-no-image.jpg","/images/theme/tcp-no-image.jpg"]),t.cartItem.options=t.cartItem.options||[],t.itemSelectionsNotInStock=l.findAvailability(),p()}function p(){var e="";t.popoverText="",t.buttonDisabled=!1;var n=l.findRequiredOptionsAreSelected();if(n.length>0){for(var a=0;a<n.length;a++)e+=s("uppercase")(n[a]),a!==n.length-1&&(e+=s("translate")("common.and"));return o("product.addToCartMissing",{missingOptions:e}).then(function(e){t.popoverText=e}),void(t.buttonDisabled=!0)}return l.isSelectionAvailable()?void 0:(t.popoverText=s("translate")("product.addToCartNotInStock"),void(t.buttonDisabled=!0))}t.accordionPanels={isopen1:!0},t.buttonWait=!1,t.carousel={interval:4e3},t.cartItem={},t.itemSelectionsNotInStock=!1,t.product={},t.tabs={relatedProducts:{active:!0},accessories:{active:!1}},t.device=e.device;var v={phone:150,desktop:500};n.Review().get().$promise.then(function(e){t.reviews=e}),"phone"===t.device.info.shortname?(t.showRatingBar=!1,t.reviewDescMax=v.phone):(t.showRatingBar=!0,t.reviewDescMax=v.desktop),e.$on("deviceType.phone",function(){t.showRatingBar=!1,t.reviewDescMax=v.phone}),e.$on("deviceType.tablet",function(){t.showRatingBar=!0,t.reviewDescMax=v.desktop}),e.$on("deviceType.desktop",function(){t.showRatingBar=!0,t.reviewDescMax=v.desktop}),t.toggleRatingBar=function(){t.showRatingBar=!t.showRatingBar},n.Product().get({slug:i.slug}).$promise.then(function(n){t.product=l.set(n.data);var i=encodeURIComponent(a.absUrl()),s=encodeURIComponent(t.product.name);e.social={pageType:"og:product",twitterCardType:"product",twitterName:"@volusion",pageTitle:s,pageDescription:t.product.descriptions["short"],pageUrl:i,imageUrl:0!==t.product.imageCollections.length&&0!==t.product.imageCollections[0].images.length?t.product.imageCollections[0].images[0].medium:"",productPrice:t.product.pricing.regularPrice,productCurrency:"$"===e.config.general.currencySymbol?"USD":""},l.setSocialSharing(i,s),l.setEditable(!1),t.cartItem=l.getProductCart(),t.device=e.device,angular.extend(e.seo,l.getProductSEO()),u()}).then(function(){t.product.code&&n.Review().get({code:t.product.code}).$promise.then(function(e){t.ratingsAndReviews=e});var e=t.product.categories[0].id;n.Product().get({categoryIds:e,pageNumber:1,pageSize:4}).$promise.then(function(e){t.relatedProducts=e.data}),n.Product().get({accessoriesOf:t.product.code,pageNumber:1,pageSize:4}).$promise.then(function(e){t.accessories=e.data})}),e.$on("VN_PRODUCT_SELECTED",function(e,n){t.product.optionSelection=n}),t.addToCart=function(){l.findRequiredOptionsAreSelected().length>0||!l.findOptionAvailability(t.product.optionSelection.key)||(t.buttonWait=!0,r.saveCart(t.cartItem).then(function(){e.openCart(),t.cartItem.qty=0})["finally"](function(){t.modifyQty(1),t.buttonWait=!1}))},t.modifyQty=function(e){t.cartItem.qty+=e,l.setQuantityInStock(e)},t.postValidateQty=function(){""===t.cartItem.qty&&(t.cartItem.qty=1)},t.goToReviews=function(){a.hash("product-reviews"),d()},t.getImagePath=function(e){var t=s("vnProductImageFilter")(e);return""===t?"/images/theme/tcp-no-image.jpg":t},t.$watch("product.optionSelection",function(e){function n(){t.cartItem.code=t.product.code,t.cartItem.id=t.product.id}function a(){return e.isValid?((void 0===t.cartItem.qty||0===t.cartItem.qty)&&(t.cartItem.qty=1),void(e.quantityInStock-=t.cartItem.qty)):(t.cartItem.qty=1,e.quantityInStock=0,void(t.product.optionSelection.quantityInStock=0))}void 0!==e&&(n(),a(),l.setProductImage(e.option.selected),p(),t.isAddToCartButtonEnabled=e.isValid&&t.cartItem.qty>0)})}]),angular.module("Volusion.toolboxCommon").controller("SearchCtrl",["$rootScope","$scope","$stateParams","$location","$window","$filter","vnApi","vnProductParams","vnContentManager","themeSettings","vnAppRoute",function(e,t,n,a,i,s,d,o,r,c,l){"use strict";t.searchLocal=o.getSearchText(),t.searchTerms=n.q,t.clearAllFilters=function(){o.resetParams(),o.setSort("relevance"),o.updateSearch(n.q),t.minPrice="",t.maxPrice="",t.queryProducts()},t.dismissMobileFilters=function(){t.toggleSearch()},t.initParams=function(){o.setPageSize(c.getPageSize()),n.q?(o.updateSearch(n.q),t.searchTerms=n.q,t.queryProducts()):(t.searchTerms=a.search("q","All Products"),t.queryProducts())},t.queryProducts=function(){var e=o.getParamsObject();d.Product().get(e).$promise.then(function(e){t.products=e.data,t.facets=e.facets,t.categoryList=e.categories,t.cursor=e.cursor,t.checkFacetsAndCategories(e.categories,e.facets),t.searchTerms=o.getSearchText()||"All Products"})},t.searchByPrice=function(e){13===e.which&&(o.setMinPrice(t.minPrice),o.setMaxPrice(t.maxPrice),t.queryProducts())},t.toggleSearch=function(){return t.mobileDisplay?(t.mobileDisplay=!1,t.isMobileAndVisible=!1,t.isMobileAndHidden=!0,void r.showAppFooter()):(t.mobileDisplay=!0,t.isMobileAndVisible=!0,void(t.isMobileAndHidden=r.hideAppFooter()))},t.$on("$destroy",function(){o.resetParams()}),t.$on("$viewContentLoaded",function(){t.initParams(),l.setRouteStrategy("search"),o.preLoadData(n)})}]),angular.module("Volusion.toolboxCommon").controller("VnProductOptionCtrl",["$rootScope","$scope",function(e,t){"use strict";function n(){a(t.product.options,null,function(e,t){e.selected=t.key})}function a(e,n,i){function s(e){return t.saveTo.filter(function(t){return t.id===e.id})}e&&(n=n||function(){return!0},angular.forEach(e,function(e){var t=e.items;if(t)for(var d=0,o=t.length;o>d;d++){var r=e.items[d],c=s(r);if(c.length>0){n(e)&&i(e,r),e.options&&e.options.length>0&&a(e.options,n,i);break}}}))}function i(){var e=[],n=function(e){return e.derivesToSKU};return a(t.product.options,n,function(t,n){e.push([t.key,n.key].join(":"))}),e.join("|")}function s(){var e=i(),n={};return n=t.product.optionSKUs.filter(function(t){return t.key===e})[0]}function d(e){if(!e)return!0;for(var t=0,n=e.length;n>t;t++){var a=e[t];if(a.isRequired&&!a.hasOwnProperty("selected"))return!1;if(a.options.length>0&&d(a.options)===!1)return!1}return!0}function o(n,a){var o=s(),r=i(),c=d(t.product.options);e.$broadcast("VN_PRODUCT_SELECTED",angular.extend({},{product:t.product,option:n,item:a,isValid:c},o),r)}t.onOptionChanged=function(e,a){t.currentSelectionText=a.text;var i=e.key,s=t.saveTo.filter(function(e){return e.id===a.id}),d=t.saveTo.filter(function(e){return e.option===i});0!==d.length&&0===s.length&&(t.saveTo=t.saveTo.filter(function(e){return e.option!==i})),0===s.length&&t.saveTo.push({id:a.id,option:i}),n(),o(e,a)},t.onCheckboxClicked=function(e,n){var a=e.key,i=t.saveTo.filter(function(e){return e.id===n.id});0===i.length?t.saveTo.push({id:n.id,option:a}):t.saveTo=t.saveTo.filter(function(e){return e.id!==n.id}),o(e,n)}}]),angular.module("Volusion.toolboxCommon").factory("ProductCollection",["Product",function(e){function t(t){angular.forEach(t.data,function(t){d.push(new e(t))});var n=new Date;s=n.getTime(),r=t.facets,l=t.cursor,c=t.categories}function n(){return d}function a(){return o}function i(){return r}var s,d=[],o=d.length,r={},c={},l={};return{updateCollection:t,getProductCollection:n,productCount:a,lastFacet:i}}]),angular.module("Volusion.toolboxCommon").factory("Product",function(){function e(e){this.id=e.id||null,this.code=e.code||null,this.name=e.name||null,this.url=e.url||null,this.slug=e.slug||null,this.pricing=e.pricing||null,this.avgRating=e.avgRating||null,this.currentImageCollection=e.imageCollection||null,this.cartItem=e.cartItem||null,this.productManufacturer=e.productManufacturer||null,this.availability=e.availability||null,this.photoAltText=e.photoAltText||null,this.shipping=e.shipping||null,this.isTaxable=e.isTaxable||null,this.isGiftWrapAvailable=e.isGiftWrapAvailable||null,this.giftWrap=e.giftWrap||null,this.descriptions=e.descriptions||null,this.pricing=e.pricing}return e}),angular.module("Volusion.toolboxCommon").value("vnApiConfigurations",{}),angular.module("Volusion.toolboxCommon").factory("vnApi",["$q","$resource","$location","$http","vnAppConfig","vnResourceTypes",function(e,t,n,a,i,s){"use strict";function d(){return x.resource=s.article,t(i.getApiUrl()+"/articles?slug=:slug",{slug:"@slug"},{get:{method:"GET",withCredentials:!0,headers:x},save:{method:"POST",withCredentials:!0,headers:x},query:{method:"GET",withCredentials:!0,isArray:!1,headers:x},remove:{method:"DELETE",withCredentials:!0,headers:x},"delete":{method:"DELETE",withCredentials:!0,headers:x}})}function o(){return x.resource=s.category,t(i.getApiUrl()+"/categories/:id",{id:"@id"},{get:{method:"GET",withCredentials:!0,headers:x},save:{method:"POST",withCredentials:!0,headers:x},query:{method:"GET",withCredentials:!0,isArray:!1,headers:x},remove:{method:"DELETE",withCredentials:!0,headers:x},"delete":{method:"DELETE",withCredentials:!0,headers:x}})}function r(){return x.resource=s.cart,t(i.getApiUrl()+"/carts",{},{get:{method:"GET",withCredentials:!0,headers:x},save:{method:"POST",withCredentials:!0,headers:x},update:{method:"PUT",withCredentials:!0,headers:x},query:{method:"GET",withCredentials:!0,isArray:!1,headers:x},remove:{method:"DELETE",withCredentials:!0,headers:x},"delete":{method:"DELETE",withCredentials:!0,headers:x}})}function c(){return x.resource=s.config,t(i.getApiUrl()+"/config",{},{get:{method:"GET",withCredentials:!0,headers:x}})}function l(){return x.resource="countries",t(i.getApiUrl()+"/countries",{},{query:{method:"GET",withCredentials:!0,isArray:!1,headers:x}})}function u(){return x.resource=s.nav,t(i.getApiUrl()+"/navs/:navId",{navId:"@navId"},{get:{method:"GET",withCredentials:!0,headers:x},save:{method:"POST",withCredentials:!0,headers:x},query:{method:"GET",withCredentials:!0,isArray:!1,headers:x},remove:{method:"DELETE",withCredentials:!0,headers:x},"delete":{method:"DELETE",withCredentials:!0,headers:x}})}function p(){return x.resource=s.product,t(i.getApiUrl()+"/products/:code",{code:"@code"},{get:{method:"GET",withCredentials:!0,headers:x},save:{method:"POST",withCredentials:!0,headers:x},query:{method:"GET",withCredentials:!0,isArray:!1,headers:x},remove:{method:"DELETE",withCredentials:!0,headers:x},"delete":{method:"DELETE",withCredentials:!0,headers:x}})}function v(){return x.resource=s.themesettings,t("/settings/themeSettings.json",{},{headers:x})}function h(){return x.resource=s.user,t(i.getApiUrl()+"/users",{},{get:{method:"GET",withCredentials:!0,headers:x},save:{method:"POST",withCredentials:!0,headers:x},update:{method:"PUT",withCredentials:!0,headers:x}})}function g(){return x.resource=s.shippingaddresses,t(i.getApiUrl()+"/users/current/shippingAddresses/:id",{id:"@id"},{get:{method:"GET",withCredentials:!0,headers:x},save:{method:"POST",withCredentials:!0,headers:x},update:{method:"PUT",withCredentials:!0,headers:x},"delete":{method:"DELETE",withCredentials:!0,headers:x}})}function m(){return x.resource=s.billingaddresses,t(i.getApiUrl()+"/users/current/billingAddresses/:id",{id:"@id"},{get:{method:"GET",withCredentials:!0,headers:x},save:{method:"POST",withCredentials:!0,headers:x},update:{method:"PUT",withCredentials:!0,headers:x},"delete":{method:"DELETE",withCredentials:!0,headers:x}})}function f(){return x.resource=s.paymentprofiles,t(i.getApiUrl()+"/users/current/paymentProfiles/:id",{id:"@id"},{get:{method:"GET",withCredentials:!0,headers:x},save:{method:"POST",withCredentials:!0,headers:x},update:{method:"PUT",withCredentials:!0,headers:x},"delete":{method:"DELETE",withCredentials:!0,headers:x}})}function y(){return x.resource=s.orders,t(i.getApiUrl()+"/orders/:id",{id:"@id"},{get:{method:"GET",withCredentials:!0,headers:x},save:{method:"POST",withCredentials:!0,headers:x}})}function _(){return x.resource=s.paypal,t(i.getApiUrl()+"/paypal/:token/details?payerid=:payerid",{token:"@token",payerid:"@payerid"},{get:{method:"GET",withCredentials:!0,headers:x}})}function b(){return x.resource=s.paypal,t(i.getApiUrl()+"/paypal/:token/checkout?payerid=:payerid",{token:"@token",payerid:"@payerid"},{get:{method:"GET",withCredentials:!0,headers:x},save:{method:"POST",withCredentials:!0,headers:x}})}function w(e){return a.get("http://localhost:3000/?direct=1&returnurl="+n.protocol()+"://"+n.host()+":"+n.port()+"/paypal-checkout&cancelurl="+n.protocol()+"://"+n.host()+":"+n.port()+"/&PAYMENTREQUEST_0_CURRENCYCODE=USD&PAYMENTREQUEST_0_AMT="+e)}function C(e,t,n){return a.post("http://localhost:3000/?token="+e+"&PayerID="+t+"&PAYMENTREQUEST_0_CURRENCYCODE=USD&PAYMENTREQUEST_0_AMT="+n)}function k(){return x.resource=s.orders,t(i.getApiUrl()+"/users/current/orders/:id",{id:"@id"},{get:{method:"GET",withCredentials:!0,headers:x},query:{method:"GET",withCredentials:!0,isArray:!1,headers:x},save:{method:"PUT",withCredentials:!0,headers:x}})}function A(){return{get:function(){return{$promise:{then:function(e){e({reviewCounts:[8,7,2,1,6],rating:4.2,pageSize:20,startIndex:0,pageCount:1,totalCount:1,items:[{id:6,productCode:"ah-chairbamboo",reviewTitle:"This is the greatest thing in the world",rate:5,numberFoundHelpful:1,numberFoundNotHelpful:5,name:"Anonymous shopper",reviewDescription:"Straighten your unruly hair without the hassle with this first-class flat iron. Kiss your kinks, curls and snarls goodbye and give a warm welcome to healthy, shiny hair. This iron heats to 200°F and includes a 10-year limited warranty to keep you looking classy for years to come. Take your pick of two fierce colors, black or pink, and even add a personal touch by engraving your name or message right on the iron! Don't let your friends borrow this one they'll never want to give it back!",date:"3 weeks ago"},{id:7,productCode:"ah-chairbamboo",reviewTitle:"This product stinks!!!",rate:1,numberFoundHelpful:20,numberFoundNotHelpful:1,name:"Bradley Sobie",location:"Austin TX",reviewDescription:"Very comfortable chair! It's made from eco-friendly bamboo, too!",date:"1 year ago"}]})}}}}}}var x={resource:""};return{Article:d,BillingAddresses:m,Category:o,Cart:r,Configuration:c,Country:l,CustomerOrders:k,Nav:u,Orders:y,PaymentProfiles:f,Paypal:_,PaypalCheckout:b,PaypalURL:w,PaypalOrder:C,Product:p,Review:A,ShippingAddresses:g,ThemeSettings:v,User:h}}]),angular.module("Volusion.toolboxCommon").provider("vnDataEndpoint",function(){"use strict";function e(){this.VnDataEndpoint=function(){return this},this.getApiUrl=function(){return t}}var t="http://www.samplestore.io/api/v1";this.$get=function(){return new e},this.setApiUrl=function(e){t=e}}),angular.module("Volusion.toolboxCommon").value("vnEnvironment",{name:"Production"}),angular.module("Volusion.toolboxCommon").directive("vnScrollToTop",["$timeout",function(e){"use strict";return{restrict:"A",scope:{vnScrollToTop:"="},link:function(t,n){t.$watch("vnScrollToTop",function(t){t&&e(function(){angular.element(n)[0].scrollTop=0})})}}}]),angular.module("Volusion.toolboxCommon").directive("vnSetFocusIf",[function(){"use strict";return{restrict:"A",scope:{vnSetFocusIf:"="},link:function(e,t){e.$watch("vnSetFocusIf",function(e){void 0===e&&t[0].focus()})}}}]),angular.module("Volusion.toolboxCommon").directive("vnAutoGrow",function(){"use strict";return{restrict:"A",link:function(e,t,n){n.$set("ngTrim","false");var a=function(){t.css("height","auto"),t.css("height",t[0].scrollHeight+"px")};e.$watch(n.ngModel,function(){a()}),t.bind("keydown",a)}}}),angular.module("Volusion.toolboxCommon").directive("vnBlock",["vnBem",function(e){return{restrict:"A",controller:function(){this.getBlock=function(){return this.block},this.getModifiers=function(){return this.modifiers}},compile:function(){return{pre:function(t,n,a,i){var s=a.vnBlock,d=a.vnModifiers;e.addClasses(n,{block:s,blockModifiers:d}),i.block=s,i.modifiers=d}}}}}]),angular.module("Volusion.toolboxCommon").directive("vnCarousel",["$rootScope",function(e){"use strict";return{templateUrl:"template/carousel.html",restrict:"EA",replace:!0,scope:{currMode:"@currMode",carouselObjects:"="},link:function(t,n){void 0===t.currMode&&(t.currMode="on"),t.componentId="100001",t.componentName="carousel",t.selected=!1,t.$on("currentComponent.change",function(e,n){n&&n.id&&"off"===t.currMode&&(t.selected=n.id===t.componentId)}),n.on("click",function(n){"off"===t.currMode&&(n.preventDefault(),e.$broadcast("currentComponent.change",{id:t.componentId,name:t.componentName,action:"set"}))}),$(".carousel").carousel({interval:5e3,pause:"hover",wrap:!0}),t.prev=function(){$(".carousel").carousel("prev")},t.next=function(){$(".carousel").carousel("next")}}}}]).run(["$templateCache",function(e){"use strict";e.put("template/carousel.html",'<div id="vnCarousel" class="carousel slide" data-ride="carousel"><!-- Indicators --><ol class="carousel-indicators"><li data-ng-repeat="image in imageList" data-target="#vnCarousel" data-slide-to="{{ $index }}"></li></ol><div data-ng-repeat="image in imageList" class="carousel-inner"><div class="item active"><img data-src="" alt="First slide" src="{{ image.src }}"><div class="container"><h1>Example headline.</h1><p>Note: If you\'re viewing this page via a <code>file://</code> URL, the "next" and "previous"  might not load/display properly.</p><p><a class="btn btn-lg btn-primary" href="#" role="button">Sign up today</a></p></div></div><a class="left carousel-control" href="#myCarousel" data-slide="prev"><span class="glyphicon glyphicon-chevron-left"></span></a><a class="right carousel-control" href="#myCarousel" data-slide="next"><span class="glyphicon glyphicon-chevron-right"></span></a></div></div>')}]),angular.module("Volusion.toolboxCommon").directive("vnCategorySearch",["$rootScope","$routeParams","$location","vnProductParams","vnAppRoute",function(e,t,n,a,i){"use strict";return{templateUrl:"vn-faceted-search/vn-category-search.html",restrict:"AE",scope:{categories:"=",queryProducts:"&"},link:function(e){function s(e){angular.extend(e,{displayStrategy:"categoryDisplayOne"})}function d(e){angular.extend(e,{displayStrategy:"categoryDisplayTwo"})}function o(e){angular.forEach(e,function(e){angular.extend(e,{displayStrategy:"categoryDisplayThree"}),angular.forEach(e.subCategories,function(e){angular.extend(e,{hideSubCatLink:!0})})})}function r(e,t){for(var n=!1,a=t.subCategories.length-1;a>=0;a--)e===t.subCategories[a].slug?(angular.extend(t.subCategories[a],{hideSubCatLink:!0}),n=!0):angular.extend(t.subCategories[a],{hideSubCatLink:!1});return n}function c(){function e(e){return e.replace(/&$/,"")}var t,n,s,d,o="";if(t=a.getFacetString(),n=a.getMinPrice(),s=a.getMaxPrice(),d=a.getCategoryString(),""===d&&""===t&&""===n&&""===s)return"";if(o+="?","search"===i.getRouteStrategy()&&""!==d){var r="categoryId="+d+"&";o+=r}if(""!==t){var c="facetIds="+t+"&";o+=c}if(""!==n){var l="minPrice="+n+"&";o+=l}if(""!==s){var u="maxPrice="+s+"&";o+=u}return o=e(o)}e.updateCategory=function(t){a.addCategory(t.id),e.queryProducts()},e.buildAppUrl=function(t){if("search"===i.getRouteStrategy())a.addCategory(t.id),e.queryProducts();else if("category"===i.getRouteStrategy()){var s=t.url;n.path(s)}},e.$watch(t,function(){e.currentRoute=c()},!0),e.$watch("categories",function(e){e&&e[0]&&("/search"===n.path()?o(e):1===e.length&&t.slug===e[0].slug?s(e[0]):1===e.length&&r(t.slug,e[0])&&d(e[0]))})}}}]),angular.module("Volusion.toolboxCommon").directive("vnElement",["vnBem",function(e){return{require:"^vnBlock",restrict:"A",compile:function(){return function(t,n,a,i){e.addClasses(n,{block:i.getBlock(),blockModifiers:i.getModifiers(),element:a.vnElement,elementModifiers:a.vnModifiers})}}}}]),angular.module("Volusion.toolboxCommon").directive("vnFacetSearch",["$rootScope","$window","vnProductParams",function(e,t,n){"use strict";return{templateUrl:"vn-faceted-search/vn-facet-search.html",restrict:"AE",scope:{facets:"=",queryProducts:"&"},link:function(e){enquire.register("screen and (max-width:767px)",{setup:function(){e.defaultAccordianOpen=!0},unmatch:function(){e.defaultAccordianOpen=!0},match:function(){e.defaultAccordianOpen=!1}}),e.selectProperty=function(e){return n.isFacetSelected(e.id)},e.refineFacetSearch=function(t){n.isFacetSelected(t.id)?n.removeFacet(t.id):n.addFacet(t.id),e.queryProducts()},e.$watch("facets",function(t){e.facets=t})}}}]),angular.module("Volusion.toolboxCommon").directive("vnFacetedSearch",["$window","$location","vnProductParams",function(e,t,n){"use strict";return{templateUrl:"vn-faceted-search/vn-faceted-search.html",restrict:"EA",link:function(e){e.showCategorySearch=!1,e.showFacetSearch=!0,e.showApplyButton=!1,e.checkFacetsAndCategories=function(t,n){e.hasFacetsOrCategories=t&&t.length||n&&n.length?!0:!1};var a,i=t.url();a=/^\/search/,e.onSearchPage=a.test(i),e.$watch("categoryList",function(t){t&&(e.showCategorySearch=!0)}),e.$watch("facets",function(t){t&&(e.showFacetSearch=!0)}),e.$watch(function(){return n.getSort()},function(t){e.currentSort=t}),enquire.register("screen and (max-width:767px)",{setup:function(){e.showApplyButton=!1,e.mobileDisplay=!0,e.showMobileSearch=!1,e.isMobileAndVisible=!1,e.isMobileAndHidden=!0,e.categoryAccordiansOpen=!0,e.priceAccordiansOpen=!0,e.sortAccordianIsOpen=!0},unmatch:function(){e.showApplyButton=!1,e.mobileDisplay=!0,e.showMobileSearch=!1,e.isMobileAndVisible=!1,e.isMobileAndHidden=!0,e.categoryAccordiansOpen=!0,e.priceAccordiansOpen=!0,e.sortAccordianIsOpen=!0},match:function(){e.showApplyButton=!0,e.mobileDisplay=!1,e.showMobileSearch=!0,e.isMobileAndVisible=!1,e.isMobileAndHidden=!0,e.categoryAccordiansOpen=!1,e.priceAccordiansOpen=!1,e.sortAccordianIsOpen=!1}})}}}]),angular.module("Volusion.toolboxCommon").directive("vnImage",["$rootScope",function(e){"use strict";return{templateUrl:"template/image.html",restrict:"EA",replace:!0,scope:{currMode:"@currMode",image:"="},link:function(t,n){void 0===t.currMode&&(t.currMode="on"),t.componentId="100002",t.componentName="image",t.selected=!1,t.$on("currentComponent.change",function(e,n){n&&n.id&&"off"===t.currMode&&(t.selected=n.id===t.componentId)}),n.on("click",function(n){"off"===t.currMode&&(n.preventDefault(),e.$broadcast("currentComponent.change",{id:t.componentId,name:t.componentName,action:"set"}))})}}}]).run(["$templateCache",function(e){"use strict";e.put("template/image.html",'<div class="vn-image"><p translate>VN-IMAGE-TITLE</p><img src="{{ image.src }}" alt="{{ image.alt }}" /></div>')}]),angular.module("Volusion.toolboxCommon").directive("vnLabeledRadio",function(){"use strict";return{require:"ngModel",restrict:"A",replace:!0,transclude:!0,templateUrl:"template/labeled-radio.html",scope:{ngModel:"=",name:"@",value:"@",ngValue:"=",ngChecked:"=",ngDisabled:"@",change:"&ngChange"},compile:function(e,t){var n=e.find("input"),a=t.value,i=t.ngValue;"undefined"!=typeof a&&"undefined"==typeof i&&n.removeAttr("data-ng-value")}}}).run(["$templateCache",function(e){"use strict";e.put("template/labeled-radio.html",'<label data-vn-block="vn-labeled-radio"><input data-vn-element="input" type="radio" name="{{name}}" value="{{value}}" data-ng-model="ngModel" data-ng-value="ngValue" data-ng-checked="ngChecked" data-ng-change="change()" data-ng-disabled="{{ngDisabled}}"><span data-vn-element="content" data-ng-transclude></span></label>');

}]),angular.module("Volusion.toolboxCommon").directive("vnLink",["$rootScope",function(e){"use strict";return{templateUrl:"template/link.html",restrict:"EA",transclude:!0,replace:!0,scope:{currMode:"@"},link:function(t,n){void 0===t.currMode&&(t.currMode="on"),t.componentId="100003",t.componentName="link",t.selected=!1,t.$on("currentComponent.change",function(e,n){n&&n.id&&"off"===t.currMode&&(t.selected=n.id===t.componentId)}),n.on("click",function(n){"off"===t.currMode&&(n.preventDefault(),e.$broadcast("currentComponent.change",{id:t.componentId,name:t.componentName,action:"set"}))})}}}]).run(["$templateCache",function(e){"use strict";e.put("template/link.html",'<a class="vn-link" data-ng-transclude></a>')}]),angular.module("Volusion.toolboxCommon").directive("vnMetaTags",function(){"use strict";return{restrict:"EA",scope:{title:"=",description:"=",keywords:"=",toAppend:"=",robots:"=",socialPageType:"=",socialPageTitle:"=",socialPageDescription:"=",socialPageUrl:"=",socialImageUrl:"=",socialProductPrice:"=",socialProductCurrency:"=",socialTwitterCardType:"=",socialTwitterSite:"=",socialTwitterCreator:"=",socialTwitterTitle:"=",socialTwitterImage:"="},link:function(e,t){var n=function(e){"undefined"!=typeof e&&t.append(e)},a=function(e){var n=t.find("title");n.length>0&&n.remove(),e&&t.append(angular.element("<title/>").text(e))},i=function(e,n,a){var i=t.find("meta["+a+'="'+e+'"]');if(i.length>0&&i.remove(),n)try{n=decodeURIComponent(n)}catch(s){}finally{t.append(angular.element("<meta/>").attr(a,e).attr("content",n))}},s=function(e){i("description",e,"name")},d=function(e){i("keywords",e,"name")},o=function(e){i("og:type",e,"property")},r=function(e){i("og:title",e,"property")},c=function(e){i("og:description",e,"property")},l=function(e){i("og:url",e,"property")},u=function(e){i("og:image",e,"property")},p=function(e){i("og:product:price",e,"property")},v=function(e){i("og:product:currency",e,"property")},h=function(e){i("twitter:card",e,"name")},g=function(e){i("twitter:site",e,"name")},m=function(e){i("twitter:creator",e,"name")},f=function(e){i("twitter:title",e,"name")},y=function(e){i("twitter:image",e,"name")};e.$watch("socialPageType",o),e.$watch("socialPageTitle",r),e.$watch("socialPageDescription",c),e.$watch("socialPageUrl",l),e.$watch("socialImageUrl",u),e.$watch("socialProductPrice",p),e.$watch("socialProductCurrency",v),e.$watch("socialTwitterCardType",h),e.$watch("socialTwitterSite",g),e.$watch("socialTwitterCreator",m),e.$watch("socialTwitterTitle",f),e.$watch("socialTwitterImage",y),e.$watch("title",a),e.$watch("description",s),e.$watch("keywords",d),e.$watch("toAppend",n),e.$watch("robots",function(e){"undefined"!=typeof e&&JSON.parse(e)===!0&&(i("robots","index,follow","name"),i("GOOGLEBOT","INDEX,FOLLOW","name"))})}}}),angular.module("Volusion.toolboxCommon").directive("ngEnter",function(){return function(e,t,n){t.bind("keydown keypress",function(t){13===t.which&&(e.$apply(function(){e.$eval(n.ngEnter,{event:t})}),t.preventDefault())})}}),angular.module("Volusion.toolboxCommon").directive("vnPageName",["$rootScope",function(e){"use strict";return{restrict:"A",link:function(t,n){e.$on("$stateChangeSuccess",function(e,t){n.removeClass(function(e,t){return(t.match(/(^|\s)vn-page-\S+/g)||[]).join(" ")});for(var a=t.name.split("."),i=0;i<a.length;i++)n.addClass(0===i?"vn-page-"+a[i]:"vn-page-sub-"+a[i])})}}}]),angular.module("Volusion.toolboxCommon").directive("vnPlaceOrderBtn",[function(){"use strict";return{restrict:"A",templateUrl:"vn-place-order-btn/vn-place-order-btn.html",link:function(e,t){e.placeOrderFixed=!1;var n=$(".th-checkout__step__review");n.on("scroll",function(){(e.placeOrderFixed===!1&&n.scrollTop()>=160||e.placeOrderFixed===!0&&n.scrollTop()<160)&&(e.placeOrderFixed=!e.placeOrderFixed,e.$apply())}),t.on("$destroy",function(){n.off("scroll")})}}}]),angular.module("Volusion.toolboxCommon").directive("vnPriceSearch",["vnProductParams",function(e){return{templateUrl:"vn-faceted-search/vn-price-search.html",restrict:"AE",scope:{queryProducts:"&"},link:function(t){t.$watch(function(){return e.getMinPrice()},function(e){t.minPrice=e}),t.$watch(function(){return e.getMaxPrice()},function(e){t.maxPrice=e}),t.searchByPrice=function(n){e.setMinPrice(t.minPrice),e.setMaxPrice(t.maxPrice),(13===n.which||"click"===n.type)&&t.queryProducts()}}}}]),angular.module("Volusion.toolboxCommon").directive("vnProductOption",function(){return{restrict:"A",replace:!0,controller:"VnProductOptionCtrl",templateUrl:"vn-product-option/index.html",scope:{option:"=",product:"=",saveTo:"="}}}),angular.module("Volusion.toolboxCommon").directive("vnRating",["$rootScope",function(e){"use strict";return{templateUrl:"template/rating.html",restrict:"EA",replace:!0,scope:{currMode:"@currMode",editable:"=",maximum:"=",ratingValue:"="},link:function(t,n,a){function i(e){return t.ratingValue>=e+1?d:t.ratingValue>=e&&e+1-t.ratingValue<.3?d:e+1-t.ratingValue>=.29&&e+1-t.ratingValue<=.71?r:o}function s(){for(t.stars=[],c=0;l>c;c++)t.stars.push({cssClass:i(c)})}var d=a.filledClass||"fa fa-star star star--filled",o=a.emptyClass||"fa fa-star-o star star--empty",r=a.halfFilledClass||"fa fa-star-half-o star star--half-filled";t.title="undefined"!=typeof a.title?a.title:"Rating";var c,l=t.maximum||5;void 0===t.currMode&&(t.currMode="on"),(void 0===t.ratingValue||""===t.ratingValue)&&(t.ratingValue=0),t.componentId="100004",t.componentName="rating",t.selected=!1,t.$on("currentComponent.change",function(e,n){n&&n.id&&"off"===t.currMode&&(t.selected=n.id===t.componentId)}),n.on("click",function(n){"off"===t.currMode&&(n.preventDefault(),e.$broadcast("currentComponent.change",{id:t.componentId,name:t.componentName,action:"set"}))}),t.stars=[],t.$watch("ratingValue",function(e,t){(0===t||t)&&s()}),t.toggle=function(e){t.editable&&(t.ratingValue=e+1)}}}}]).run(["$templateCache",function(e){"use strict";e.put("template/rating.html",'<div class="vn-rating"><p class="vn-rating-title" data-ng-bind="title"></p><span data-ng-hide="true" itemprop="reviewRating" itemscope itemtype="http://schema.org/Rating"><span itemprop="ratingValue">{{ratingValue}}</span></span><ul class="rating"><li data-ng-repeat="star in stars" data-ng-click="toggle($index)"><i class=" {{ star.cssClass }} " /></li></ul></div>')}]),angular.module("Volusion.toolboxCommon").directive("vnSortSearch",["vnProductParams","vnSortDefault",function(e,t){"use strict";return{templateUrl:"vn-faceted-search/vn-sort-search.html",restrict:"AE",scope:{queryProducts:"&"},link:function(n){""===e.getSort()&&e.setSort(t),n.sortBy=function(t){e.setSort(t),n.queryProducts()}}}}]),function(){"use strict";angular.module("Volusion.toolboxCommon").directive("ngTextTruncate",["$compile","ValidationServices","CharBasedTruncation","WordBasedTruncation",function(e,t,n,a){return{restrict:"A",scope:{text:"=ngTextTruncate",charsThreshould:"=ngTtCharsThreshold",wordsThreshould:"@ngTtWordsThreshold",customMoreLabel:"@ngTtMoreLabel",customLessLabel:"@ngTtLessLabel"},controller:["$scope","$element","$attrs",function(e,t,n){e.toggleShow=function(){e.open=!e.open},e.useToggling=void 0===n.ngTtNoToggling}],link:function(e,i){e.open=!1,t.failIfWrongThreshouldConfig(e.charsThreshould,e.wordsThreshould);var s=parseInt(e.charsThreshould),d=parseInt(e.wordsThreshould);e.$watch("text",function(){i.empty(),s?e.text&&n.truncationApplies(e,s)?n.applyTruncation(s,e,i):i.append(e.text):e.text&&a.truncationApplies(e,d)?a.applyTruncation(d,e,i):i.append(e.text)})}}}]).factory("ValidationServices",function(){return{failIfWrongThreshouldConfig:function(e,t){if(!e&&!t||e&&t)throw"You must specify one, and only one, type of threshould (chars or words)"}}}).factory("CharBasedTruncation",["$compile",function(e){return{truncationApplies:function(e,t){return e.text.length>t},applyTruncation:function(t,n,a){if(n.useToggling){var i=angular.element("<span>"+n.text.substr(0,t)+"<span ng-show='!open'>...</span><span class='btn-link ngTruncateToggleText' ng-click='toggleShow()'ng-show='!open'> "+(n.customMoreLabel?n.customMoreLabel:"More")+"</span><span ng-show='open'>"+n.text.substring(t)+"<span class='btn-link ngTruncateToggleText'ng-click='toggleShow()'> "+(n.customLessLabel?n.customLessLabel:"Less")+"</span></span></span>");e(i)(n),a.append(i)}else a.append(n.text.substr(0,t)+"...")}}}]).factory("WordBasedTruncation",["$compile",function(e){return{truncationApplies:function(e,t){return e.text.split(" ").length>t},applyTruncation:function(t,n,a){var i=n.text.split(" ");if(n.useToggling){var s=angular.element("<span>"+i.slice(0,t).join(" ")+" <span ng-show='!open'>...</span><span class='btn-link ngTruncateToggleText' ng-click='toggleShow()'ng-show='!open'> "+(n.customMoreLabel?n.customMoreLabel:"More")+"</span><span ng-show='open'>"+i.slice(t,i.length).join(" ")+"<span class='btn-link ngTruncateToggleText'ng-click='toggleShow()'> "+(n.customLessLabel?n.customLessLabel:"Less")+"</span></span></span>");e(s)(n),a.append(s)}else a.append(i.slice(0,t).join(" ")+"...")}}}])}(),angular.module("Volusion.toolboxCommon").directive("vnShowOnDropdownHover",["$timeout",function(e){return{restrict:"A",link:function(t,n){var a,i=angular.element(n.parent().find("a")[0]);n.bind("mouseenter",function(){n.show(),e.cancel(a)}).bind("mouseleave",function(){a=e(function(){n.hide()},100)}),i.bind("mouseenter",function(){n.show(),e.cancel(a)}).bind("mouseleave",function(){a=e(function(){n.hide()},100)}).bind("click",function(){n.show()}),t.$on("$destroy",function(){e.cancel(a)})}}}]),angular.module("Volusion.toolboxCommon").directive("vnDropdown",["$window",function(){return{restrict:"E",replace:!0,scope:{availableoptions:"=",optionselect:"=",selectedOption:"=model",placeholder:"@",displayField:"@",selectedField:"@",name:"@",ngRequired:"="},templateUrl:"dropdown/vn-dropdown.tpl.html",link:function(e,t){e.button=angular.element(t).find("button"),e.options=e.availableoptions||[],e.changeOption=function(t){e.selectedOption=e.options[t],"function"==typeof e.optionselect&&e.optionselect(e.selectedOption),e.button.focus()},e.$watch("availableoptions",function(){"undefined"!=typeof e.availableoptions&&e.availableoptions.length>0&&(e.options=e.availableoptions.slice(),angular.forEach(e.options,function(t){t.displayValue=t[e.displayField||"name"],t.selectedDisplayValue=t[e.selectedField||"name"]}))}),e.$watch("selectedOption",function(t){t?e.button.focus():e.button.blur()})}}}]),angular.module("Volusion.toolboxCommon").directive("vnEasyZoom",function(){function e(e){t.standardSrc&&t.zoomSrc&&(e.swap(t.standardSrc,t.zoomSrc),t={})}var t={};return{restrict:"A",replace:!0,templateUrl:"easy-zoom/vnEasyZoom.tpl.html",scope:{ngSrc:"=",ezAdjacent:"=",ezOverlay:"=",ezZoomSrc:"=",alt:"@"},link:function(n,a){var i=a.easyZoom(),s=i.data("easyZoom");n.$watch("ngSrc",function(n){void 0!==n&&(t.standardSrc=n,e(s))}),n.$watch("ezZoomSrc",function(n){void 0!==n&&(t.zoomSrc=n,e(s))}),n.$on("$destroy",function(){s.teardown()})}}}),angular.module("Volusion.toolboxCommon").constant("VN_APP_EVENTS",{}),angular.module("Volusion.toolboxCommon").constant("VN_CHECKOUT_EVENTS",{}),angular.module("Volusion.toolboxCommon").constant("VN_DEVICE_EVENTS",{changed:"device.changed",networkChanged:"device.network.changed",accelerationChanged:"device.acceleration.changed",infoChanged:"device.info.changed",screenChanged:"device.screen.changed",screenOrientationChanged:"device.screen.orientation.changed",locationChanged:"device.location.changed"}),angular.module("Volusion.toolboxCommon").filter("vnCurrency",["$filter","$locale",function(e,t){"use strict";return function(n,a){var i=e("currency");return 0===n?"Free":"en-us"===t.id&&0>n?i(n,a).replace("(","-").replace(")",""):i(n,a)}}]),angular.module("Volusion.toolboxCommon").filter("vnProductImageFilter",function(){return function(e,t,n){function a(t,n){var a="";if(e.length>=0)for(var i=e.length-1;i>=0;i--){var s=e[i];if(t===s.key){a=s.images[0][n];break}}return a}var i="";if(e&&e.length<=0)i="";else if(1===arguments.length)i=a("default","medium");else{if(3!==arguments.length)throw new Error("vnProductImageFilter was unable to process the arguments supplied.");i=a(t,n)}return i}}),angular.module("Volusion.toolboxCommon").directive("vnFormatNumber",["$filter",function(e){"use strict";return{require:"?ngModel",link:function(t,n,a,i){i&&(i.$formatters.unshift(function(){return e("number")(i.$modelValue)}),i.$parsers.unshift(function(t){var a=t.replace(/[^\d|\-+|\.+]/g,"");return n.val(e("number")(a)),a}))}}}]).directive("vnFormatCcNumber",["$filter",function(e){"use strict";return{require:"?ngModel",link:function(t,n,a,i){i&&(i.$formatters.unshift(function(){var t=n.attr("data-vn-cc-type").toUpperCase();return e("vnCreditCard")(i.$modelValue,t)}),i.$parsers.unshift(function(t){var a="",i=n.attr("data-vn-cc-type").toUpperCase();return a=-1!==t.indexOf("*")&&"AMEX"!==i&&"AMERICAN EXPRESS"!==i&&19===t.length||("AMEX"===i||"AMERICAN EXPRESS"===i)&&18===t.length?t:t.replace(/[^\d]+/g,""),n.val(e("vnCreditCard")(a,i)),a}))}}}]).directive("vnFormatUsPhoneNumber",["$filter",function(e){"use strict";return{require:"?ngModel",link:function(t,n,a,i){i&&(i.$formatters.unshift(function(){return e("vnUsPhone")(i.$modelValue)}),i.$parsers.unshift(function(t){var a=t.replace(/[^\d]+/g,"");return n.val(e("vnUsPhone")(a)),a}))}}}]).directive("vnFormatZip",[function(){"use strict";return{require:"?ngModel",link:function(e,t,n,a){a&&(a.$formatters.unshift(function(){return a.$modelValue}),a.$parsers.unshift(function(e){var n=e.replace(/[^\d|^\-]/g,"");return t.val(n),n}))}}}]).directive("vnFormatQuantity",["$filter",function(e){"use strict";return{require:"?ngModel",link:function(t,n,a,i){i&&(i.$formatters.unshift(function(){return e("number")(i.$modelValue)}),i.$parsers.unshift(function(t){var a="";if(""!==t){t=parseInt(t.toString().replace(/\D/g,"")),(isNaN(t)||0===t)&&(t="");var s=9999999;t>s&&(t=s),a=e("number")(t),(0===parseInt(a)||void 0===parseInt(a))&&(a="")}return i.$setViewValue(t),n.val(a),t}))}}}]),angular.module("Volusion.toolboxCommon").directive("vnLegacyLink",["$window",function(e){return{restrict:"AE",link:function(t,n,a){a.$observe("vnLegacyLink",function(e){n.attr("href",e)}),n.on("click",function(t){t.preventDefault(),e.location.assign(this.href)})}}}]),angular.module("Volusion.toolboxCommon").filter("vnLegacyLinkify",function(){return function(e){var t=angular.element("<div/>").html(e);return angular.forEach(t.find("a"),function(e){var t=angular.element(e);t.attr("target",t.attr("target")||"_self")}),t.html()}}),angular.module("Volusion.toolboxCommon").controller("ForgotPasswordCtrl",["$scope","$state","vnAuthService","vnNotifications","vnModalService",function(e,t,n,a,i){"use strict";e.disabledButton=!0,e.forgotPassword=function(){e.disabledButton||(e.disabledButton=!0,n.forgotPassword(e.email).then(function(){a.displayMsg("success","An email has been sent to reset your password if you have an account."),t.go("login"),e.disabledButton=!1},function(){i.showError(),e.disabledButton=!1}))},e.checkValidity=function(){return e.frmForgotPassword.$pristine?void(e.disabledButton=!0):void(e.disabledButton=e.frmForgotPassword.$valid?!1:!0)}}]),angular.module("Volusion.toolboxCommon").controller("LoginCtrl",function(){"use strict"}),angular.module("Volusion.toolboxCommon").controller("LogoutCtrl",["$rootScope","$state","vnAuthService","VN_AUTH_EVENTS","vnUser",function(e,t,n,a,i){"use strict";e.$on(a.logoutSuccess,function(){t.go("home")}),i.reset(),n.logout()}]),angular.module("Volusion.toolboxCommon").directive("vnLoginEmail",["$q","$state","vnUser","vnApi","vnCheckout","vnNotifications",function(e,t,n,a,i,s){return{restrict:"AE",templateUrl:"login/vn-login-email.html",scope:{allowAnonymous:"@",buttonText:"@",redirectTo:"@",title:"@"},link:function(d){d.state="start",d.user={},d.checkEmail=function(){a.User().get({email:d.user.email}).$promise.then(function(){d.state="login"},function(){var a={email:d.user.email,password:"",firstName:"",lastName:"",emailOptIn:!1,anonymous:!0,customFields:{},autoLogin:!0};e.all([n.createFrom(a),i.initCart().promise]).then(function(e){n.setId(e[0].data.id),i.setUser(),t.go(d.redirectTo)})["catch"](function(e){s.displayErrors(e),d.disabledButton=!1})})}}}}]),angular.module("Volusion.toolboxCommon").directive("vnLoginLink",["$rootScope","VN_AUTH_EVENTS","vnUser",function(e,t,n){"use strict";return{restrict:"AE",templateUrl:"login/vn-login-link.html",link:function(a){a.loggedIn=!1;var i=function(){n.isLoggedIn().then(function(){a.loggedIn=!0},function(){a.loggedIn=!1})};i(),e.$on(t.loginSuccess,function(){i()}),e.$on("afterLoginSuccess",function(){i()}),e.$on(t.logoutSuccess,function(){i()})}}}]),angular.module("Volusion.toolboxCommon").directive("vnLogin",["$rootScope","vnUser","vnAuthService","vnCheckout","vnNotifications","VN_AUTH_EVENTS","$q","$state","vnModalService",function(e,t,n,a,i,s,d,o,r){return{restrict:"AE",templateUrl:"login/vn-login.html",scope:{allowAnonymous:"@",buttonText:"@",redirectTo:"@",title:"@",email:"@",showCreateAccount:"@",createAccountModal:"@"},link:function(c,l,u){c.allowAnonymous=!1,c.loginError=!1,c.clearError=function(){c.loginError=!1},c.title=c.title||"Enter your e-mail to get started",u.$observe("allowAnonymous",function(){u.allowAnonymous&&(c.allowAnonymous=c.$eval(u.allowAnonymous),!c.allowAnonymous&&c.user&&(c.user.anonymous=!1))}),c.showSignup=function(){"true"===c.createAccountModal?(e.$emit("closeLoginModal"),r.showSignup()):o.go("signup")},c.buttonText=c.buttonText||"Sign In",c.user={anonymous:!0},c.email&&(c.user.email=c.email),c.disabledButton=!0,c.validateChange=function(){c.disabledButton=!(c.user.email&&(c.user.anonymous&&c.allowAnonymous||c.user.password))},c.anonUser=function(){c.user.anonymous=!0,c.validateChange()},c.nonAnonUser=function(){c.user.anonymous=!1,c.validateChange()},c.updateUser=function(){if(!c.disabledButton)if(c.disabledButton=!0,c.frmLogin.$valid)if(e.$emit("app.loading.start"),e.$on(s.loginSuccess,function(){t.getCurrentUser().then(function(){e.$emit("app.loading.stop"),c.redirectTo&&o.go(c.redirectTo),e.$emit("afterLoginSuccess")})["catch"](function(t){e.$emit("app.loading.stop"),i.displayErrors(t),c.disabledButton=!1,c.loginError=t.message})}),e.$on(s.loginFailed,function(t,n){e.$emit("app.loading.stop"),c.loginError="Login Failed",c.disabledButton=!1,(n.Errors||n.data&&n.data.Errors)&&i.displayErrors(n.Errors||n.data.Errors)}),c.user.anonymous){var r={email:c.user.email,password:"",firstName:"",lastName:"",emailOptIn:!1,anonymous:!0,customFields:{},autoLogin:!0};d.all([t.createFrom(r),a.initCart().promise]).then(function(e){t.setId(e[0].data.id),a.setUser(),o.go(c.redirectTo)})["catch"](function(e){i.displayErrors(e),c.disabledButton=!1})}else{var l={CustomerNewOld:"old",Email:c.user.email,Password:c.user.password};n.login(l)}else for(var u in c.frmLogin)c.frmLogin.hasOwnProperty(u)&&u.indexOf("$")<0&&(c.frmLogin[u].$setDirty(),c.frmLogin[u].$setTouched())}}}}]),angular.module("Volusion.toolboxCommon").controller("vnLoginModalCtrl",["$scope","$rootScope",function(e,t){"use strict";t.$on("afterLoginSuccess",function(){e.$close()}),t.$on("closeLoginModal",function(){e.$close()}),t.$on("app.loading.start",function(){e.isLoading=!0}),t.$on("app.loading.stop",function(){e.isLoading=!1});var n=t.$on("$stateChangeSuccess",function(t,n){"forgot-password"===n.name&&e.$close()});e.$on("$destroy",function(){n()})}]),angular.module("Volusion.toolboxCommon").controller("vnWriteReviewCtrl",["$scope","$rootScope",function(){}]),angular.module("Volusion.toolboxCommon").factory("vnModalService",["$modal",function(e){return{showError:function(t,n){return e.open({templateUrl:t||"modal/vnErrorModal.tpl.html",scope:n})},showMessage:function(t,n){return e.open({templateUrl:t||"modal/vnModalMessage.tpl.html",scope:n})},showSignup:function(t){return e.open({templateUrl:"modal/vnSignup.tpl.html",controller:"vnLoginModalCtrl",scope:t,windowClass:"sign-up-modal"})},showLogin:function(t){return e.open({templateUrl:"modal/vnLogin.tpl.html",controller:"vnLoginModalCtrl",scope:t,windowClass:"login-modal"})},showWriteReview:function(t){return e.open({templateUrl:"modal/vnWriteReview.tpl.html",controller:"vnWriteReviewCtrl",scope:t,windowClass:"write-review-modal"})}}}]),angular.module("Volusion.toolboxCommon").controller("BillingAddressesCtrl",["$scope","vnAddressUtilities","vnUser","vnModalService","$state","vnCheckout",function(e,t,n,a,i,s){function d(){n.getBillingAddresses().then(function(e){o.billingAddresses=e,o.loading=!1},function(){o.loading=!1,a.showError().result.then(function(){i.go("my-account")})})}var o=this;o.loading=!0,d(),s.getCountries().then(function(e){o.countries=e.data}),o.state="DISPLAY",o.addressToEdit=null,o.addressToAdd=null,o.pageTitles={"default":"Billing Addresses",add:"Add Address",edit:"Edit Address"},o.pageTitle=o.pageTitles["default"],o.saveEditedAddress=function(){n.updateBillingAddress(o.addressToEdit).then(function(){o.addressToEdit=!1,o.pageTitle=o.pageTitles["default"]})},o.saveNewAddress=function(){n.setBillingAddress(o.addressToAdd).then(function(e){o.addressToAdd.id=e,e&&e.data&&e.data.id&&(angular.isArray(o.billingAddresses)?o.billingAddresses.push(e.data):(o.billingAddresses=[],o.billingAddresses.push(e.data)),o.addressToAdd=!1,o.pageTitle=o.pageTitles["default"])})},o.addAddress=function(){o.addressToAdd||(o.addressToAdd=t.createEmptyAddress()),o.addressToEdit=!1,o.pageTitle=o.pageTitles.add},o.cancelAddAddress=function(){o.addressToAdd=!1,o.pageTitle=o.pageTitles["default"]},o.editAddress=function(e,t){o.addressToAdd=!1,o.addressToEdit=e,o.pageTitle=o.pageTitles.edit,o.indexOfAddressToEdit=t},o.cancelEditAddress=function(){o.addressToEdit=!1,o.pageTitle=o.pageTitles["default"],d()},o.makeAddressPreferred=function(e){t.setPreferredAddress(o.billingAddresses,e),n.updateBillingAddress(t.getPreferredAddress(o.billingAddresses))},o.deleteAddress=function(i){e.message="Are you sure you want to remove this billing address?",e.addressToDelete=i,e.buttonText="Yes, remove the billing address";var s=a.showMessage("modal/vnAddressDeleteConf.tpl.html",e).result;s.then(function(){n.deleteBillingAddress(i).then(function(){o.billingAddresses=t.removeAddressFromList(o.billingAddresses,i),n.getBillingAddresses()},function(){a.showError()})},angular.noop)}}]),angular.module("Volusion.toolboxCommon").controller("ChangeEmailCtrl",["$scope","$state","vnUser","vnModalService","vnNotifications",function(e,t,n,a,i){"use strict";e.user=angular.copy(n.getUser()),e.user.password="",e.changeButtonDisabled=!0,e.emailDoesNotMatch=!1,e.changeEmail=function(){e.changeButtonDisabled||e.emailDoesNotMatch||(e.user.email=e.user.changeEmail,e.user.currentPassword=e.user.password,n.updateUser(e.user).then(function(){t.go("my-account"),i.displayMsg("success","Your email was changed")},function(){a.showError()}))},e.checkValidity=function(){return e.frmChangeEmail.$pristine?(e.changeButtonDisabled=!0,void(e.emailDoesNotMatch=!1)):(e.changeButtonDisabled=e.frmChangeEmail.$valid&&e.user.changeEmail===e.user.confirmChangeEmail?!1:!0,void(e.user.changeEmail&&e.user.confirmChangeEmail&&e.user.changeEmail.length&&e.user.confirmChangeEmail.length&&(e.emailDoesNotMatch=e.user.changeEmail===e.user.confirmChangeEmail?!1:!0)))}}]),angular.module("Volusion.toolboxCommon").controller("ChangePasswordCtrl",["$scope","$state","vnUser","vnModalService","vnNotifications",function(e,t,n,a,i){"use strict";e.user=angular.copy(n.getUser()),e.user.password="",e.user.newPassword="",e.user.confirmPassword="",e.changeButtonDisabled=!0,e.passwordDoesNotMatch=!1,e.changePassword=function(){e.changeButtonDisabled||e.passwordDoesNotMatch||(e.user.currentPassword=e.user.password,e.user.password=e.user.newPassword,n.updateUser(e.user).then(function(){t.go("my-account"),i.displayMsg("success","Your password was changed")},function(){a.showError()}))},e.checkValidity=function(){return e.frmChangePassword.$pristine?(e.changeButtonDisabled=!0,void(e.passwordDoesNotMatch=!1)):(e.changeButtonDisabled=e.frmChangePassword.$valid&&e.user.newPassword===e.user.confirmPassword?!1:!0,void(e.user.newPassword&&e.user.confirmPassword&&e.user.newPassword.length&&e.user.confirmPassword.length&&(e.passwordDoesNotMatch=e.user.newPassword===e.user.confirmPassword?!1:!0)))}}]),angular.module("Volusion.toolboxCommon").controller("ListOrdersCtrl",["$rootScope","$scope","$state","vnUser","vnModalService",function(e,t,n,a,i){var s=this;s.pageSizes=[{value:5,text:"5 Per Page"},{value:10,text:"10 Per Page"}],s.getOrders=function(){s.loading=!0,s.cursor&&s.currentPage===s.cursor.totalPages&&Math.ceil(s.cursor.total/s.selectedPageSize.value)<s.currentPage&&(s.currentPage=Math.ceil(s.cursor.total/s.selectedPageSize.value)),a.getPagedOrders(s.currentPage,s.selectedPageSize.value).then(function(e){s.loading=!1,s.cursor=e.cursor,s.numPages=s.cursor.totalPages,s.orders=e.data.orders;var t=e.cursor.currentPage*e.cursor.pageSize,n=e.cursor.currentPage*e.cursor.pageSize-e.cursor.pageSize+1;s.startIndex=0>n?0:n,s.endIndex=t>e.cursor.total?e.cursor.total:t},function(){s.loading=!1,i.showError().result.then(function(){n.go("my-account")})})},s.init=function(){s.currentPage=1,s.selectedPageSize=s.pageSizes[1],s.maxSize=3,s.getOrders()}}]),angular.module("Volusion.toolboxCommon").controller("MyAccountCtrl",["$rootScope","$scope","vnUser","vnModalService",function(e,t,n,a){"use strict";function i(){t.loading=!0,t.user=n.getUser(),n.getLastThreeOrders().then(function(e){t.orders=e.orders,t.loading=!1},function(){t.loading=!1,a.showError()})}t.loading=!1,t.orders=[],i();var s=e.$on("$stateChangeStart",function(e,t){"my-account"===t.name&&i()});t.$on("$destroy",function(){s()})}]),angular.module("Volusion.toolboxCommon").controller("OrdersDetailCtrl",["vnApi","$stateParams",function(e,t){function n(){a.loading=!0,e.CustomerOrders().get({id:t.id}).$promise.then(function(e){a.order=e.data,a.loading=!1},function(){a.loading=!1})}var a=this;a.order=null,a.loading=!1,n()}]),angular.module("Volusion.toolboxCommon").directive("vnOrderListView",[function(){return{restrict:"AE",templateUrl:"my-account/orders/vn-order-list-view.tpl.html",scope:{orders:"="}}}]),angular.module("Volusion.toolboxCommon").directive("vnOrderTable",[function(){return{restrict:"AE",templateUrl:"my-account/orders/vn-order-table.tpl.html",scope:{orders:"="}}}]),angular.module("Volusion.toolboxCommon").controller("PaymentProfilesCtrl",["$scope","$state","$q","lodash","vnCreditCardUtilities","vnUser","vnCheckout","vnModalService","vnPciaasIframe","vnCreditCardClass",function(e,t,n,a,i,s,d,o,r,c){function l(){var e={method:"Credit Card",preferred:!0,card:{cardType:u.paymentProfileToAdd.card.cardType,cardTypeName:u.paymentProfileToAdd.card.cardTypeName,holdersName:u.user.firstName+" "+u.user.lastName,last4:u.paymentProfileToAdd.card.cardNumber.slice(-4),expMonth:u.paymentProfileToAdd.card.expMonth,expYear:u.paymentProfileToAdd.card.expYear,issueMonth:"",issueYear:"",issueNumber:"",pCIaaSId:u.paymentProfileToAdd.card.pCIaaSId,cardNumber:u.paymentProfileToAdd.card.cardNumber}};d.setCCPaymentProfile(e),s.setPaymentProfile(e).then(function(e){if(u.paymentProfileToAdd.id=e,e&&e.data&&e.data.id){var t=c(e.data.card.cardType);e.data.card.ccCssClass=t["class"],e.data.card.last4=e.data.card.cardNumber.slice(-4),e.data.card.cardTypeName=t.name,angular.isArray(u.paymentProfiles)?(u.paymentProfiles.push(e.data),u.makePaymentProfilePreferred(u.paymentProfiles.length-1)):(u.paymentProfiles=[],u.paymentProfiles.push(e.data)),u.paymentProfileToAdd=!1,u.pageTitle=u.pageTitles["default"]}else o.showError()})}var u=this;u.user=s.getUser(),u.loading=!0,s.getPaymentProfiles().then(function(e){u.paymentProfiles=e,u.loading=!1},function(){u.loading=!1,o.showError().result.then(function(){t.go("my-account")})}),u.state="DISPLAY",u.paymentProfileToAdd=null,u.pageTitles={"default":"Payment Profiles",add:"Add Card",edit:"Edit Card"},u.pageTitle=u.pageTitles["default"],u.saveNewPaymentProfile=function(){u.processCard().then(function(e){u.paymentProfileToAdd.card.pCIaaSError="",angular.isString(e)&&(e=JSON.parse(e)),u.paymentProfileToAdd.card.cardNumber=-1===u.paymentProfileToAdd.card.cardNumber.indexOf("*")?i.maskCardValue(u.paymentProfileToAdd.card.cardNumber):u.paymentProfileToAdd.card.cardNumber,u.paymentProfileToAdd.card.pCIaaSId=e.CardId?e.CardId:u.paymentProfileToAdd.card.pCIaaSId,l()},function(){o.showError()})},u.addPaymentProfile=function(){u.paymentProfileToAdd||(u.paymentProfileToAdd={method:"Credit Card",preferred:!0,card:i.newCard()}),u.pageTitle=u.pageTitles.add},u.cancelAddPaymentProfile=function(){u.paymentProfileToAdd=!1,u.pageTitle=u.pageTitles["default"]},u.makePaymentProfilePreferred=function(e){i.setPreferredPaymentProfile(u.paymentProfiles,e),s.updatePaymentProfile(i.getPreferredPaymentProfile(u.paymentProfiles))},u.deletePaymentProfile=function(t){e.message="Are you sure you want to remove this card?",e.paymentProfileToDelete=t,e.buttonText="Yes, remove the card";var n=o.showMessage("modal/vnPaymentProfileDeleteConf.tpl.html",e).result;n.then(function(){s.deletePaymentProfile(t).then(function(){u.paymentProfiles=i.removePaymentProfileFromList(u.paymentProfiles,t),s.getPaymentProfiles()},function(){o.showError()})},angular.noop)},u.processCard=function(){return n(function(e,t){var n={CVV:"inputCreditCardCVV",HiddenCardID:"hiddenCardID",CardNumber:function(){return u.paymentProfileToAdd.card.cardNumber},CardType:function(){return{Visa:"Visa",MasterCard:"MasterCard","American Express":"Amex",Discover:"Discover"}[u.paymentProfileToAdd.card.cardTypeName]}};r.PCIaaS({settings:{merchantID:"3de067d8d96d407697da4a9559f99681",apiBase:"https://payments-qa.dev.volusion.com/paymentsv1_4"},fields:n,events:{success:e,error:t}}).process(!0)})}}]),angular.module("Volusion.toolboxCommon").controller("ShippingAddressesCtrl",["$scope","$state","vnAddressUtilities","vnUser","vnCheckout","vnModalService",function(e,t,n,a,i,s){function d(){a.getShippingAddresses().then(function(e){o.shippingAddresses=e,o.loading=!1},function(){o.loading=!1,s.showError().result.then(function(){t.go("my-account")})})}var o=this;o.loading=!0,d(),i.getCountries().then(function(e){o.countries=e.data}),o.state="DISPLAY",o.addressToEdit=null,o.addressToAdd=null,o.pageTitles={"default":"Shipping Addresses",add:"Add Address",edit:"Edit Address"},o.pageTitle=o.pageTitles["default"],o.saveEditedAddress=function(){a.updateShippingAddress(o.addressToEdit).then(function(){o.addressToEdit=!1,o.pageTitle=o.pageTitles["default"]})},o.saveNewAddress=function(){a.setShippingAddress(o.addressToAdd).then(function(e){o.addressToAdd.id=e,e&&e.data&&e.data.id&&(angular.isArray(o.shippingAddresses)?o.shippingAddresses.push(e.data):(o.shippingAddresses=[],o.shippingAddresses.push(e.data)),o.addressToAdd=!1,o.pageTitle=o.pageTitles["default"])})},o.addAddress=function(){o.addressToAdd||(o.addressToAdd=n.createEmptyAddress()),o.addressToEdit=!1,o.pageTitle=o.pageTitles.add},o.cancelAddAddress=function(){o.addressToAdd=!1,o.pageTitle=o.pageTitles["default"]},o.editAddress=function(e,t){o.addressToAdd=!1,o.addressToEdit=e,o.pageTitle=o.pageTitles.edit,o.indexOfAddressToEdit=t},o.cancelEditAddress=function(){o.addressToEdit=!1,o.pageTitle=o.pageTitles["default"],d()},o.makeAddressPreferred=function(e){n.setPreferredAddress(o.shippingAddresses,e),a.updateShippingAddress(n.getPreferredAddress(o.shippingAddresses))},o.deleteAddress=function(t){e.message="Are you sure you want to remove this shipping address?",e.addressToDelete=t,e.buttonText="Yes, remove the shipping address";var i=s.showMessage("modal/vnAddressDeleteConf.tpl.html",e).result;i.then(function(){a.deleteShippingAddress(t).then(function(){o.shippingAddresses=n.removeAddressFromList(o.shippingAddresses,t),a.getShippingAddresses()},function(){s.showError()})},angular.noop)}}]),angular.module("Volusion.toolboxCommon").directive("vnNewsletterSignup",["$rootScope","vnUser","VN_AUTH_EVENTS",function(e,t,n){
return{restrict:"AE",templateUrl:"newsletters/vn-newsletter-signup.html",scope:{buttonText:"@",errorMsg:"@",formClasses:"@",formGroupClasses:"@",formId:"@",inputClasses:"@",labelText:"@",submitClasses:"@",successMsg:"@",onSignupCompleted:"&"},link:function(a){a.loggedIn=!1;var i=function(){t.isLoggedIn().then(function(){a.loggedIn=!0},function(){a.loggedIn=!1})};i(),e.$on(n.loginSuccess,function(){i()}),e.$on("afterLoginSuccess",function(){i()}),e.$on(n.logoutSuccess,function(){i()}),a.buttonText=a.buttonText||"GO",a.labelText=a.labelText||"Email Address",a.successMsg=a.successMsg||"Thank You for signing up.",a.errorMsg=a.errorMsg||"Oops!! Something went wrong!",a.displaySuccessMessage=!1,a.displayErrorMessage=!1,a.signupForNewsletter=function(){var e;a.frmMailingList.$invalid||(a.loggedIn?(a.errorMsg="Not implemented for logged in users",a.displayErrorMessage=!0):(e={email:a.userEmail,password:"",firstName:"",lastName:"",emailOptIn:!0,anonymous:!0,customFields:{},autoLogin:!0},t.createFrom(e).then(function(){a.displaySuccessMessage=!0,a.onSignupCompleted()},function(){a.displayErrorMessage=!0})))},a.closeError=function(){a.displayErrorMessage=!1}}}}]),angular.module("Volusion.toolboxCommon").directive("vnPaginator",["vnProductParams","themeSettings",function(e,t){return{templateUrl:"pagination/vnPaginator.tpl.html",restrict:"A",scope:{cursor:"=",queryFn:"&"},link:function(n,a,i){e.setPageSize(t.getPageSize()),n.nextPage=function(){n.cursor.currentPage<n.cursor.totalPages&&(e.nextPage(),n.queryFn())},n.prevPage=function(){n.cursor.currentPage>1&&(e.previousPage(),n.queryFn())},n.$watch(i.cursor,function(t){void 0!==t&&(n.currentPage=t.currentPage.toString(),e.setPage(n.currentPage))},!0)}}}]),angular.module("Volusion.toolboxCommon.templates",[]).run(["$templateCache",function(e){e.put("vn-faceted-search/vn-category-search.html",'<div class=vn-category-search__category-items data-ng-repeat="cat in categories" data-ng-class="{ \'-last\': $last }">\n\n	<a href data-ng-if="cat.displayStrategy == \'categoryDisplayTwo\' || cat.displayStrategy == \'categoryDisplayThree\' " data-ng-click=buildAppUrl(cat) class=vn-category-search__category-items__category-title data-ng-class="{ \'-noborder\': $last && cat.displayStrategy == \'categoryDisplayOne\' }">\n\n		<span data-ng-if="cat.displayStrategy == \'categoryDisplayTwo\' " class="glyphicon glyphicon-chevron-left"></span>\n		{{ cat.name }}\n	</a>\n	<span class=vn-category-search__category-items__category-title data-ng-if="cat.displayStrategy == \'categoryDisplayOne\' ">{{ cat.name }}</span>\n	<div class=vn-category-search__category-items__category-item data-ng-repeat="subCat in cat.subCategories" data-ng-class="{ \'-noborder\': $last }">\n\n		<span data-ng-if=subCat.hideSubCatLink>{{ subCat.name }}</span>\n		<a href data-ng-if=!subCat.hideSubCatLink data-ng-click=buildAppUrl(subCat)>{{ subCat.name }}</a>\n	</div>\n</div>'),e.put("vn-faceted-search/vn-facet-search.html",'<div data-accordion-group class=facet-item data-ng-repeat="facet in facets track by $index" data-is-open=defaultAccordianOpen>\n	<div data-accordion-heading>\n		<div>\n			<span>{{ facet.title }}</span>\n			<i class="pull-right glyphicon" data-ng-class="{\'glyphicon-chevron-down\': defaultAccordianOpen, \'glyphicon-chevron-right\': !defaultAccordianOpen}"></i>\n		</div>\n	</div>\n    <div data-ng-if="facet.displayType != \'swatches\'" class=facet-properties>\n        <label class=facet-property data-ng-repeat="property in facet.properties track by $index" data-ng-class="{ \'-last\': $last }">\n\n            <input type=checkbox name=property.name data-ng-checked=selectProperty(property) data-ng-click="refineFacetSearch(property)">\n            <span class=name>{{ property.name }}</span>\n            <span class=count>{{ property.count }}</span>\n        </label>\n    </div>\n    <div data-ng-if="facet.displayType == \'swatches\'" class="facet-properties clearfix">\n        <div data-ng-repeat="property in facet.properties" class=facet-property__swatch data-ng-click=refineFacetSearch(property) data-ng-class="{\'facet-property__swatch--selected\': selectProperty(property)}">\n			<div class=facet-property__swatch--color data-ng-style="{\'backgroundColor\': property.color }">\n			</div>\n        </div>\n    </div>\n</div>'),e.put("vn-faceted-search/vn-faceted-search.html",'<div class=vn-faceted-search-header data-ng-show=showApplyButton>\n	<button class="btn btn-success __cancel-action" href data-ng-click=dismissMobileFilters()>Apply\n	</button>\n	\n	<button class="btn __clear-action" href data-ng-click=clearAllFilters()>Clear\n	</button>\n	\n</div>\n<div class=-faceted-search data-ng-show=showFacetSearch>\n	<div class=facets>\n		<div data-accordion data-close-others=false>\n\n			\n			<div data-accordion-group class=facet-item__by-category data-is-open=categoryAccordiansOpen data-ng-show="categoryList.length > 0">\n				<div data-accordion-heading>\n					<div>\n						<span>Category</span>\n						<i class="pull-right glyphicon" data-ng-class="{\'glyphicon-chevron-down\': categoryAccordiansOpen, \'glyphicon-chevron-right\': !categoryAccordiansOpen}"></i>\n					</div>\n				</div>\n				<div vn-category-search categories=categoryList query-products=queryProducts() data-ng-show=showCategorySearch class=category-search>\n				</div>\n			</div>\n\n			\n			<div vn-facet-search facets=facets query-products=queryProducts() data-ng-show="facets.length > 0"></div>\n\n			\n			<div data-accordion-group class=facet-item__by-price data-is-open=priceAccordiansOpen data-ng-show="facets.length > 0">\n				<div data-accordion-heading>\n					<div>\n						<span>Price</span>\n						<i class="pull-right glyphicon" data-ng-class="{\'glyphicon-chevron-down\': priceAccordiansOpen, \'glyphicon-chevron-right\': !priceAccordiansOpen}"></i>\n					</div>\n				</div>\n				<div class=facet-item__by-price__inputs vn-price-search query-products=queryProducts()></div>\n			</div>\n		</div>\n\n		\n		<div class=vn-faceted-search-footer data-ng-show=!showApplyButton>\n			<button class="btn __clear-action" href data-ng-click=clearAllFilters()>Reset Filters\n			</button>\n			\n		</div>\n\n	</div>\n</div>'),e.put("vn-faceted-search/vn-price-search.html",'<input data-ng-model=minPrice data-ng-keypress=searchByPrice($event) placeholder="$">\n&thinsp;to&thinsp;\n<input data-ng-model=maxPrice data-ng-keypress=searchByPrice($event) placeholder="$$">\n<button class="btn btn-default facet-item__by-price__button" type=button ng-click=searchByPrice($event)>Go\n</button>'),e.put("vn-faceted-search/vn-sort-search.html",'<div class=dropdown>\n	<button class="btn btn-default dropdown-toggle" type=button id=dropdownMenu1 data-toggle=dropdown>\n		Sort by\n		<span class=caret></span>\n	</button>\n	<ul class=dropdown-menu role=menu aria-labelledby=dropdownMenu1>\n		<li role=presentation>\n			<a role=menuitem tabindex=-1 href="" data-ng-click="sortBy(\'relevance\')">Relevance</a>\n		</li>\n		<li role=presentation>\n			<a role=menuitem tabindex=-1 href="" data-ng-click="sortBy(\'highest price\')">Highest price</a>\n		</li>\n		<li role=presentation>\n			<a role=menuitem tabindex=-1 href="" data-ng-click="sortBy(\'lowest price\')">Lowest price</a>\n		</li>\n		<li role=presentation>\n			<a role=menuitem tabindex=-1 href="" data-ng-click="sortBy(\'relevance\')">Popularity</a>\n		</li>\n		<li role=presentation>\n			<a role=menuitem tabindex=-1 href="" data-ng-click="sortBy(\'newest\')">Newest</a>\n		</li>\n		<li role=presentation>\n			<a role=menuitem tabindex=-1 href="" data-ng-click="sortBy(\'oldest\')">Oldest</a>\n		</li>\n	</ul>\n</div>'),e.put("vn-place-order-btn/vn-place-order-btn.html",'<div class=th-checkout__place-order-fixed data-ng-class="{ \'th-checkout__place-order-fixed--active\': placeOrderFixed}" data-ng-if=checkout.steps[2].active>\n	<button class="btn btn-primary btn-block btn-lg th-checkout__place-order-fixed__btn" data-ng-click=placeOrder()>\n		Place Order\n	</button>\n</div>'),e.put("vn-product-option/checkboxes.html",'<label data-vn-block=vn-labeled-checkbox data-vn-modifiers={{option.class}} data-ng-repeat="item in option.items" data-ng-init=item>\n\n	<div data-vn-element=checkbox>\n		<input type=checkbox data-ng-click="onCheckboxClicked(option, item)">\n	</div>\n\n	<div data-vn-element=content data-ng-include=" \'vn-product-option/content.html\' "></div>\n</label>'),e.put("vn-product-option/content.html",'<div data-vn-element=color-image>\n	<div data-vn-element=color data-ng-show=item.color style="background-color: {{item.color}}"></div>\n	<img data-vn-element=image data-ng-show=item.swatchImage data-ng-src={{item.swatchImage}} alt={{item.text}}>\n</div>\n<div data-vn-element=text data-ng-bind=item.text data-ng-controller=OptionsCtrl data-ng-class="{ \'-disabled\': !isItemAvailable }"></div>\n<div data-vn-element=border data-ng-class="{ checked: option.selected === item.key }"></div>'),e.put("vn-product-option/index.html",'<div data-vn-block=vn-product-option>\n\n	<label data-vn-element=label data-ng-if=option.label data-ng-bind=option.label></label>\n\n	<div data-ng-repeat="inputType in option.inputTypes">\n		<div data-vn-element=group data-vn-modifiers="{{inputType.type}} {{option.class}}" data-ng-include=" \'vn-product-option/\' + inputType.type + \'.html\' ">\n		</div>\n	</div>\n\n	<div data-ng-if=option.selected>\n		<div data-ng-repeat="option in option.options" data-ng-include=" \'vn-product-option/index.html\' ">\n		</div>\n	</div>\n\n</div>'),e.put("vn-product-option/radios.html",'<label data-vn-block=vn-labeled-radio data-vn-modifiers={{option.class}} data-ng-repeat="item in option.items" data-ng-init=item data-ng-controller=OptionsCtrl data-ng-class="{ \'-disabled\': !isItemAvailable }">\n\n	<div data-vn-element=radio>\n\n		<input type=radio name={{option.id}} data-ng-value=item.key data-ng-model=option.selected data-ng-click="onOptionChanged(option, item)">\n	</div>\n\n	<div data-vn-element=content data-ng-include=" \'vn-product-option/content.html\' "></div>\n\n</label>'),e.put("vn-product-option/select.html",'<div class=dropdown data-vn-element=select data-vn-modifiers="{{ option.class }}" data-ng-attr-size="{{ inputType.size }}">\n\n	<button class="btn btn-default dropdown-toggle" type=button id="dropdownMenuOption{{ option.id }}" data-toggle=dropdown>\n		{{ currentSelectionText }}\n		<span class=caret></span>\n	</button>\n	<ul class=dropdown-menu role=menu aria-labelledby="dropdownMenuOption{{ option.id }}">\n		<li role=presentation data-ng-repeat="item in option.items">\n			<a role=menuitem tabindex=-1 href data-ng-click="onOptionChanged(option, item)" data-ng-controller=OptionsCtrl data-ng-class="{ \'-disabled\': !isItemAvailable }">\n				{{ item.text }}\n			</a>\n		</li>\n	</ul>\n</div>'),e.put("vn-product-option/text.html",'<div data-ng-if="inputType.rows > 1">\n	<textarea data-vn-element=text data-vn-modifiers={{option.class}} data-ng-focus="saveTo=saveTo||{}" data-ng-model=saveTo[option.id] data-ng-maxlength={{inputType.maxlength}} placeholder={{inputType.placeholder}} rows={{inputType.rows}} cols={{inputType.cols}}></textarea>\n</div>\n\n<div data-ng-if="!inputType.rows || inputType.rows < 2">\n	<input data-vn-element=text data-vn-modifiers={{option.class}} data-ng-focus="saveTo=saveTo||{}" data-ng-model=saveTo[option.id] data-ng-maxlength={{inputType.maxlength}} placeholder={{inputType.placeholder}}>\n</div>'),e.put("vn-product/vn-product-image.html",'<img data-ng-src="{{ getImagePath(product.imageCollections) }}" class=img-responsive alt="{{ product.name }}">'),e.put("app-messages/vnAppMessage.tpl.html",'<alert class="vn-app-message container-fluid vn-app-message--{{messagePosition}}" ng-repeat="alert in appMessagesCtrl.alerts track by alert.id" type="{{ alert.type }}">\n	<div class=row>\n		<div class=col-xs-8>\n			<span class=vn-app-message__text>{{alert.text}}</span>\n		</div>\n		<div class="col-xs-4 align-right">\n			<button class="btn vn-app-message__button th-alert__button" data-ng-click=appMessagesCtrl.closeAlert(alert.id)>Ok</button>\n		</div>\n	</div>\n</alert>'),e.put("busy-animation/vnBusyAnimation.tpl.html",'<ng-transclude></ng-transclude>\n<div class="{{ class }}" title=1 data-ng-if=show>\n	<svg version=1.1 id=loader-1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink x=0px y=0px ng-attr-width="{{ size }}" ng-attr-height="{{ size }}" viewbox="0 0 50 50" style="enable-background:new 0 0 50 50" xml:space=preserve>\n\n		<path fill=#000 d=M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z>\n			<animatetransform attributetype=xml attributename=transform type=rotate from="0 25 25" to="360 25 25" dur=.6s repeatcount="indefinite">\n		</path>\n	</svg>\n</div>'),e.put("cart/cart.tpl.html",'<div class=th-cart data-ng-class="{\'th-cart--open\' : isCartOpen, \'th-cart--closed\' : !isCartOpen}">\n	<div ng-switch=state>\n		<a data-ng-click=closeCart() class=th-cart__overlay></a>\n		<div ng-switch-when=login class=th-cart__login>\n\n			<div class=th-cart__panel>\n\n				<div class=vn-spinner data-ng-if="loading && state == \'login\'" vn-busy-animation vn-busy-animation-show="{{ loading }}" vn-busy-animation-size=80px vn-busy-animation-class=vn-spinner__inner></div>\n\n				\n				<div class=th-cart__brand data-ng-if="device.info.shortname == \'phone\'">\n					<button type=button class="navbar-toggle th-cart__brand--search" data-ng-init="navCollapsed = true" data-ng-click=openMobileMenu()>\n						<span class=sr-only data-translate=header.toggleNavigation>Toggle Navigation</span>\n						<span class=icon-bar></span>\n						<span class=icon-bar></span>\n						<span class=icon-bar></span>\n					</button>\n\n					<img class=th-cart__brand--image data-ng-src="{{ config.general.logoUrl }}" class="img-responsive">\n\n					<br style="clear: both">\n				</div>\n				\n				\n				<div class=th-cart__header>\n					<a data-ng-click=closeCart() class=th-cart__header-back tabindex=-1><i class="fa fa-times"></i></a>\n					<span class=th-cart__header-title>Login</span>\n				</div>\n				\n				<div class=th-cart__body data-vn-scroll-top>\n\n					<div data-vn-app-message="" data-message-position=static></div>\n\n					<div data-vn-login-email data-allow-anonymous=false data-redirect-to=checkout.ship-method data-button-text="Sign In" data-title="Welcome Back!">\n					</div>\n\n					<div class=container-fluid>\n						<a data-ng-click=closeLogin() class="btn btn-default btn-block btn-lg th-cart__login__btn-back">\n							<i class="fa fa-chevron-left"></i> <span>Back to cart</span>\n						</a>\n					</div>\n\n				</div>\n			</div>\n		</div>\n		<div ng-switch-when=cart>\n\n			<div class=th-cart__panel>\n\n				\n				<div class=th-cart__brand data-ng-if="device.info.shortname == \'phone\'">\n					<button type=button class="navbar-toggle th-cart__brand--search" data-ng-init="navCollapsed = true" data-ng-click=openMobileMenu()>\n						<span class=sr-only data-translate=header.toggleNavigation>Toggle Navigation</span>\n						<span class=icon-bar></span>\n						<span class=icon-bar></span>\n						<span class=icon-bar></span>\n					</button>\n\n					<img class=th-cart__brand--image data-ng-src="{{ config.general.logoUrl }}" class="img-responsive">\n					<br style="clear: both">\n				</div>\n				\n\n				<div class=vn-spinner data-ng-if="loading && state == \'cart\'" vn-busy-animation vn-busy-animation-show="{{ loading }}" vn-busy-animation-size=80px vn-busy-animation-class=vn-spinner__inner></div>\n\n				\n				<div class=th-cart__header>\n					<a data-ng-click=closeCart() class=th-cart__header-back tabindex=-1><i class="fa fa-times"></i></a>\n					<span class=th-cart__header-title data-translate=cart.lblYourCart>Your Cart</span>\n				</div>\n				\n\n				\n				<div class=th-cart__body data-vn-scroll-top>\n\n					\n\n					<div data-vn-app-message="" data-message-position=static></div>\n\n					<div class=th-cart__noitems--label data-translate=cart.lblYourCartIsEmpty data-ng-if=cartEmpty>\n\n						Your cart is empty\n					</div>\n\n					<div class=th-cart__items data-ng-if=!cartEmpty>\n\n						\n\n						<div class=th-cart__items__item data-ng-repeat="item in cart.items | reverse">\n							<div class=th-cart__items__item--close>\n								<button data-ng-click=deleteItem(item.id)><span></span></button>\n							</div>\n							<div>\n								<a data-ng-href="{{ item.productUrl }}"><img class=th-cart__items__item--image data-ng-src="{{ item.imgUrl }}"></a>\n\n								<div>\n									<div class=th-cart__items__item--name>\n										<a data-ng-href="{{ item.productUrl }}">{{ item.name }}</a>\n									</div>\n									<div class=th-cart__items__item--price>{{ item.pricing.unitPrice | currency }}\n									</div>\n									<div class=th-cart__items__item--option data-ng-repeat="option in item.options">\n										<span>{{ option.optionText }}</span>\n									</div>\n								</div>\n\n								<br style="clear: both">\n							</div>\n\n							<div class=inline-block-wrap>\n								<div class=th-cart__items__item--qty>\n									<div data-vn-block=th-qty-counter class=input-group>\n								<span class=input-group-btn>\n									<button data-vn-element=btn class="btn btn-default" data-ng-click="changeQty(item, item.qty - 1, 500)" data-ng-disabled="item.qty <= 1 || item.qty === \'\'">\n										<span class="glyphicon glyphicon-minus"></span>\n									</button>\n								</span>\n										<input data-vn-element=input class=form-control data-ng-model=item.qty data-ng-blur="changeQty(item, item.qty)" data-vn-format-quantity>\n								<span class=input-group-btn>\n									<button data-vn-element=btn class="btn btn-default" data-ng-disabled="item.qty === 9999999 || item.qty === \'\'" data-ng-click="changeQty(item, item.qty + 1, 500)">\n										<span class="glyphicon glyphicon-plus"></span>\n									</button>\n								</span>\n									</div>\n								</div>\n								<div class=th-cart__items__item--subtotal>{{ item.pricing.subtotal | vnCurrency }}\n								</div>\n							</div>\n\n							<br style="clear: both">\n\n							<div class="th-cart__items__item__gift animate-if" data-ng-if="cart.misc.isGift && item.isGiftWrapAvailable">\n								<div class=th-cart__items__item__gift__option data-ng-class="{\'-visual-cue\' : visualCue}">\n									<input id=item-is-gift type=checkbox data-ng-model=item.giftWrap.selected data-ng-change=addGiftWrap()>\n									<label for=item-is-gift><span data-translate=cart.lblGiftOption>Add gift wrap for</span>&nbsp;{{\n										item.giftWrap.price | currency }}</label>\n								</div>\n\n						<textarea class="th-cart__items__item__gift__message animate-if" maxlength=255 data-vn-auto-grow data-ng-trim=false data-ng-if=item.giftWrap.selected data-ng-model=item.giftWrap.message data-ng-blur=addGiftMsg() placeholder="{{ \'cart.lblGiftNoteOnItem\' | translate }}"></textarea>\n\n								<div class="th-cart__items__item__gift__message-count animate-if" data-ng-if=item.giftWrap.selected>\n									<span>{{item.giftWrap.message.length}} / 255</span>\n								</div>\n							</div>\n						</div>\n					</div>\n				</div>\n				\n\n				\n				<div class=th-cart__footer>\n\n					<div class=th-cart__promo-wrap data-ng-if=!cartEmpty>\n						<div class=th-cart__promo-add>\n							<input class="form-control th-cart__promo-add__input" maxlength=25 data-ng-model=coupon.code data-ng-focus=toggleApplyBtn(true) data-ng-blur=toggleApplyBtn(false) data-ng-keypress=promoInputKeypress($event) placeholder="{{ \'cart.lblAddCoupon\' | translate }}">\n							<button class="btn btn-primary th-cart__promo-add__apply" data-translate=cart.btnApply data-ng-click=applyCoupon() data-ng-class="{\'th-cart__promo-add__apply--active\': coupon.showApply == true}">\n								Apply\n							</button>\n						</div>\n\n						<div class=th-cart__promo-summary data-ng-if=!couponsEmpty data-ng-click=togglePromoList() data-ng-class="{\'th-cart__promo-summary--active\': showPromoList == true}">\n							<span class=th-cart__promo-summary__arrow><span class="glyphicon glyphicon-chevron-down" aria-hidden=true></span></span>\n					<span class=th-cart__promo-summary__count>\n						<span class=th-cart__promo-summary__count-number>{{cart.discounts.length | number}}</span>&nbsp;\n						<span data-ng-if="cart.discounts.length === 1" data-translate=cart.lblPromoApplied>promo applied</span>\n						<span data-ng-if="cart.discounts.length > 1" data-translate=cart.lblPromosApplied>promos applied</span>\n					</span>\n							<span class=th-cart__promo-summary__total>{{ cart.totals.discounts | vnCurrency }}</span>\n\n						</div>\n\n						<div class=th-cart__promo-list data-ng-class="{\'th-cart__promo-list--active\': showPromoList == true}" data-ng-if=!couponsEmpty>\n\n							<div class="th-cart__promo inline-block-wrap" data-ng-repeat="coupon in cart.discounts | reverse:orderBy:\'couponCode\'" data-ng-class="{\'-last\': $last}">\n\n								<div class=th-cart__promo--left>\n									<div class=th-cart__promo__close data-ng-if="coupon.couponCode !== \'\'">\n										<button data-ng-click="deleteCoupon(\'{{coupon.id}}\')"><span></span></button>\n									</div>\n\n									<div class=th-cart__promo__name>\n										<span>{{ coupon.name }}</span>\n									</div>\n								</div>\n\n								<div class=th-cart__promo--right>\n									<div class=th-cart__promo__value>\n										<span>{{ coupon.value | vnCurrency }}</span>\n									</div>\n								</div>\n							</div>\n\n							<br style="clear: both">\n						</div>\n\n					</div>\n\n					<div class=th-cart__subtotal data-ng-if=!cartEmpty>\n						<div class=th-cart__subtotal--label data-translate=cart.lblSubtotal>Subtotal</div>\n						<div class=th-cart__subtotal--price>{{ calcSubtotal | currency }}</div>\n						<br style="clear: both">\n					</div>\n\n					<div class=th-cart__checkout>\n						<a data-ng-click=checkout() class="th-cart__checkout-button btn btn-primary" data-translate=cart.btnCheckout data-ng-disabled=cartEmpty>\n							Checkout</a>\n						<span data-ng-if=isPaypalExpressAvailable>\n							<div data-vn-paypal-button data-ng-show=!cartEmpty></div>\n						</span>\n					</div>\n				</div>\n				\n			</div>\n		</div>\n	</div>\n</div>'),e.put("checkout/address/address-display.tpl.html",'<div class=row data-ng-show="address.address1 !== \'\'" data-ng-click=onClick()>\n	<div class=col-xs-10>\n		<div class=th-address__display__addressPart>{{ address.firstName }}&nbsp;{{ address.lastName }}</div>\n		<div class=th-address__display__addressPart>{{ address.address1 }}</div>\n		<div data-ng-if="address.address2 != \'\'" class=th-address__display__addressPart>{{ address.address2 }}</div>\n		<div class=th-address__display__addressPart data-ng-show=isLocationUS>{{ address.city }},&nbsp;{{ address.state }}&nbsp;{{ address.postalCode }}</div>\n		<div class=th-address__display__addressPart data-ng-show=isLocationUS>{{ address.phoneNumber | vnUsPhone }}</div>\n\n		<div class=th-address__display__addressPart data-ng-show=!isLocationUS>{{ address.city }}</div>\n		<div class=th-address__display__addressPart data-ng-show=!isLocationUS>{{ address.state }}&nbsp;{{ address.postalCode }}</div>\n		<div class=th-address__display__addressPart data-ng-show=!isLocationUS>{{ address.country }}</div>\n		<div class=th-address__display__addressPart data-ng-show=!isLocationUS>{{ address.phoneNumber }}</div>\n\n		<div class=th-address__display__addressPart data-ng-if=shippingValue data-ng-show=address.residential>Type: Residential</div>\n		<div class=th-address__display__addressPart data-ng-if=shippingValue data-ng-show=!address.residential>Type: Business</div>\n	</div>\n	<div class=col-xs-2 ng-show=showEditButton>\n		<i class="fa fa-angle-right fa-2x pull-right"></i>\n	</div>\n</div>'),e.put("checkout/address/vn-address-display-actions.tpl.html",'<div class="container-fluid no-padding">\n	<div data-ng-if="shipping==\'true\'" data-vn-address-display data-address=address data-shipping=true></div>\n	<div data-ng-if="shipping!=\'true\'" data-vn-address-display data-address=address></div>\n	<div class="row th-address__display__actions">\n		<div class=col-xs-7>\n			<span data-ng-if=!address.preferred>\n				<button class="btn btn-default" data-ng-click=onMakePreferredClicked()>Make Preferred\n				</button>\n			</span>\n			<span class=th-address__display__actions__preferred data-ng-if=address.preferred>\n				<i class="fa fa-check"></i>&nbsp;Preferred</span>\n		</div>\n		<div class="col-xs-4 col-xs-offset-1 col-sm-3 col-sm-offset-2 col-md-2 col-md-offset-3">\n			<div class=row>\n				<div class=col-xs-6>\n					<a href data-ng-click=onEditClicked({address:address})><i class="fa fa-pencil"></i></a>\n				</div>\n				<div class=col-xs-6>\n					<a href data-ng-click=onDeleteClicked({address:address})><i class="fa fa-trash-o"></i></a>\n				</div>\n			</div>\n		</div>\n	</div>\n</div>'),e.put("checkout/address/vn-address-editor.html","<div class=th-address>\n\n	<form id=frmAddress name=frmAddress novalidate data-ng-submit=updateAddress(address)>\n\n		<div class=th-address__location>\n			<div class=btn-group>\n				<button type=button data-ng-click=setCountryToUS() class=btn data-ng-class=\"{ 'btn-primary' : isLocationUS, 'btn-default' : !isLocationUS }\">United States\n				</button>\n				<button type=button data-ng-click=setCountryToOther() class=btn data-ng-class=\"{ 'btn-primary': !isLocationUS, 'btn-default' : isLocationUS }\">International\n				</button>\n			</div>\n		</div>\n\n		<div class=th-address__form-wrapper>\n			<div class=row>\n				<div class=col-xs-6>\n					<div class=form-group>\n"+'						<input name=inputUSFirstName class="form-control input-lg immediate-help" id=first-name data-ng-change=validateChange() data-vn-placeholder="First Name" data-ng-model=address.firstName data-vn-invalid-char required>\n\n						<data-vn-popover-first-name>\n\n					</div>\n				</div>\n				<div class=col-xs-6>\n					<div class=form-group>\n						<input name=inputUSLastName class="form-control input-lg -right immediate-help" id=last-name data-ng-change=validateChange() data-vn-placeholder="Last Name" data-ng-model=address.lastName data-vn-invalid-char required>\n\n						<data-vn-popover-last-name>\n\n					</div>\n				</div>\n			</div>\n			<div class=row>\n				<div class=col-xs-12>\n					<div class=form-group>\n						<input name=inputUSAddress1Line class="form-control input-lg immediate-help" id=address-1 data-ng-change=validateChange() data-vn-placeholder="Address Line 1" data-ng-model=address.address1 required>\n\n						<data-vn-popover-address>\n\n					</div>\n				</div>\n			</div>\n			<div class=row>\n				<div class=col-xs-12>\n					<div class=form-group>\n						<input name=inputUSAddressLine2 class="form-control input-lg" id=address-2 data-ng-change=validateChange() data-vn-placeholder="Address Line 2" data-ng-model="address.address2">\n					</div>\n				</div>\n			</div>\n			<div class=row data-ng-show=isLocationUS data-ng-hide=check.useShippingAddress>\n				<div class=col-xs-5>\n					<div class=form-group>\n						<input name=inputUSCity class="form-control input-lg immediate-help" id=city data-ng-change=validateChange() data-vn-placeholder=City data-ng-model=address.city data-vn-invalid-char ng-required="isLocationUS">\n\n						<data-vn-popover-city>\n\n					</div>\n				</div>\n				<div class=col-xs-3>\n					<div class=form-group>\n						<div class="th-address__state th-dropdown">\n							<vn-dropdown name=inputUSState availableoptions=address.selectedCountry.states placeholder=State optionselect=onStateChanged model=address.selectedState selected-field=code>\n								<vn-dropdown>\n						</vn-dropdown></vn-dropdown></div>\n					</div>\n				</div>\n				<div class=col-xs-4>\n					<div class=form-group>\n						<input name=inputUSZip class="form-control input-lg immediate-help" id=zip data-ng-change=validateChange() data-vn-placeholder=Zip data-ng-model=address.postalCode data-vn-zip-validate ng-required="isLocationUS">\n						<data-vn-popover-zip data-ng-if="frmAddress.inputUSZip.$touched">\n\n					</div>\n				</div>\n			</div>\n			<div class=row data-ng-show=!isLocationUS>\n				<div class=col-xs-12>\n					<div class=form-group>\n						<input name=inputWorldwideCity data-ng-change=validateChange() class="form-control input-lg immediate-help" id=international-city data-vn-placeholder=City data-ng-model=address.city data-vn-invalid-char required>\n\n						<data-vn-popover-city></data-vn-popover-city>\n					</div>\n				</div>\n			</div>\n			<div class=row data-ng-show=!isLocationUS>\n				<div class=col-xs-6>\n					<div class=form-group>\n						<input name=inputWorldwideRegion class="form-control input-lg immediate-help" id=region data-ng-change=validateChange() data-vn-placeholder=Region data-ng-model=address.state data-vn-invalid-char ng-required="!isLocationUS">\n						<data-vn-popover-region></data-vn-popover-region>\n					</div>\n				</div>\n				<div class=col-xs-6>\n					<div class=form-group>\n						<input name=inputWorldwidePostalCode class="form-control input-lg immediate-help" id=postal-code maxlength=15 data-vn-placeholder="Postal code" data-ng-model=address.postalCode data-vn-postal-code-validate ng-required="!isLocationUS">\n						<data-vn-popover-postal-code>\n					</data-vn-popover-postal-code></div>\n				</div>\n			</div>\n			<div class=row data-ng-show="!isLocationUS ">\n				<div class=col-xs-12>\n					<div class=form-group>\n						<div class="th-address__country th-dropdown">\n\n							<vn-dropdown name=inputWorldwideCountry data-availableoptions=countries placeholder=Country optionselect=onCountryChanged model=address.selectedCountry>\n								<vn-dropdown>\n\n						</vn-dropdown></vn-dropdown></div>\n					</div>\n				</div>\n			</div>\n\n			<div class=row data-ng-show=isLocationUS>\n				<div class=col-xs-12>\n					<div class=form-group>\n						<input name=inputUSPhoneNumber class="form-control input-lg immediate-help" id=phone-number data-vn-placeholder="Phone Number" data-ng-change=validateChange() data-ng-model=address.phoneNumber data-vn-us-phone-validate data-vn-format-us-phone-number>\n\n						<data-vn-popover-us-phone>\n					</div>\n				</div>\n			</div>\n\n			<div class=row data-ng-show=!isLocationUS>\n				<div class=col-xs-12>\n					<div class=form-group>\n						<input name=inputIntlPhoneNumber class="form-control input-lg immediate-help" maxlength=35 data-ng-change=validateChange() data-vn-placeholder="Phone Number" data-ng-model="address.phoneNumber">\n\n						<data-vn-popover-required location=top field="Phone Number"></data-vn-popover-required>\n					</div>\n				</div>\n			</div>\n			<div class=row data-ng-if="shipping==\'true\'">\n				<div class=col-xs-12>\n					<div class=form-group>\n						<input type=checkbox name=type class=immediate-help id=residential-1 data-ng-model=address.residential data-ng-change=validateChange() data-ng-true-value=false data-ng-false-value="true">\n						<label for=residential-1 role=button tabindex=0>This is a business address</label>\n					</div>\n				</div>\n			</div>\n			<div class=row>\n				<div class=col-xs-12>\n					<div class=form-group>\n						<input type=checkbox name=isPreferred class=immediate-help id=preferred data-ng-model="address.preferred">\n						<label for=preferred role=button tabindex=0>Preferred</label>\n					</div>\n				</div>\n			</div>\n		</div>\n\n		<div class=row data-ng-if=showCancelButtonValue>\n			<div class=col-xs-6>\n				<button class="btn btn-default btn-block btn-lg" data-ng-click=onCancel()>\n					{{cancelText}}\n				</button>\n			</div>\n			<div class=col-xs-6>\n				<button class="btn btn-primary btn-block btn-lg" data-ng-click=saveAddress() data-ng-disabled=disabledButton data-ng-if=showSaveButtonValue>\n					{{saveText}}&nbsp;<i class="fa fa-angle-right"></i>\n				</button>\n			</div>\n		</div>\n		<div class=row data-ng-if=!showCancelButtonValue>\n			<div class=col-xs-12>\n				<button class="btn btn-primary btn-block btn-lg" data-ng-click=saveAddress() data-ng-disabled=disabledButton data-ng-if=showSaveButtonValue>\n					{{saveText}}&nbsp;<i class="fa fa-angle-right"></i>\n				</button>\n			</div>\n		</div>\n	</form>\n</div>'),
e.put("checkout/address/vn-address-picker.tpl.html",'<div class=th-checkout__step__drawer data-ng-class="{\'-open\': openAddressPicker}">\n\n	<div class=th-checkout__step__drawer__body data-ng-show=openAddressPicker data-ng-switch=state data-ng-cloak>\n		<a href class=th-checkout__step__drawer__close data-ng-click=selectAddress()>\n			<i class="fa fa-close fa-2x"></i>\n		</a>\n\n		<div class=th-checkout__step__drawer__title>\n			<span data-ng-switch-when=ADDRESSLIST>{{:: selectAddressTitle}}</span>\n			<span data-ng-switch-when=NEWADDRESS>{{:: newAddressTitle}}</span>\n		</div>\n\n		<div class=th-address__choose data-ng-switch-when=ADDRESSLIST>\n			<div class=list-group ng-cloak>\n				<a class="list-group-item -clickable" ng-repeat-end data-ng-click=createNewAddress()>\n					Enter a different address\n				</a>\n				<label class="list-group-item -radio" data-ng-repeat="address in addressList" for="address{{ $index }}">\n					<input type=radio id="address{{ $index }}" name=billingAddress data-ng-value=true data-ng-model=address.preferred data-ng-change="setPreferredAddress({{ $index }}); selectAddress()">\n\n					<div>\n						<vn-address-display data-ng-if="shipping==\'true\'" data-address=address data-show-edit-button=allowEdit data-shipping=true></vn-address-display>\n						<vn-address-display data-ng-if="shipping!=\'true\'" data-address=address data-show-edit-button=allowEdit></vn-address-display>\n					</div>\n				</label>\n			</div>\n			<button class="btn btn-primary btn-block btn-lg th-checkout__step__btn__continue" data-ng-click=selectAddress()>\n				Continue&nbsp;<i class="fa fa-angle-right"></i>\n			</button>\n		</div>\n\n\n		<div data-ng-switch-when=NEWADDRESS>\n			<div class=th-address__same-as data-ng-if=showCopyAddress>\n				<input type=checkbox id=chkAddressCopy name=chkAddressCopy data-ng-model=addressCopied data-ng-change="copyAddressHandler()">\n				<label for=chkAddressCopy>{{:: copyAddressText}}</label>\n			</div>\n			<div class="th-address__enterAddress panel panel-default">\n				<div data-ng-if="shipping==\'true\'" data-vn-address-editor="" address=newAddress countries=countries data-on-dirty=setCopyAddressFalse() data-on-save="saveAddress({newAddress: newAddress})" data-shipping=true class=panel-body></div>\n				<div data-ng-if="shipping!=\'true\'" data-vn-address-editor="" address=newAddress countries=countries data-on-dirty=setCopyAddressFalse() data-on-save="saveAddress({newAddress: newAddress})" class=panel-body></div>\n			</div>\n		</div>\n\n\n		\n	</div>\n</div>'),e.put("checkout/billing-address/billing-address-views.html",'<div class=th-address data-ng-controller="BillingAddressViewsCtrl as vm" data-ng-switch=vm.state data-ng-init=vm.init()>\n\n	<div class="th-address__display panel panel-default" data-ng-show="checkout.steps[1].hasOpenDrawer == false" data-ng-switch-when=VIEWADDRESS data-ng-show="checkout.steps[1].hasOpenDrawer == false">\n		<div class=panel-heading>Billing Address</div>\n		<vn-address-display data-address=vm.billingAddress data-on-click=vm.editBillingAddress() data-show-edit-button=vm.billingAddress class=panel-body></vn-address-display>\n	</div>\n\n	<div class=th-address__same-as data-ng-switch-when=EDITADDRESS data-ng-show="checkout.steps[1].hasOpenDrawer == false" ng-cloak>\n		<input type=checkbox id=chkBillingAddress name=chkBillingAddress data-ng-model=vm.useShippingAddress data-ng-change="vm.copyShippingAddress()">\n		<label for=chkBillingAddress>Billing address same as shipping</label>\n	</div>\n	<div class="th-address__enterAddress panel panel-deafult" data-ng-switch-when=EDITADDRESS ng-cloak>\n		<div data-vn-address-editor="" address=vm.billingAddress countries=vm.countries data-on-dirty=vm.setShippingAddressFalse() data-on-save=vm.saveBillingAddress() data-show-save-button=false class=panel-body></div>\n	</div>\n\n	<div vn-address-picker data-ng-switch-when=PICKADDRESS data-address-list=vm.user.billingAddresses data-new-address-title="Add Billing Address" data-select-address-title="Choose Billing Address" data-back-to-text="back to Pay With" data-show-copy-address=vm.showCopyAddress data-countries=vm.countries data-on-address-selected=vm.onAddressSelected() data-save-address=vm.onAddressAdded(newAddress) data-address-copied=vm.useShippingAddress data-copy-address-handler=vm.copyShippingAddress() data-copy-address-text="Billing address same as shipping"></div>\n\n</div>'),e.put("checkout/checkout.html",'<div class=th-checkout data-vn-tab-index>\n	<div class=row>\n		<div class="th-checkout__loading th-checkout__loading--ship-to" vn-busy-animation vn-busy-animation-size=80px vn-busy-animation-show="{{ stepOneLoading }}" vn-busy-animation-class=th-checkout__loading-inner data-ng-show=checkout.steps[0].active></div>\n\n		<div class="th-checkout__loading th-checkout__loading--pay-with" vn-busy-animation vn-busy-animation-size=80px vn-busy-animation-show="{{ stepTwoLoading }}" vn-busy-animation-class=th-checkout__loading-inner data-ng-show=checkout.steps[1].active></div>\n\n		<div class="th-checkout__loading th-checkout__loading--review" vn-busy-animation vn-busy-animation-size=80px vn-busy-animation-show="{{ stepThreeLoading }}" vn-busy-animation-class=th-checkout__loading-inner data-ng-show=checkout.steps[2].active></div>\n\n		<div class="col-md-4 th-checkout__step th-checkout__step__ship-to" data-ng-show="checkout.steps[0].active || device.info.isDesktop" data-ng-class="{ \'-active\' : checkout.steps[0].active }" data-ng-switch=isEditable(1) data-vn-scroll-to-top=checkout.steps[0].hasOpenDrawer data-ng-init="hideShippingMethods = true">\n\n			<div class=th-checkout__step__overlay data-ng-class="{ \'-complete\' : checkout.steps[1].active || checkout.steps[2].active}" data-ui-sref=checkout.ship-method></div>\n\n			<div class="th-checkout__step-inner col-xs-12 col-xs-offset-0 col-sm-8 col-sm-offset-2 col-md-12 col-md-offset-0">\n\n				<div class=th-checkout__step__title>\n					<div class=th-checkout__step__title__stepNumber data-ng-if=checkout.steps[0].active><span>1</span></div>\n					<i class="fa fa-check-circle-o fa-2x" data-ng-if="checkout.steps[1].active || checkout.steps[2].active"></i>\n					<div class=th-checkout__step__title__stepName>Ship To</div>\n				</div>\n\n				<div ng-include=" \'checkout/ship-to/ship-to-views.html\' "></div>\n\n				<div data-ng-hide=hideShippingMethods ng-include=" \'checkout/ship-method/ship-method.html\' "></div>\n\n				<span data-ng-if=checkout.steps[0].active>\n					<button class="btn btn-primary btn-block btn-lg th-checkout__step__btn-continue" data-ng-hide=hideShippingMethods data-ui-sref=checkout.pay-with>\n						Continue&nbsp;<i class="fa fa-angle-right"></i>\n					</button>\n				</span>\n			</div>\n\n		</div>\n		<div class="col-md-4 th-checkout__step th-checkout__step__pay-with" data-ng-show="checkout.steps[1].active || device.info.isDesktop" data-ng-class="{ \'-active\' : checkout.steps[1].active }" data-ng-switch=isEditable(2) data-vn-scroll-to-top=checkout.steps[1].hasOpenDrawer>\n\n			<div class=th-checkout__step__overlay data-ng-class="{ \'-complete\' : checkout.steps[2].active}" data-ui-sref=checkout.pay-with></div>\n\n			<div class="th-checkout__step-inner col-xs-12 col-xs-offset-0 col-sm-8 col-sm-offset-2 col-md-12 col-md-offset-0">\n\n				<div class=th-checkout__step__title>\n					<div class=th-checkout__step__title__stepNumber data-ng-if="checkout.steps[0].active || checkout.steps[1].active"><span>2</span></div>\n					<i class="fa fa-check-circle-o fa-2x" data-ng-if=checkout.steps[2].active></i>\n					<div class=th-checkout__step__title__stepName>Pay With</div>\n				</div>\n\n				<div class=form-group data-ng-show="isPaypalExpressAvailable && checkout.steps[1].hasOpenDrawer == false">\n					<div class="th-checkout__payment-type th-dropdown" dropdown>\n						<button id=paymentType name=paymentType class="dropdown-toggle form-control immediate-help" type=button data-toggle=dropdown dropdown-toggle aria-haspopup=true role=button aria-expanded=false data-ng-model=paymentType value="{{ paymentType }}">\n\n							{{ paymentType }}<span class=caret></span>\n						</button>\n\n						<ul class=dropdown-menu role=menu aria-labelledby=paymentType>\n							<li><a role=menuitem tabindex=-1 href data-ng-click="paymentType = \'credit-card\'">Credit Card</a></li>\n							<li><a role=menuitem tabindex=-1 href data-ng-click="paymentType = \'paypal\'">PayPal</a></li>\n						</ul>\n					</div>\n				</div>\n\n				<div ng-include=" \'checkout/pay-with/credit-card-views.html\' " data-ng-show="paymentType == \'credit-card\'"></div>\n\n				<div ng-include=" \'checkout/billing-address/billing-address-views.html\' " data-ng-show="paymentType == \'credit-card\'"></div>\n\n				<div data-ng-show="checkout.steps[1].hasOpenDrawer == false">\n					<span data-ng-if="checkout.steps[1].active && paymentType == \'credit-card\'">\n						<button class="btn btn-primary btn-block btn-lg th-checkout__step__btn-continue" data-ng-click=nextBillingStep()>\n							Continue&nbsp;<i class="fa fa-angle-right"></i>\n						</button>\n					</span>\n\n					<button class="btn btn-primary btn-block btn-lg th-checkout__step__btn-continue" data-ng-if="checkout.steps[1].active && paymentType == \'paypal\'" data-ng-click=startPaypal()>\n						Continue to PayPal&nbsp;<i class="fa fa-angle-right"></i>\n					</button>\n\n					<div class=th__back-button data-ng-if=checkout.steps[1].active>\n						<a href=javascript:void(0); data-ui-sref=checkout.ship-method>\n							<i class="fa fa-arrow-left">&nbsp;back to Ship To</i>\n						</a>\n					</div>\n\n					<br style="clear: both">\n				</div>\n			</div>\n\n		</div>\n\n		<div data-vn-place-order-btn></div>\n\n		<div class="col-md-4 th-checkout__step th-checkout__step__review" data-ng-show="checkout.steps[2].active || device.info.isDesktop" data-ng-class="{ \'-active\' : checkout.steps[2].active }" data-vn-scroll-to-top=checkout.steps[2].hasOpenDrawer>\n\n			<div class=th-checkout__step__overlay data-ui-sref=checkout.review-order></div>\n\n			<div class="th-checkout__step-inner col-xs-12 col-xs-offset-0 col-sm-8 col-sm-offset-2 col-md-12 col-md-offset-0">\n\n				<div class=th-checkout__step__title>\n					<div class=th-checkout__step__title__stepNumber><span>3</span></div>\n					<div class=th-checkout__step__title__stepName>Review</div>\n				</div>\n				<div class=th-checkout__thanks__title>\n					Total: {{ checkout.cart.totals.grandTotal | currency }}\n				</div>\n				<button class="btn btn-primary btn-block btn-lg th-checkout__step__btn-continue" data-ng-if=checkout.steps[2].active data-ng-click=placeOrder()>\n					{{ placeOrderBtnText }}\n				</button>\n				<div vn-review=checkout.cart></div>\n				<div ng-include=" \'checkout/review/review-details-2.html\' " ng-if=checkout.steps[2].active></div>\n\n				<button class="hidden-md hidden-lg hidden-xl btn btn-primary btn-block btn-lg th-checkout__step__btn-continue" data-ng-if=checkout.steps[2].active data-ng-click=placeOrder()>\n					{{ placeOrderBtnText }}\n				</button>\n\n				<div class=th__back-button>\n					<a href=javascript:void(0); data-ng-if=checkout.steps[2].active data-ui-sref=checkout.pay-with>\n						<i class="fa fa-arrow-left">&nbsp;back to Pay With</i>\n					</a>\n				</div>\n			</div>\n		</div>\n	</div>\n</div>'),e.put("checkout/pay-with/credit-card-views.html",'<div data-ng-controller="CreditCardViewsCtrl as cc" data-ng-init=cc.init() data-ng-switch=cc.state>\n\n	<div data-ng-switch-when=VALIDCARDENTERED>\n		<div class="panel panel-default" data-ng-show="checkout.steps[1].hasOpenDrawer == false">\n			<div class=panel-heading>Credit Card</div>\n			<div data-vn-credit-card-display data-card=cc.card data-on-dirty=cc.setCardValidFalse() data-on-save=cc.saveCreditCard() data-on-click=cc.toggleChange() data-state=cc.displayCardState>\n			</div>\n		</div>\n	</div>\n\n	<div data-vn-credit-card-editor data-ng-switch-when=ENTERCARD data-card=cc.card data-on-dirty=cc.setCardValidFalse() data-show-save-button=false data-on-save=cc.saveCreditCard()>\n	</div>\n\n	<div data-vn-credit-card-picker data-ng-switch-when=PICKCARD data-state=cc.pickCardState data-card=cc.card data-card-list=cc.user.paymentProfiles data-on-select="" data-open-credit-cards=true data-close-picker=cc.closePicker() data-choose-picker=cc.choosePicker() data-enter-card=cc.enterCard() data-set-payment-profile=cc.setPaymentProfile(id) data-selected-index=cc.selectedIndex data-on-dirty-card=cc.setCardValidFalse() data-on-save-card=cc.saveCreditCard()>\n	</div>\n\n</div>'),e.put("checkout/pay-with/vn-credit-card-display-action.html",'<div class="container-fluid vn-credit-card-display-action no-padding">\n	<div class=row>\n		<div class=col-xs-6>\n			<span class=th-credit-card__img data-ng-class=paymentProfile.card.ccCssClass></span>\n			&nbsp;&nbsp;<span>{{ paymentProfile.card.cardNumber.slice(-4) }}</span>\n		</div>\n		<div class="col-xs-6 align-right">\n			<span>{{ paymentProfile.card.expMonth }}/{{ paymentProfile.card.expYear }}</span>\n		</div>\n	</div>\n\n	<div class="row th-address__display__actions">\n		<div class="col-xs-6 th-address__display__actions__preferred">\n			<span data-ng-if=!paymentProfile.preferred>\n				<button class="btn btn-default" data-ng-click=onMakePreferredClicked()>Make Preferred</button>\n			</span>\n			<span data-ng-if=paymentProfile.preferred><i class="fa fa-check"></i>&nbsp;Preferred</span>\n		</div>\n		<div class="col-xs-6 align-right">\n			<a href data-ng-click="onDeleteClicked({paymentProfile: paymentProfile})">\n				<i class="fa fa-trash-o"></i>\n			</a>\n		</div>\n	</div>\n</div>'),e.put("checkout/pay-with/vn-credit-card-display.html",'<div class="th-credit-card__display panel-body" data-ng-class="{ \'-verify-CVV\' : state == \'CVV\'}">\n	<div class=row data-ng-class="{\'clickable\': !readonlyVal}" data-ng-cloak data-ng-click=onClick()>\n		<div class=col-xs-10>\n			<span class=th-credit-card__img data-ng-class=card.ccCssClass></span>\n			<span class=th-credit-card__display__last4>{{ card.cardNumber.slice(-4) }}</span>\n			<span class=th-credit-card__display__exp>{{card.expMonth }}/{{card.expYear }}</span>\n		</div>\n		<div class=col-xs-2 data-ng-show=showArrowVal>\n			<i class="fa fa-angle-right fa-2x pull-right"></i>\n		</div>\n	</div>\n	<form id=frmCVV name=frmCVV novalidate ng-show="state==\'CVV\'" class=th-credit-card__display__verifyCVV>\n		<div class=form-group>\n\n			<label class=th-credit-card__display__verifyCVV__label>Please verify your card</label>\n\n			<div class=th-credit-card__display__verifyCVV__input>\n				<input id=inputCreditCardCVV name=inputCreditCardCVV class="form-control input-lg immediate-help" data-vn-placeholder=CVV data-ng-model=card.CVV data-vn-cvv-validate tabindex=-1 data-vn-cc-type="{{ card.cardTypeName }}" required>\n				<input type=hidden data-ng-model=card.pCIaaSId id=hiddenCardID value="{{ card.pCIaaSId }}" name="hiddenCardID">\n				<div class="input-help top" ng-if=frmCVV.inputCreditCardCVV.$touched>\n					<div class=arrow></div>\n					<h4>CVV must:</h4>\n					<ul>\n						<li ng-class=cvvValidFormat>Be <strong>{{ cvvLength }} digits</strong> long</li>\n					</ul>\n				</div>\n			</div>\n		</div>\n	</form>\n</div>'),e.put("checkout/pay-with/vn-credit-card-editor.html",'<div>\n	<div class="credit-card-error -aligned" ng-if=card.pCIaaSError ng-click="card.pCIaaSError = \'\'">\n		<div class=row>{{card.pCIaaSError}}</div>\n	</div>\n	<div class="th-credit-card -aligned" ng-cloak>\n		<div class=th-credit-card__strip></div>\n\n		<form id=frmCreditCard name=frmCreditCard novalidate data-ng-submit=updateCreditCard()>\n			<div class=row>\n				<div class=col-xs-9>\n					<div class=form-group>\n						<input id=inputCreditCardNumber name=inputCreditCardNumber class="form-control input-lg immediate-help" data-vn-placeholder="Credit card number" data-ng-model=card.cardNumber data-ng-change=validateChange() data-vn-format-cc-number data-vn-cc-validate data-vn-cc-type="{{ card.cardTypeName }}" data-ng-keypress=setCreditCardInfo() required>\n						<data-vn-popover-credit-card data-ng-if=frmCreditCard.inputCreditCardNumber.$touched></data-vn-popover-credit-card>\n					</div>\n					<input type=hidden data-ng-hide=true id=hiddenCardType name=hiddenCardType value="{{ card.cardTypeName }}">\n					<input type=hidden data-ng-model=card.pCIaaSId id=hiddenCardID value="{{ card.pCIaaSId }}" name="hiddenCardID">\n\n				</div>\n				<div class=col-xs-3>\n					<div class=form-group>\n						<input id=inputCreditCardCVV name=inputCreditCardCVV class="form-control input-lg immediate-help" data-vn-placeholder=CVV data-ng-model=card.CVV data-ng-change=validateChange() data-ng-focus=setCCImage() data-ng-blur="setCCImage(\'reset\');" data-vn-cvv-validate data-vn-cc-type="{{ card.cardTypeName }}" required>\n\n						<div class="input-help top" ng-if=frmCreditCard.inputCreditCardCVV.$touched>\n							<div class=arrow></div>\n							<h4>CVV must:</h4>\n							<ul>\n								<li ng-class=cvvValidFormat>Be <strong>{{ cvvLength }} digits</strong> long</li>\n							</ul>\n						</div>\n					</div>\n				</div>\n			</div>\n\n			<div class=row>\n				<div class=col-xs-4>\n					<div class=form-group>\n						<div class="th-credit-card__exp-month th-dropdown" dropdown>\n							<button id=inputCreditCardExpMonth name=inputCreditCardExpMonth class="dropdown-toggle form-control immediate-help" type=button data-toggle=dropdown dropdown-togle aria-haspopup=true role=button aria-expanded=false data-ng-class="{ \'ng-invalid\': card.expMonth === \'\' || expDateInvalid === undefined, \'ng-valid\': expDateInvalid === \'valid\' }" data-vn-placeholder=MM data-ng-model=card.expMonth data-ng-change=validateChange() value="{{ card.expMonth }}">\n\n								{{ card.expMonth }}<span class=caret></span>\n							</button>\n							<div class="input-help top-left -dropdown" ng-if=frmCreditCard.inputCreditCardExpMonth.$touched>\n								<div class=arrow></div>\n								<h4>Expiration date must:</h4>\n								<ul>\n									<li ng-class=expDateInvalid>Be <strong>future</strong> date</li>\n								</ul>\n							</div>\n							<ul class=dropdown-menu role=menu aria-labelledby=inputCreditCardExpMonth>\n								<li ng-repeat="month in months track by $index">\n									<a role=menuitem tabindex=-1 href data-ng-click="onExpMonthChanged(month, \'inputCreditCardExpMonth\');">\n\n										{{ month.label }}\n									</a>\n								</li>\n							</ul>\n						</div>\n					</div>\n				</div>\n				<div class=col-xs-4>\n					<div class=form-group>\n						<div class="th-credit-card__exp-year th-dropdown" dropdown>\n							<button id=inputCreditCardExpYear name=inputCreditCardExpYear class="dropdown-toggle form-control immediate-help" type=button data-toggle=dropdown dropdown-toggle aria-haspopup=true role=button aria-expanded=false data-ng-class="{ \'ng-invalid\': card.expYear === \'\' || expDateInvalid === undefined }" data-vn-placeholder=YY data-ng-model=card.expYear data-ng-change=validateChange() value="{{ card.expYear }}">\n\n								{{ card.expYear }}<span class=caret></span>\n							</button>\n							<div class="input-help top-left -dropdown" ng-if=frmCreditCard.inputCreditCardExpYear.$touched>\n								<div class=arrow></div>\n								<h4>Expiration date must:</h4>\n								<ul>\n									<li ng-class=expDateInvalid>Be <strong>future</strong> date</li>\n								</ul>\n							</div>\n							<ul class=dropdown-menu role=menu aria-labelledby=inputCreditCardExpYear>\n								<li ng-repeat="year in rangeYears() track by $index">\n									<a role=menuitem tabindex=-1 href data-ng-click="onExpYearChanged(year, \'inputCreditCardExpYear\');">\n\n										{{ year }}\n									</a>\n								</li>\n							</ul>\n						</div>\n					</div>\n				</div>\n				<div class=col-xs-4>\n					<div class=form-group>\n						<span class=th-credit-card__img data-ng-class=card.ccCssClass></span>\n					</div>\n				</div>\n			</div>\n\n		</form>\n	</div>\n	<div class=container-fluid>\n		<div class=row data-ng-if=showCancelButtonValue>\n			<div class=col-xs-6>\n				<button class="btn btn-default btn-block btn-lg th-checkout__step__cancel" data-ng-click=onCancel()>\n					{{cancelText}}\n				</button>\n			</div>\n			<div class=col-xs-6>\n				<button class="btn btn-primary btn-block btn-lg th-checkout__step__btn__continue" data-ng-click=saveCard() data-ng-disabled=disabledButton data-ng-if=showSaveButtonValue>\n					{{saveText}}&nbsp;<i class="fa fa-angle-right"></i>\n				</button>\n			</div>\n		</div>\n		<div class=row data-ng-if=!showCancelButtonValue>\n			<div class=col-xs-12>\n				<button class="btn btn-primary btn-block btn-lg th-checkout__step__btn__continue" data-ng-click=saveCard() data-ng-disabled=disabledButton data-ng-if=showSaveButtonValue>\n					{{saveText}}&nbsp;<i class="fa fa-angle-right"></i>\n				</button>\n			</div>\n		</div>\n	</div>\n</div>'),e.put("checkout/pay-with/vn-credit-card-picker.html",'<div ng-cloak>\n\n	<div class=th-checkout__step__drawer data-ng-class="{\'-open\': openCreditCards}">\n\n		<div class=th-checkout__step__drawer__body data-ng-show=openCreditCards data-ng-cloak data-ng-switch=state>\n\n			<div data-ng-switch-when=PICK>\n				<a href class=th-checkout__step__drawer__close data-ng-click=closePicker()>\n					<i class="fa fa-close fa-2x"></i>\n				</a>\n\n				<div class=th-checkout__step__drawer__title>Choose credit card</div>\n\n				<div class=th-credit-card__choose>\n					<div class=list-group ng-cloak>\n						<a href class="list-group-item -clickable" ng-repeat-end ng-cloak data-ng-click=addCard()>\n							Enter a different card\n						</a>\n						<label class="list-group-item -radio" data-ng-repeat="profile in cardList" data-ng-class="{\'-first\' : $index === 0}" for="profile{{ $index }}">\n							<input type=radio id="profile{{ $index }}" name=profile data-ng-value=true data-ng-model=profile.preferred data-ng-class="{\'-inactive\' : !profile.preferred, \'-selected\' : profile.preferred}" data-ng-change="setIndex({{ $index }}); choosePicker()">\n\n							<div>\n								<span class=th-credit-card__img data-ng-class=getCssClass(profile)></span>\n								<span class=th-credit-card__display__last4>{{ profile.card.last4 }}</span>\n								<span class="th-credit-card__display__exp pull-right">{{ profile.card.expMonth }}/{{ profile.card.expYear }}</span>\n							</div>\n						</label>\n					</div>\n\n					<button class="btn btn-primary btn-block btn-lg th-checkout__step__btn__continue" data-ng-click=choosePicker()>\n						Continue&nbsp;<i class="fa fa-angle-right"></i>\n					</button>\n				</div>\n\n				<div class=th__back-button>\n					<a href=javascript:void(0); data-ng-click=closePicker()>\n						<i class="fa fa-arrow-left">&nbsp;back</i>\n					</a>\n				</div>\n			</div>\n\n			<div data-ng-switch-when=ENTER>\n				<div class=th-checkout__step__drawer__title>Add credit card</div>\n				<div data-vn-credit-card-editor data-card=card data-on-dirty=onDirtyCard() data-on-save=onSaveCard() data-show-save-button=true>\n				</div>\n				<div class=th__back-button>\n					<a href=javascript:void(0); data-ng-click=goBackFromEnter()>\n						<i class="fa fa-arrow-left">&nbsp;back</i>\n					</a>\n				</div>\n			</div>\n\n		</div>\n	</div>\n\n</div>'),e.put("checkout/review/review-details-2.html",'<div data-ng-controller=ReviewDetailsCtrl data-ng-hide="device.info.shortname == \'desktop\'">\n\n	<div class="th-address__display -readonly panel panel-default" data-ng-if=shippingAddress>\n		<div class=panel-heading>Ship To</div>\n		<div vn-address-display data-shipping=true data-address=shippingAddress class=panel-body></div>\n	</div>\n\n	<div class="th-checkout__ship-method panel panel-default">\n		<div class=panel-heading>Shipping Method</div>\n		<div class="th-checkout__ship-method__display panel-body" data-ng-if=shippingMethod>\n			<div class=th-checkout__ship-method__display__name data-ng-bind-html=shippingMethod.name></div>\n			<div class=th-checkout__ship-method__display__price>{{ shippingMethod.price | vnCurrency }}</div>\n		</div>\n	</div>\n\n	<div class="panel panel-default">\n		<div class=panel-heading>Paid With</div>\n		<div data-vn-credit-card-display data-card=payment.card data-state=NOCVV data-show-arrow=false data-readonly=true>\n		</div>\n	</div>\n\n	<div class="th-address__display -readonly panel panel-default" data-ng-if=billingAddress>\n		<div class=panel-heading>Billing Address</div>\n		<div vn-address-display data-address=billingAddress class=panel-body></div>\n	</div>\n\n</div>'),e.put("checkout/review/vn-review-details.html",'<div>\n\n	<div class="th-address__display -readonly panel panel-default">\n		<div class=panel-heading>Ship To</div>\n		<vn-address-display data-address=shippingAddress data-shipping=true data-show-edit-button=false class=panel-body></vn-address-display>\n	</div>\n\n	<div class="th-checkout__thanks__display panel panel-default">\n		<div class=panel-heading>Shipping Method</div>\n		<div class=panel-body>\n			<div class=row>\n				<div class=col-xs-7>\n					<div class=th-checkout__thanks__display__name data-ng-bind-html=shippingMethod.name></div>\n				</div>\n				<div class="col-xs-5 align-right">\n					<div class=th-checkout__thanks__display__price>{{ shippingMethod.price | vnCurrency }}</div>\n				</div>\n			</div>\n		</div>\n	</div>\n\n	<div class="th-checkout__thanks__display panel panel-default">\n		<div class=panel-heading>Paid With</div>\n		<div class=panel-body>\n			<div class=row>\n				<div data-ng-if=payment.card>\n					<div class=col-xs-8>\n						<span class=th-credit-card__img data-ng-class=payment.card.ccCssClass></span>\n						<span class=th-credit-card__display__last4>\n							<span class=hidden-xs>{{ payment.card.cardNumber | vnCreditCard:payment.card.cardTypeName}}</span>\n							<span class="hidden-sm hidden-md hidden-lg hidden-xl">{{payment.card.last4}}</span>\n						</span>\n					</div>\n					<div class="col-xs-4 align-right">\n						<span class=th-credit-card__display__exp>{{payment.card.expMonth }}/{{payment.card.expYear }}</span>\n					</div>\n				</div>\n				<div data-ng-if=!payment.card>\n					<div tabindex=0>\n						<div class=col-xs-12>\n							<img src=https://www.paypalobjects.com/webstatic/en_US/i/buttons/pp-acceptance-small.png alt="Buy now with PayPal">&nbsp;&nbsp;\n							{{paypalEmail}}\n						</div>\n					</div>\n				</div>\n			</div>\n		</div>\n	</div>\n\n	<div class="th-checkout__thanks__display -readonly panel panel-default">\n		<div class=panel-heading>Billing Address</div>\n		<div vn-address-display data-address=billingAddress class=panel-body></div>\n	</div>\n</div>'),e.put("checkout/review/vn-review.html",'<div class="th-checkout__review panel panel-default">\n	<div class=panel-heading>Order Details</div>\n	<div class=panel-body>\n\n		<div class="th-checkout__review__totals clearfix">\n			<div class=th-checkout__review__totals__count>{{ cart.totals.qty }} items</div>\n			<div class=th-checkout__review__totals__expand ng-class="{expanded: !reviewItems}"><button data-ng-click="reviewItems = !reviewItems"><span></span></button></div>\n			<div class=th-checkout__review__totals__amount>{{ cart.totals.items | currency }}</div>\n		</div>\n\n		<div class=th-checkout__review__items data-ng-show=!reviewItems>\n			<div class="th-checkout__review__items__item clearfix" data-ng-repeat="item in cart.items | reverse" data-ng-class="{\'-last\': $last}">\n\n				<div class=th-checkout__review__items__item-image>\n					<img data-ng-src="{{ item.imgUrl }}">\n				</div>\n\n				<div class=th-checkout__review__items__item-info>\n					<div class=th-checkout__review__items__item-info--name>\n						<span>{{ item.name }}</span>\n					</div>\n\n					<div class=th-checkout__review__items__item-info--price>{{ item.pricing.unitPrice | currency }}</div>\n\n					<div class=th-checkout__review__items__item-info--option data-ng-repeat="option in item.options">\n						<span>{{ option.optionText }}</span>\n					</div>\n\n					<div class=item-info-row>\n						<div class=th-checkout__review__items__item-info--qty>\n							<span>Qty</span>&nbsp;{{ item.qty }}\n						</div>\n						<div class=th-checkout__review__items_-info--subtotal>{{ item.pricing.subtotal | currency }}</div>\n					</div>\n\n					<div class=item-info-row data-ng-if="item.giftWrap.price > 0">\n						<div class=th-checkout__review__items__item-info--qty>\n							<span>Gift Wrap</span>\n						</div>\n						<div class=th-checkout__review__items__item-info--subtotal>{{ item.giftWrap.price | currency }}</div>\n					</div>\n\n					<div class=item-info-row data-ng-if="item.giftWrap.message != \'\'">\n						<span>Message:</span>&nbsp;"{{ item.giftWrap.message }}"\n					</div>\n				</div>\n			</div>\n		</div>\n\n		<div class=th-checkout__review__discounts data-ng-if=cart.discounts.length>\n			<div class=th-checkout__review__discounts__discount data-ng-repeat="discount in cart.discounts">\n				<div class=discount-info-row>\n					<div class=th-checkout__review__discounts__discount-info>\n						<span>{{ discount.name }}</span>\n					</div>\n					<div class=th-checkout__review__discounts__discount-info--subtotal>{{ discount.value | vnCurrency }}</div>\n				</div>\n			</div>\n		</div>\n\n		<div class=th-checkout__review__store-credit data-ng-if="cart.customer.storeCredit != 0">\n			<div class=store-credit-info-row>\n				<div class=th-checkout__review__store-credit-info>\n					<span>Store Credit</span>\n				</div>\n				<div class=th-checkout__review__store-credit-info--subtotal>{{ cart.customer.storeCredit | vnCurrency }}</div>\n			</div>\n		</div>\n\n		<div class=th-checkout__review__shipping-method>\n			<div class=shipping-method-info-row>\n				<div class=th-checkout__review__shipping-method-info>\n					<span>Shipping</span>\n					\n						\n					\n				</div>\n				<div class=th-checkout__review__shipping-method-info--subtotal>{{cart.totals.shipping | vnCurrency }}</div>\n			</div>\n		</div>\n\n		<div class=th-checkout__review__tax>\n			<div class=tax-info-row>\n				<div class=th-checkout__review__tax-info>\n					<span>Tax</span>\n				</div>\n				<div class=th-checkout__review__tax-info--subtotal>{{ cart.totals.taxTotal | currency }}</div>\n			</div>\n		</div>\n\n		<div class=th-checkout__review__grand-total>\n			<div class=grand-total-info-row>\n				<div class=th-checkout__review__grand-total-info>\n					<span>Grand Total</span>\n				</div>\n				<div class=th-checkout__review__grand-total-info--subtotal>{{ cart.totals.grandTotal | currency }}</div>\n			</div>\n		</div>\n	</div>\n</div>'),e.put("checkout/ship-method/ship-method.html",'<div data-ng-controller=ShipMethodCtrl data-ng-show="checkout.cart.shippingMethods.length > 0" data-ng-switch=isEditable()>\n\n	<div class=list-group data-ng-switch-when=edit>\n		<div class=panel-heading>Shipping Method</div>\n		<label class="list-group-item -radio" data-ng-repeat="method in checkout.cart.shippingMethods" for="shipping{{ $index }}">\n\n			<input type=radio id="shipping{{ $index }}" name=shipping data-ng-value=true data-ng-model=method.selected data-ng-change="setPreferredShippingMethod({{ $index }})">\n			<div>\n				<div data-ng-bind-html=method.name class=th-checkout__ship-method__name></div>\n				<div class=th-checkout__ship-method__price>{{ method.price | vnCurrency }}</div>\n			</div>\n		</label>\n	</div>\n	<div class="panel panel-default" data-ng-switch-when=show data-ng-click=editShippingMethod()>\n		<div class=panel-heading>Shipping Method</div>\n		<div class="th-checkout__ship-method__display panel-body">\n			<div class=th-checkout__ship-method__display__name data-ng-bind-html=checkout.cart.shippingMethods[currentShippingMethodIdx].name></div>\n			<div class=th-checkout__ship-method__display__price>{{ checkout.cart.shippingMethods[currentShippingMethodIdx].price | vnCurrency }}</div>\n		</div>\n	</div>\n</div>'),e.put("checkout/ship-to/ship-to-views.html",'<div class=th-checkout__ship-to data-ng-controller="ShipToViewsCtrl as vm" data-ng-switch=vm.state data-ng-init=vm.init()>\n\n	<div class="th-address__display panel panel-default" data-ng-switch-when=VIEWADDRESS>\n		<div class=panel-heading>Shipping Address</div>\n		<vn-address-display data-address=vm.shippingAddress data-on-click=vm.editShippingAddress() data-shipping=true class=panel-body data-show-edit-button=vm.shippingAddress></vn-address-display>\n	</div>\n\n	<div class="th-address__enterAddress panel panel-default" data-ng-switch-when=EDITADDRESS ng-cloak>\n		<div data-vn-address-editor="" address=vm.shippingAddress countries=vm.countries data-on-save=vm.saveShippingAddress() data-show-save-button=true data-shipping=true data-save-text="Get Shipping Rates" class=panel-body></div>\n	</div>\n\n	<div vn-address-picker data-ng-switch-when=PICKADDRESS data-address-list=vm.user.shippingAddresses data-new-address-title="Add Shipping Address" data-select-address-title="Choose Shipping Address" data-back-to-text="back to Ship To" data-show-copy-address=vm.showCopyAddress data-countries=vm.countries data-on-address-selected=vm.onAddressSelected() data-shipping=true data-save-address=vm.onAddressAdded(newAddress)></div>\n\n</div>'),
e.put("checkout/thank-you/thank-you.html",'<div class=th-checkout__thanks ng-cloak="">\n	<div class=th-checkout__thanks__header>\n		<div class=title>Thank you for your order.</div>\n		<div class=order-info>Your order number is No.{{ ::orderId }}</div>\n		<div class=action-info>A copy of this has been sent to<br>{{ ::userEmail }}</div>\n\n		<br style="clear : both">\n	</div>\n\n	<div class=container-fluid>\n		<div class=row>\n			<div class="col-sm-12 col-sm-offset-0 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2">\n\n				<div class=row>\n					<div class="th-checkout__thanks__column col-xs-12 col-sm-6 col-md-6">\n						<div vn-review=checkout.cart></div>\n					</div>\n					<div class="th-checkout__thanks__column col-xs-12 col-sm-6 col-md-6">\n						<div data-ng-if="checkout.cart.paymentProfile.method !== \'PAYPAL EXPRESS\'">\n							<div vn-review-details shipping-address=checkout.cart.shippingAddress shipping-method=shippingMethod payment=checkout.cart.paymentProfile billing-address=checkout.cart.billingAddress></div>\n						</div>\n						<div data-ng-if="checkout.cart.paymentProfile.method === \'PAYPAL EXPRESS\'">\n							<div vn-review-details shipping-address=checkout.cart.shippingAddress shipping-method=shippingMethod payment=checkout.cart.paypalInfo paypal-email={{paypalEmail}} billing-address=checkout.cart.billingAddress></div>\n						</div>\n					</div>\n\n					<br style="clear : both">\n				</div>\n\n			</div>\n		</div>\n	</div>\n</div>'),e.put("dropdown/vn-dropdown.tpl.html",'<div class="vn-dropdown th-dropdown" dropdown>\n	<button id=dropdownButton name="{{name + \'Label\'}}" class="vn-dropdown__trigger form-control dropdown-toggle form-control" data-vn-placeholder={{placeholder}} data-ng-model=selectedOption.selectedDisplayValue dropdown-toggle data-toggle=dropdown value={{selectedOption.selectedDisplayValue}}>{{selectedOption.selectedDisplayValue}}<span class=caret></span>\n	</button>\n	<ul class="vn-dropdown__menu dropdown-menu" role=menu>\n		<li role=presentation data-ng-repeat="option in options">\n			<a role=menuitem data-ng-click=changeOption($index) href>{{option.displayValue}}</a>\n		</li>\n	</ul>\n	<select name={{name}} class=vn-dropdown__select ng-model=selectedOption ng-options="option.selectedDisplayValue for option in options">\n	</select>\n</div>'),e.put("easy-zoom/vnEasyZoom.tpl.html","<div class=easyzoom data-ng-class=\"{ 'easyzoom--adjacent': ezAdjacent, 'easyzoom--overlay': ezOverlay }\">\n    <a data-ng-href={{ezZoomSrc}}>\n        <img class=img-responsive data-ng-src={{ngSrc}} alt={{alt}}>\n        <div class=th-product-view__zoom></div>\n    </a>\n</div>"),e.put("login/forgot-password.html",'<div class=th-login>\n	<div class=container-fluid>\n		<div class=row>\n			<div class="col-xs-12 col-xs-offset-0 col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3 col-lg-4 col-lg-offset-4">\n				<div class=th__title>Forgot Your Password?</div>\n				<div class=th__subtitle>Enter your email address and we\'ll send you a link to reset your password</div>\n				<div class=th-checkout__login__form>\n					<form id=frmForgotPassword name=frmForgotPassword novalidate data-ng-submit=forgotPassword()>\n						<div class=row>\n							<div class=col-xs-12>\n								<div class=form-group>\n									<input id=inputLoginEmail name=inputLoginEmail class="form-control input-lg immediate-help" data-vn-placeholder="E-mail address" data-ng-model=email data-ng-change=checkValidity() data-vn-email-validate required>\n\n									<div class="input-help bottom" ng-if=frmForgotPassword.inputLoginEmail.$touched>\n										<div class=arrow></div>\n										<h4>E-mail must:</h4>\n										<ul>\n											<li ng-class=emailEmpty>Not be <strong>empty</strong></li>\n											<li ng-class=validEmail>Be a <strong>valid</strong> address</li>\n										</ul>\n									</div>\n								</div>\n							</div>\n						</div>\n					</form>\n					<button class="btn btn-primary btn-block btn-lg th-checkout__login__continue" data-ng-disabled=disabledButton data-ng-click=forgotPassword()>\n						Reset Password&nbsp;<i class="fa fa-angle-right"></i>\n					</button>\n				</div>\n			</div>\n		</div>\n	</div>\n</div>'),e.put("login/login.html",'<div class=row>\n	<div class="col-xs-12 col-xs-offset-0 col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3 col-lg-4 col-lg-offset-4">\n\n		<div data-vn-app-message="" data-message-position=static></div>\n		<div data-vn-login data-allow-anonymous=true data-redirect-to=checkout.ship-method data-button-text=Continue></div>\n		\n	</div>\n</div>'),e.put("login/my-account-login.html",'<div class=row>\n	<div class="col-xs-12 col-xs-offset-0 col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3 col-lg-4 col-lg-offset-4">\n		<div data-vn-app-message="" data-message-position=static></div>\n		<div data-vn-login data-show-create-account=true data-create-account-modal=false data-allow-anonymous=false data-redirect-to=my-account data-button-text="Sign In" data-title="Account Login"></div>\n	</div>\n</div>'),e.put("login/vn-login-email.html",'<div data-ng-switch=state>\n	<div data-ng-switch-when=start class=container-fluid>\n		<div class=th__title>Please enter your email address.</div>\n\n		<div class=th-login__form>\n			<form id=frmLoginEmail name=frmLoginEmail novalidate data-ng-submit=checkEmail()>\n				<div class=row>\n					<div class=col-xs-12>\n						<div class=form-group>\n							<input type=email data-vn-email-validate id=inputLoginEmail name=inputLoginEmail class="form-control input-lg immediate-help" data-vn-placeholder="E-mail address" data-ng-model=user.email data-ng-change=validateChange() pattern=.{1,75} required>\n\n						</div>\n					</div>\n				</div>\n			</form>\n\n			<button class="btn btn-primary btn-block btn-lg th-login__continue" data-ng-disabled=!frmLoginEmail.$valid data-ng-click=checkEmail()>\n				Continue <i class="fa fa-angle-right"></i>\n			</button>\n		</div>\n	</div>\n	<div data-ng-switch-when=login>\n		<div data-vn-login data-allow-anonymous=false data-redirect-to={{redirectTo}} data-show-create-account=false data-email={{user.email}} data-button-text={{buttonText}} data-title={{title}}></div>\n	</div>\n	<div data-ng-switch-when=anonymous>Anonymous</div>\n</div>'),e.put("login/vn-login-link.html","<div>\n	<span data-ng-if=!loggedIn>\n		<a data-ui-sref=login data-translate=header.signIn>Sign In</a>\n	</span>\n	<span data-ng-if=loggedIn>\n		<a data-ui-sref=logout data-translate=header.signOut>Sign Out</a>\n	</span>\n</div>"),e.put("login/vn-login.html",'<div class=th-login>\n	<div class=th__title>{{title}}</div>\n	<div class=container-fluid>\n		<div class=row ng-if=loginError>\n			<div class=th-login__error data-ng-click=clearError()>\n				Login Failed\n			</div>\n		</div>\n		<div class=row>\n			<div class=col-xs-12>\n\n				<div class=th-login__form>\n					<form id=frmLogin name=frmLogin novalidate data-ng-submit=updateUser()>\n						<div class=row>\n							<div class=col-xs-12>\n								<div class=form-group>\n									<input type=email data-vn-email-validate id=inputLoginEmail name=inputLoginEmail class="form-control input-lg immediate-help" data-ng-model=user.email data-ng-change=validateChange() data-vn-placeholder="E-mail address" pattern=.{1,75} required>\n								</div>\n							</div>\n						</div>\n\n						<div class=row data-ng-if="!user.anonymous || !allowAnonymous">\n							<div class=col-xs-12>\n								<div class=form-group>\n									<input type=password id=inputLoginPassword name=inputLoginPassword class="form-control input-lg immediate-help" data-vn-placeholder=Password data-ng-model=user.password data-ng-enter=updateUser() data-ng-change=validateChange() pattern=.{1,75} required>\n								</div>\n							</div>\n						</div>\n					</form>\n\n					<div class=th-login__user-type ng-show=allowAnonymous>\n						<div class=btn-group>\n							<button type=button data-ng-click=anonUser() class="btn btn-default" data-ng-class="{ \'btn-primary\' : user.anonymous }">I\'m a new customer\n							</button>\n							<button type=button data-ng-click=nonAnonUser() class="btn btn-default" data-ng-class="{ \'btn-primary\': !user.anonymous }">I\'ve ordered before\n							</button>\n						</div>\n					</div>\n\n					<button class="btn btn-primary btn-block btn-lg th-login__continue" data-ng-disabled=disabledButton data-ng-click=updateUser()>\n						{{buttonText}}&nbsp;<i class="fa fa-angle-right"></i>\n					</button>\n				</div>\n				<div class=th-login__footer>\n					<div data-ng-if="showCreateAccount == \'true\'">\n						New? <a href data-ng-click=showSignup()>Create an account</a>\n					</div>\n					<div>\n						<a href ui-sref=forgot-password>Forgot your password</a>?\n					</div>\n				</div>\n\n			</div>\n		</div>\n	</div>\n</div>'),e.put("modal/vnAddressDeleteConf.tpl.html",'<div class="th-error-wrap clearfix th-modal">\n	<a href class=th-modal__close ng-click=$dismiss()>\n		<i class="fa fa-times"></i>\n	</a>\n	<div class=th-error-details>\n		<div class="th-error-details__header modal-header">\n			<div class=modal-body>\n				<div class=th-modal__message>\n					{{ :: message }}\n				</div>\n\n				<div class="th-modal__body row">\n					<div class=col-xs-12>\n						<div class=th-message-details__section2 vn-address-display="" address=::addressToDelete></div>\n					</div>\n				</div>\n			</div>\n			<div class="modal-footer container-fluid">\n				<div class=row>\n					<div class="col-xs-12 col-sm-6">\n						<button class="btn btn-default btn-lg th-modal__button th-modal__button--secondary" ng-click=$dismiss()>Cancel</button>\n					</div>\n					<div class="col-xs-12 col-sm-6">\n						<button class="btn btn-primary btn-lg th-modal__button th-modal__button--primary" ng-click=$close()>{{::buttonText}}</button>\n					</div>\n				</div>\n			</div>\n		</div>\n	</div>\n</div>'),e.put("modal/vnErrorModal.tpl.html",'<div class=th-error-details>\n	<div class="th-error-details__header modal-header">\n		<h1>Sorry, something went wrong with the page...</h1>\n\n		<div class=modal-body>\n			<p class=th-error-details__section1>... but it might just be a small glitch. Try refreshing the page\n				to see if that fixes it.</p>\n\n			<p class=th-error-details__section2>\n				If the problem persists, please try again later.\n			</p>\n		</div>\n		<div class=modal-footer>\n			<button class="btn btn-warning" ng-click=$close()>Close</button>\n		</div>\n	</div>\n</div>'),e.put("modal/vnLogin.tpl.html",'<div class=vn-spinner data-ng-if=isLoading vn-busy-animation vn-busy-animation-show={{isLoading}} vn-busy-animation-size=80px vn-busy-animation-class=vn-spinner__inner></div>\n\n<div class=modal-header>\n	<button type=button class=close data-ng-click=$close()>&times;</button>\n	<h1 class=modal-title>Log In</h1>\n</div>\n<div data-vn-login data-title="" data-allow-anonymous=false data-show-create-account=true data-create-account-modal=true data-redirect-to="" data-button-text=Continue data-show-signup=false></div>'),e.put("modal/vnMessageModal.tpl.html",'<div class="th-error-wrap clearfix">\n	<div class=th-error-details>\n		<div class="th-error-details__header modal-header">\n			<h1>This is a generic app message template</h1>\n			<div class=modal-body>\n				<p class=th-message-details__section1>It should be over ridden in the calling application</p>\n\n			</div>\n			<div class=modal-footer>\n				<button class="btn btn-warning" ng-click=$dismiss()>Ok</button>\n				<button class="btn btn-warning" ng-click=$close()>Cancel</button>\n			</div>\n		</div>\n	</div>\n</div>'),e.put("modal/vnPaymentProfileDeleteConf.tpl.html",'<div class="th-error-wrap clearfix th-modal">\n	<a href class=th-modal__close ng-click=$dismiss()>\n		<i class="fa fa-times"></i>\n	</a>\n	<div class=th-error-details>\n		<div class="th-error-details__header modal-header">\n			<div class=modal-body>\n				<div class=th-modal__message>\n					{{ :: message }}\n				</div>\n\n				<div class="th-modal__body row">\n					<div class=col-xs-12>\n						<span class=th-credit-card__img data-ng-class=::paymentProfileToDelete.card.ccCssClass></span>\n						<span>{{ ::paymentProfileToDelete.card.cardNumber.slice(-4) }}</span>\n						<span>{{ ::paymentProfileToDelete.card.expMonth }}/{{ ::paymentProfileToDelete.card.expYear }}</span>\n					</div>\n				</div>\n\n			</div>\n			<div class="modal-footer container-fluid">\n				<div class=row>\n					<div class="col-xs-12 col-sm-6">\n						<button class="btn btn-default btn-lg th-modal__button th-modal__button--secondary" ng-click=$dismiss()>Cancel</button>\n					</div>\n					<div class="col-xs-12 col-sm-6">\n						<button class="btn btn-primary btn-lg th-modal__button th-modal__button--primary" ng-click=$close()>{{::buttonText}}</button>\n					</div>\n				</div>\n			</div>\n		</div>\n	</div>\n</div>'),e.put("modal/vnSignup.tpl.html",'<div class=vn-spinner data-ng-if=isLoading vn-busy-animation vn-busy-animation-show={{isLoading}} vn-busy-animation-size=80px vn-busy-animation-class=vn-spinner__inner></div>\n\n<div class=modal-header>\n	<button type=button class=close data-ng-click=$close()>&times;</button>\n	<h1 class=modal-title>Sign Up</h1>\n</div>\n<div data-vn-signup data-title="" data-button-text="Create Account"></div>'),e.put("modal/vnWriteReview.tpl.html","<div class=modal-header>\n	<button type=button class=close data-ng-click=$close()>&times;</button>\n	<h1 class=modal-title>Review for {{product.name}}</h1>\n</div>\n<div data-vn-write-review data-product=product></div>"),e.put("my-account/billing-addresses.html",'<div class="th-my-account container" data-ng-cloak="">\n\n	<div class="th-my-account__breadcrumbs row">\n		<div class=col-xs-12>\n			<div ncy-breadcrumb></div>\n		</div>\n	</div>\n\n	<div class=th-my-account__title>\n		{{vm.pageTitle}}\n	</div>\n\n	<div class=row>\n		<div class="col-xs-12 col-sm-7 col-md-6">\n			<div class=th-my-account__overlay data-ng-if=vm.loading vn-busy-animation vn-busy-animation-show="{{ vm.loading }}" vn-busy-animation-size=80px vn-busy-animation-class=th-my-account__overlay--loader></div>\n\n			<div data-ng-show="!vm.addressToEdit && !vm.addressToAdd" class="th-address__choose animate-show">\n				<div class=list-group>\n					<a href class="list-group-item -clickable" data-ng-click=vm.addAddress() ng-repeat-end>\n						<i class="fa fa-plus"></i>&nbsp;&nbsp;Add a Billing Address</a>\n					\n					<div data-ng-repeat="billingAddress in vm.billingAddresses" class=list-group-item>\n						<div vn-address-display-actions="" data-address=billingAddress data-on-make-preferred-clicked=vm.makeAddressPreferred($index) data-on-delete-clicked=vm.deleteAddress(address) data-on-edit-clicked="vm.editAddress(address, $index)"></div>\n					</div>\n				</div>\n			</div>\n			<div data-ng-show=vm.addressToEdit class="panel panel-default animate-show">\n				<div data-vn-address-editor="" data-ng-if=vm.addressToEdit data-countries=vm.countries data-address=vm.addressToEdit data-title="Edit Shipping Address" data-on-save=vm.saveEditedAddress() data-on-cancel=vm.cancelEditAddress() data-show-save-button=true data-save-text=Save data-show-cancel-button=true class=panel-body>\n				</div>\n			</div>\n			<div data-ng-show=vm.addressToAdd class="panel panel-default animate-show">\n				<div data-vn-address-editor="" data-ng-if=vm.addressToAdd data-countries=vm.countries data-address=vm.addressToAdd data-title="Edit Shipping Address" data-on-save=vm.saveNewAddress() data-on-cancel=vm.cancelAddAddress() data-show-save-button=true data-save-text=Add data-show-cancel-button=true class=panel-body>\n				</div>\n			</div>\n\n		</div>\n		<div class="col-xs-12 col-sm-5 col-md-4 col-md-offset-1 th-my-account__group">\n			<div class=th-my-account__title>More Addresses &amp; Payments</div>\n			<ul class=th-my-account__group__links>\n				<li><a href="" data-ui-sref=my-account.shipping-addresses>Shipping Addresses</a></li>\n				<li><a href="" data-ui-sref=my-account.payment-profiles>Payment Profiles</a></li>\n			</ul>\n		</div>\n	</div>\n	<div class=th__back-button>\n		<a ui-sref=my-account>\n			<i class="fa fa-arrow-left"></i>&nbsp;&nbsp;Back to My Account\n		</a>\n	</div>\n</div>'),e.put("my-account/change-email.html",'<div class="th-my-account th-change-email container" data-ng-cloak="">\n	<div class="th-my-account__breadcrumbs row">\n		<div class=col-xs-12>\n			<div ncy-breadcrumb></div>\n		</div>\n	</div>\n\n	<div class=th-my-account__title>\n		Change Email\n	</div>\n\n	<div class=row>\n		<div class="col-xs-12 col-sm-8 col-md-6">\n			<div class=th-my-account__overlay data-ng-if=vm.loading vn-busy-animation vn-busy-animation-show="{{ vm.loading }}" vn-busy-animation-size=80px vn-busy-animation-class=th-my-account__overlay--loader></div>\n\n			<div class=th-change-email__current>\n				<div class=th-change-email__current__title>Current Email</div>\n				<div class=th-change-email__current__email>{{user.email}}</div>\n			</div>\n\n			<form id=frmChangeEmail name=frmChangeEmail novalidate data-ng-submit="">\n				<div class=row>\n					<div class=col-xs-12>\n						<div>\n							<input id=changeEmail name=changeEmail class="form-control input-lg immediate-help" data-vn-placeholder="Updated E-mail" data-ng-model=user.changeEmail data-ng-class="{\'ng-invalid\':frmChangeEmail.confirmChangeEmail.$error.match}" data-ng-change=checkValidity() data-vn-email-validate required>\n\n							<div class="input-help bottom" ng-if=frmChangeEmail.changeEmail.$touched>\n								<div class=arrow></div>\n								<h4>E-mail must:</h4>\n								<ul>\n									<li ng-class=emailEmpty>Not be <strong>empty</strong></li>\n									<li ng-class=validEmail>Be a <strong>valid</strong> address</li>\n									<li ng-class=validLength>Be less than <strong>75</strong> characters</li>\n								</ul>\n							</div>\n						</div>\n					</div>\n				</div>\n				<div class=row>\n					<div class=col-xs-12>\n						<input id=confirmChangeEmail name=confirmChangeEmail class="form-control input-lg immediate-help" data-vn-placeholder="Confirm Updated E-mail" data-ng-model=user.confirmChangeEmail data-match=frmChangeEmail.changeEmail data-ng-change=checkValidity() data-vn-value-match={{user.changeEmail}} required>\n						<div class="input-help bottom" ng-if="frmChangeEmail.confirmChangeEmail.$touched && frmChangeEmail.confirmChangeEmail.$viewValue.length > 0">\n							<div class=arrow></div>\n							<ul>\n								<li ng-class=sameValue>Email addresses must match</li>\n							</ul>\n						</div>\n					</div>\n				</div>\n				<div class=row>\n					<div class=col-xs-12>\n						<input type=password id=inputPassword name=inputPassword class="form-control input-lg immediate-help" data-vn-placeholder=Password data-ng-model=user.password data-ng-change=checkValidity() data-vn-password-validate required>\n					</div>\n				</div>\n				<button class="btn btn-primary btn-block btn-lg th-checkout__login__continue" data-ng-disabled=changeButtonDisabled data-ng-click=changeEmail()>\n					Change Email&nbsp;<i class="fa fa-angle-right"></i>\n				</button>\n			</form>\n		</div>\n	</div>\n	<div class=th__back-button>\n		<a ui-sref=my-account>\n			<i class="fa fa-arrow-left"></i>&nbsp;&nbsp;Back to My Account\n		</a>\n	</div>\n\n</div>'),e.put("my-account/change-password.html",'<div class="th-my-account th-change-password container" data-ng-cloak="">\n	<div class="th-my-account__breadcrumbs row">\n		<div class=col-xs-12>\n			<div ncy-breadcrumb></div>\n		</div>\n	</div>\n\n	<div class=th-my-account__title>\n		Change Password\n	</div>\n\n	<div class=row>\n		<div class="col-xs-12 col-sm-8 col-md-6">\n			<div class=th-my-account__overlay data-ng-if=vm.loading vn-busy-animation vn-busy-animation-show="{{ vm.loading }}" vn-busy-animation-size=80px vn-busy-animation-class=th-my-account__overlay--loader></div>\n\n			<form id=frmChangePassword name=frmChangePassword novalidate data-ng-submit="">\n				<div class=row>\n					<div class=col-xs-12>\n						<input type=password id=inputPassword name=inputPassword class="form-control input-lg immediate-help" data-vn-placeholder="Current Password" data-ng-model=user.password data-ng-change=checkValidity() data-vn-password-validate required>\n					</div>\n				</div>\n				<div class=row>\n					<div class=col-xs-12>\n						<input type=password id=inputNewPassword name=inputNewPassword class="form-control input-lg immediate-help" data-vn-placeholder="New Password" data-ng-model=user.newPassword data-ng-change=checkValidity() data-vn-password-validate required>\n\n						<div class="input-help bottom" ng-if=frmChangePassword.inputNewPassword.$touched>\n							<div class=arrow></div>\n							<h4>Password must:</h4>\n							<ul>\n								<li ng-class=validLength>Be at least <strong>6</strong> characters</li>\n								<li ng-class=validLength>Be at most <strong>20</strong> characters</li>\n							</ul>\n						</div>\n					</div>\n				</div>\n				<div class=row>\n					<div class=col-xs-12>\n						<input type=password id=inputConfirmPassword name=inputConfirmPassword class="form-control input-lg immediate-help" data-vn-placeholder="Confirm Password" data-ng-model=user.confirmPassword data-ng-change=checkValidity() data-vn-value-match={{user.newPassword}} required>\n						<div class="input-help bottom" ng-if="frmChangePassword.inputConfirmPassword.$touched && frmChangePassword.inputConfirmPassword.$viewValue.length > 0">\n							<div class=arrow></div>\n							<ul>\n								<li ng-class=sameValue>Passwords must match</li>\n							</ul>\n						</div>\n					</div>\n				</div>\n				<button class="btn btn-primary btn-block btn-lg th-checkout__login__continue" data-ng-disabled=changeButtonDisabled data-ng-click=changePassword()>\n					Change Password&nbsp;<i class="fa fa-angle-right"></i>\n				</button>\n			</form>\n		</div>\n	</div>\n	<div class=th__back-button>\n		<a ui-sref=my-account>\n			<i class="fa fa-arrow-left"></i>&nbsp;&nbsp;Back to My Account\n		</a>\n	</div>\n\n</div>'),e.put("my-account/my-account.html",'<div data-vn-app-message="" data-message-position=fixed></div>\n<div ui-view>\n	<div class="container th-my-account">\n		<div class=row>\n			<div class="col-xs-12 th-my-account__group th-my-account__group--header">\n				<div class="th-my-account__title th-my-account__group--header__title">My Account</div>\n				<div class=th-my-account__group--header__welcome>\n					Hi, {{user.firstName}} (<a href ui-sref=logout>log out</a>)\n				</div>\n			</div>\n		</div>\n\n		<div class=row>\n			<div class="col-xs-12 th-my-account__group th-my-account__group--orders">\n				<div class=th-my-account__title>Orders</div>\n\n				<div class=vn-spinner data-ng-if=loading vn-busy-animation vn-busy-animation-show="{{ loading }}" vn-busy-animation-size=80px vn-busy-animation-class=vn-spinner__inner></div>\n				<div data-ng-if="orders.length == 0">\n					<p class=text-muted>\n						You haven\'t placed an order with us yet.\n					</p>\n				</div>\n\n				<div data-ng-if="orders.length > 0">\n					<div data-vn-order-table="" orders=orders class=hidden-xs></div>\n					<div data-vn-order-list-view="" orders=orders class="hidden-sm hidden-md hidden-lg hidden-xl"></div>\n					<div class=th-my-account__group__links>\n						<a href data-ui-sref=my-account.orders.list>View all Orders</a>\n					</div>\n				</div>\n			</div>\n		</div>\n\n		<div class=row>\n			<div class="col-xs-12 col-sm-6 th-my-account__group th-my-account__group--addresses">\n				<div class=th-my-account__title>Addresses &amp; Payments</div>\n				<ul class=th-my-account__group__links>\n					<li><a href="" data-ui-sref=my-account.shipping-addresses>Shipping Addresses</a></li>\n					<li><a href="" data-ui-sref=my-account.payment-profiles>Payment Profiles</a></li>\n					<li><a href="" data-ui-sref=my-account.billing-addresses>Billing Addresses</a></li>\n				</ul>\n			</div>\n			<div class="col-xs-12 col-sm-6 th-my-account__group th-my-account__group--email">\n				<div class=th-my-account__title>Email &amp; Password</div>\n				<ul class=th-my-account__group__links>\n					<li><a href="" data-ui-sref=my-account.change-email>Change Email Address</a></li>\n					<li><a href="" data-ui-sref=my-account.change-password>Change Password</a></li>\n				</ul>\n			</div>\n		</div>\n	</div>\n</div>'),e.put("my-account/orders.detail.html",'<div class="th-order-detail container">\n	<div class=row>\n		<div class=col-xs-12>\n\n			<div class=th-my-account__overlay data-ng-if=vm.loading vn-busy-animation vn-busy-animation-show="{{ vm.loading }}" vn-busy-animation-size=80px vn-busy-animation-class=th-my-account__overlay--loader></div>\n\n			<div class="th-my-account__breadcrumbs row">\n				<div class=col-xs-12>\n					<div ncy-breadcrumb></div>\n				</div>\n			</div>\n\n			<div class="th-order-detail__header row">\n				<div class=col-xs-12>\n					<div class="th-order-detail__title th-order-detail__header__title">Order Details</div>\n					<div class=th-order-detail__header__order-date>Placed on <span>{{::vm.order.orderDate | date}}</span></div>\n					<div class=th-order-detail__header__order-details>\n						<span class=th-order-detail__header__order-details__order-number>Order <span>#{{::vm.order.orderId}}</span></span> | <span class=th-order-detail__header__order-details__order-status>{{::vm.order.orderStatus}}</span>\n					</div>\n				</div>\n			</div>\n\n			<div class=row>\n				<div class="col-xs-12 col-sm-6">\n					<div class="panel panel-default th-order-detail__items">\n						<div class=panel-body>\n							<div class="row th-order-detail__items__product" data-ng-repeat="product in vm.order.orderItems">\n								<div class="col-xs-3 col-sm-3 col-md-3 th-order-detail__items__product__img">\n									<a href ui-sref="product({slug: product.slug})"><img data-ng-src={{product.imageUrl}} width=100%></a>\n								</div>\n								<div class="col-xs-6 col-sm-6 col-md-6">\n									<div class=th-order-detail__items__product__name>\n										<a href ui-sref="product({slug: product.slug})">{{::product.productName}}</a>\n									</div>\n									<div class=th-order-detail__items__product__qty>Qty: {{::product.quantity}}</div>\n									<div class=th-order-detail__items__product__options>{{::product.options}}</div>\n								</div>\n								<div class="col-xs-3 col-sm-3 col-md-3">\n									<div class="th-order-detail__items__product__price align-right currency">{{::product.price.subtotal | currency}}</div>\n								</div>\n							</div>\n						</div>\n						<div class=panel-footer>\n							<div class="row th-order-detail__items__discount" data-ng-repeat="discount in vm.order.discounts">\n								<div class=col-xs-8>{{::discount.couponCode}}</div>\n								<div class="align-right col-xs-4 currency">-{{::discount.value | currency}}</div>\n							</div>\n							<div class="row th-order-detail__items__shipping">\n								<div class=col-xs-8>Shipping</div>\n								<div class="align-right col-xs-4">{{::vm.order.totals.shipping | currency}}</div>\n							</div>\n							<div class="row th-order-detail__items__tax">\n								<div class=col-xs-8>Tax</div>\n								<div class="align-right col-xs-4">{{::vm.order.totals.taxTotal | currency}}</div>\n							</div>\n							<div class="row th-order-detail__items__total">\n								<div class=col-xs-8>Total</div>\n								<div class="align-right col-xs-4">{{::vm.order.totals.grandTotal | currency}}</div>\n							</div>\n						</div>\n					</div>\n				</div>\n\n				<div class="col-xs-12 col-sm-6">\n					<div class=th-order-detail__paid-with>\n						<div class="panel panel-default th-order-detail__paid-with">\n							<div class=panel-heading>Paid With</div>\n							<div class=panel-body>\n								<div data-ng-if="vm.order.paymentProfile.paymentMethod.toLowerCase() != \'paypal express\'">\n									<div class=th-credit-card__img data-ng-class="{\'th-credit-card__img--visa\': vm.order.paymentProfile.paymentMethod == \'Visa\', \'th-credit-card__img--amex\': vm.order.paymentProfile.paymentMethod == \'American Express\', \'th-credit-card__img--discover\': vm.order.paymentProfile.paymentMethod == \'Discover\', \'th-credit-card__img--mastercard\': vm.order.paymentProfile.paymentMethod == \'MasterCard\'}"></div>\n									<span class=th-order-detail__paid-with__card-number>{{::vm.order.paymentProfile.PCIaaS_MaskedCardRef}}</span>\n								</div>\n								<div data-ng-if="vm.order.paymentProfile.paymentMethod.toLowerCase() == \'paypal express\'">\n									<img src=https://www.paypalobjects.com/webstatic/en_US/i/buttons/pp-acceptance-small.png alt="Buy now with PayPal">\n								</div>\n							</div>\n						</div>\n					</div>\n					<div class=th-order-detail__shipping>\n						<div class="panel panel-default">\n							<div class=panel-heading>Shipping</div>\n							<div class=panel-body>\n								<div class=th-order-detail__shipping__name>{{::vm.order.shippingAddress.firstName}} {{::vm.order.shippingAddress.lastName}}</div>\n								<div class=th-order-detail__shipping__address-1>{{::vm.order.shippingAddress.address1}}</div>\n								<div class=th-order-detail__shipping__address-2>{{::vm.order.shippingAddress.address2}}</div>\n								<div>\n									<span class=th-order-detail__shipping__city>{{::vm.order.shippingAddress.city}}</span>,\n									<span class=th-order-detail__shipping__state>{{::vm.order.shippingAddress.state}}</span>\n									<span class=th-order-detail__shipping__zip>{{::vm.order.shippingAddress.postalCode}}</span>\n								</div>\n								<div data-ng-if="vm.order.trackingDetails.length > 0">\n									<hr>\n									<div class=th-order-detail__shipping__tracking-detail data-ng-repeat="tracking in vm.order.trackingDetails">\n										<div data-ng-if="tracking.shippingGateway != \'OTHER\'">\n											<div data-ng-bind-html=tracking.shippingMethodName></div>\n											<div>\n												Tracking: <span data-ng-if=tracking.trackingUri><a data-ng-href={{::tracking.trackingUri}} target=_blank>{{::tracking.trackingNumber}}</a></span>\n												<span data-ng-if=!tracking.trackingUri>{{::tracking.trackingNumber}}</span>\n											</div>\n										</div>\n									</div>\n								</div>\n\n							</div>\n						</div>\n					</div>\n					<div class=th-order-detail__notes data-ng-if="vm.order.misc.comment != \'\'">\n						<div class="panel panel-default">\n							<div class=panel-heading>Notes</div>\n							<div class=panel-body>\n								<div>{{::vm.order.misc.comment || "No Notes"}}</div>\n							</div>\n						</div>\n					</div>\n				</div>\n			</div>\n\n			<div class=th__back-button>\n				<a ui-sref=my-account>\n					<i class="fa fa-arrow-left"></i>&nbsp;&nbsp;Back to My Account\n				</a>\n			</div>\n		</div>\n	</div>\n</div>'),e.put("my-account/orders.html","<div ui-view></div>"),e.put("my-account/orders.list.html",'<div class="th-orders-list container" data-ng-cloak="" data-ng-init=vm.init()>\n	<div class=row>\n		<div class=col-xs-12>\n			<div class="th-my-account__breadcrumbs row">\n				<div class=col-xs-12>\n					<div ncy-breadcrumb></div>\n				</div>\n			</div>\n\n			<div class=th-my-account__title>\n				Orders\n			</div>\n\n			<div class=th-my-account__overlay data-ng-if=vm.loading vn-busy-animation vn-busy-animation-show="{{ vm.loading }}" vn-busy-animation-size=80px vn-busy-animation-class=th-my-account__overlay--loader></div>\n\n			<div data-ng-if="vm.orders.length == 0">\n				<p class=text-muted>\n					You haven\'t placed an order with us yet.\n				</p>\n			</div>\n\n			<div data-ng-if="vm.orders.length > 0">\n				<div class=th-orders-list__page-size>\n					<select ng-options="item.text for item in vm.pageSizes" ng-model=vm.selectedPageSize ng-change=vm.getOrders()></select>\n				</div>\n\n				<div data-vn-order-list-view="" orders=vm.orders class="hidden-sm hidden-md hidden-lg hidden-xl"></div>\n				<div data-vn-order-table="" orders=vm.orders class=hidden-xs></div>\n\n				<div class="well well-sm th-orders-list__pagination">\n					<span>{{vm.startIndex}} - {{vm.endIndex}} of {{vm.cursor.total}}</span>\n					<div class=pull-right>\n						<pagination total-items=vm.cursor.total ng-model=vm.currentPage class=pagination-sm previous-text=&lsaquo; next-text=&rsaquo; items-per-page=vm.selectedPageSize.value ng-change=vm.getOrders() max-size=vm.maxSize></pagination>\n					</div>\n				</div>\n			</div>\n\n\n			<div class=th__back-button>\n				<a ui-sref=my-account>\n					<i class="fa fa-arrow-left"></i>&nbsp;&nbsp;Back to My Account\n				</a>\n			</div>\n		</div>\n	</div>\n</div>'),
e.put("my-account/orders/vn-order-list-view.tpl.html",'<div class="th-order-list-view container-fluid">\n	<a href ui-sref="my-account.orders.detail({id: order.orderId})" class="th-order-list-view__item list-group-item row" data-ng-repeat="order in orders">\n		<div class="col-xs-7 th-order-list-view__item-left">\n			<div class=th-order-list-view__item__id data-ng-bind=::order.orderId></div>\n			<div class=th-order-list-view__item__num-items>\n				{{::order.orderItems.length}} Items\n			</div>\n			<div class=th-order-list-view__item__status data-ng-bind=::order.orderStatus></div>\n		</div>\n		<div class="col-xs-5 th-order-list-view__item-right">\n			<div class=th-order-list-view__item__date data-ng-bind="::order.orderDate | date"></div>\n			<div class=th-order-list-view__item__total data-ng-bind="::order.orderTotal | currency"></div>\n		</div>\n	</a>\n</div>'),e.put("my-account/orders/vn-order-table.tpl.html",'<table class="th-orders-table table table-striped table-hover">\n	<thead>\n	<tr>\n		<th>Order #</th>\n		<th>Order Date</th>\n		<th>Items</th>\n		<th>Order Total</th>\n		<th>Status</th>\n	</tr>\n	</thead>\n	<tbody>\n	<tr data-ng-repeat="order in orders">\n		<td><a href ui-sref="my-account.orders.detail({id: order.orderId})">{{ ::order.orderId }}</a></td>\n		<td data-ng-bind="::order.orderDate | date"></td>\n		<td data-ng-bind=::order.orderItems.length></td>\n		<td data-ng-bind="::order.orderTotal | currency"></td>\n		<td data-ng-bind=::order.orderStatus></td>\n	</tr>\n	</tbody>\n</table>'),e.put("my-account/payment-profiles.html",'<div class="th-my-account th-payment-profiles container" data-ng-cloak="">\n\n	<div class="th-my-account__breadcrumbs row">\n		<div class=col-xs-12>\n			<div ncy-breadcrumb></div>\n		</div>\n	</div>\n\n	<div class=th-my-account__title>\n		{{vm.pageTitle}}\n	</div>\n\n	<div class=row>\n		<div class="col-xs-12 col-sm-6 col-md-6">\n			<div class=th-my-account__overlay data-ng-if=vm.loading vn-busy-animation vn-busy-animation-show="{{ vm.loading }}" vn-busy-animation-size=80px vn-busy-animation-class=th-my-account__overlay--loader></div>\n			<div data-ng-show="!vm.paymentProfileToEdit && !vm.paymentProfileToAdd" class=animate-show>\n				<div class=list-group>\n					<a class="list-group-item -clickable" href data-ng-click=vm.addPaymentProfile()><i class="fa fa-plus"></i>&nbsp;&nbsp;Add a\n						Credit Card</a>\n					<div data-ng-repeat="paymentProfile in vm.paymentProfiles" class=list-group-item>\n						<div vn-credit-card-display-actions data-payment-profile=paymentProfile data-on-make-preferred-clicked=vm.makePaymentProfilePreferred($index) data-on-delete-clicked=vm.deletePaymentProfile(paymentProfile) data-on-edit-clicked=vm.editPaymentProfile(paymentProfile)>\n						</div>\n					</div>\n				</div>\n			</div>\n			<div data-ng-show=vm.paymentProfileToAdd class="panel panel-default animate-show">\n				<div data-vn-credit-card-editor="" data-ng-if=vm.paymentProfileToAdd data-card=vm.paymentProfileToAdd.card data-title="Edit Shipping Address" data-on-save=vm.saveNewPaymentProfile() data-on-cancel=vm.cancelAddPaymentProfile() data-show-save-button=true data-save-text=Add data-show-cancel-button=true class=panel-body>\n				</div>\n			</div>\n\n		</div>\n		<div class="col-xs-12 col-sm-5 col-md-4 col-md-offset-1 th-my-account__group">\n			<div class=th-my-account__title>More Addresses &amp; Payments</div>\n			<ul class=th-my-account__group__links>\n				<li><a href="" data-ui-sref=my-account.shipping-addresses>Shipping Addresses</a></li>\n				<li><a href="" data-ui-sref=my-account.billing-addresses>Billing Addresses</a></li>\n			</ul>\n		</div>\n	</div>\n	<div class=th__back-button>\n		<a ui-sref=my-account>\n			<i class="fa fa-arrow-left"></i>&nbsp;&nbsp;Back to My Account\n		</a>\n	</div>\n\n</div>'),e.put("my-account/shipping-addresses.html",'<div class="th-my-account container" data-ng-cloak="">\n\n	<div class="th-my-account__breadcrumbs row">\n		<div class=col-xs-12>\n			<div ncy-breadcrumb></div>\n		</div>\n	</div>\n\n	<div class=th-my-account__title>\n		{{vm.pageTitle}}\n	</div>\n\n	<div class=row>\n		<div class="col-xs-12 col-sm-7 col-md-6">\n			<div class=th-my-account__overlay data-ng-if=vm.loading vn-busy-animation vn-busy-animation-show="{{ vm.loading }}" vn-busy-animation-size=80px vn-busy-animation-class=th-my-account__overlay--loader></div>\n			<div data-ng-show="!vm.addressToEdit && !vm.addressToAdd" class="th-address__choose animate-show">\n				<div class=list-group>\n					<a href data-ng-click=vm.addAddress() class="list-group-item -clickable" ng-repeat-end>\n						<i class="fa fa-plus"></i>&nbsp;&nbsp;Add a Shipping Address\n					</a>\n					<div data-ng-repeat="shippingAddress in vm.shippingAddresses" class=list-group-item>\n						<div vn-address-display-actions="" data-address=shippingAddress data-on-make-preferred-clicked=vm.makeAddressPreferred($index) data-on-delete-clicked=vm.deleteAddress(address) data-on-edit-clicked="vm.editAddress(address, $index)" data-shipping=true></div>\n					</div>\n				</div>\n			</div>\n			<div data-ng-show=vm.addressToEdit class="panel panel-default animate-show">\n				<div data-vn-address-editor="" data-ng-if=vm.addressToEdit data-countries=vm.countries data-address=vm.addressToEdit data-title="Edit Shipping Address" data-on-save=vm.saveEditedAddress() data-on-cancel=vm.cancelEditAddress() data-show-save-button=true data-save-text=Save data-show-cancel-button=true data-shipping=true class=panel-body>\n				</div>\n			</div>\n			<div data-ng-show=vm.addressToAdd class="panel panel-default animate-show">\n				<div data-vn-address-editor="" data-ng-if=vm.addressToAdd data-countries=vm.countries data-address=vm.addressToAdd data-title="Edit Shipping Address" data-on-save=vm.saveNewAddress() data-on-cancel=vm.cancelAddAddress() data-show-save-button=true data-save-text=Add data-show-cancel-button=true data-shipping=true class=panel-body>\n				</div>\n			</div>\n\n		</div>\n		<div class="col-xs-12 col-sm-5 col-md-4 col-md-offset-1 th-my-account__group">\n			<div class=th-my-account__title>More Addresses &amp; Payments</div>\n			<ul class=th-my-account__group__links>\n				<li><a href="" data-ui-sref=my-account.billing-addresses>Billing Addresses</a></li>\n				<li><a href="" data-ui-sref=my-account.payment-profiles>Payment Profiles</a></li>\n			</ul>\n		</div>\n	</div>\n	<div class=th__back-button>\n		<a ui-sref=my-account>\n			<i class="fa fa-arrow-left"></i>&nbsp;&nbsp;Back to My Account\n		</a>\n	</div>\n\n</div>'),e.put("newsletters/vn-newsletter-signup.html",'<div>\n	<form name=frmMailingList class=form-inline data-ng-class=formClasses role=form novalidate data-ng-submit=signupForNewsletter() data-ng-show="!displaySuccessMessage && !displayErrorMessage">\n		<div class=form-group data-ng-class=formGroupClasses>\n			<input type=email name=emailaddress ng-model=userEmail class="form-control immediate-help" data-ng-class=inputClasses data-vn-email-validate pattern=.{1,75} required placeholder="{{labelText}}">\n		</div>\n		<button type=submit class="btn btn-default" data-ng-enabled=MailingList.$valid data-ng-class=submitClasses>{{buttonText}}</button>\n	</form>\n	<alert type=success data-ng-if=displaySuccessMessage>{{successMsg}}</alert>\n	<alert type=danger data-ng-if=displayErrorMessage close=closeError()>{{errorMsg}}</alert>\n</div>'),e.put("pagination/vnPaginator.tpl.html",'<ul class=pager data-ng-if="cursor.totalPages > 1">\n	<li data-ng-class="{disabled: cursor.currentPage == 1}">\n		<a href data-ng-click=prevPage()><span class="glyphicon glyphicon-chevron-left"></span></a></li>\n	<li data-ng-class="{disabled: cursor.currentPage == cursor.totalPages}">\n		<a href data-ng-click=nextPage()><span class="glyphicon glyphicon-chevron-right"></span></a></li>\n</ul>\n\n	<div class=pager>\n		Page {{ cursor.currentPage }} of {{ cursor.totalPages }}\n	</div>'),e.put("paypal/vn-paypal-button.html",'<div class="vn-paypal-button paypal-button-hidden">\n	<a data-ng-click=checkout() href="">\n		<img src=https://www.paypalobjects.com/webstatic/en_US/i/buttons/checkout-logo-medium.png alt="Check out with PayPal">\n	</a>\n</div>'),e.put("paypal/vn-paypal-checkout.html",'<div class="th-checkout th-checkout--paypal container-fluid">\n	<div class=row>\n		<div data-vn-app-message="" data-message-position=fixed></div>\n		<div class="th-checkout__loading th-checkout__loading--ship-to" vn-busy-animation vn-busy-animation-size=80px vn-busy-animation-show="{{ stepOneLoading }}" vn-busy-animation-class=th-checkout__loading-inner data-ng-show=checkout.steps[0].active></div>\n\n		<div class="th-checkout__loading th-checkout__loading--review" vn-busy-animation vn-busy-animation-size=80px vn-busy-animation-show="{{ stepTwoLoading }}" vn-busy-animation-class=th-checkout__loading-inner data-ng-show=checkout.steps[1].active></div>\n\n		<div class="col-xs-12 col-sm-6 th-checkout__step th-checkout__step__ship-to" data-ng-init="hideShippingMethods = true" data-ng-class="{ \'-active\' : checkout.steps[0].active }" data-ng-hide="device.info.shortname == \'phone\' && checkout.steps[0].active == false">\n\n			<div class=th-checkout__step__overlay data-ng-class="{ \'-complete\' : checkout.steps[1].active}" data-ui-sref=paypal-checkout.ship-method></div>\n\n			<div class=th-checkout__step__inner>\n				<div class=th-checkout__step__title>\n					<div class=th-checkout__step__title__stepNumber data-ng-if=checkout.steps[0].active><span>1</span></div>\n					<i class="fa fa-check-circle-o fa-2x" data-ng-if=checkout.steps[1].active></i>\n					<div class=th-checkout__step__title__stepName>Shipping Method {{$rootScope.deviceType}}</div>\n				</div>\n\n				<div ng-include=" \'checkout/ship-method/ship-method.html\' "></div>\n\n				<span data-ng-if="checkout.steps[0].active && checkout.cart.shippingMethods.length != 0">\n					<button class="btn btn-primary btn-block btn-lg th-checkout__step__btn-continue" data-ui-sref=paypal-checkout.review-order>\n						Continue&nbsp;<i class="fa fa-angle-right"></i>\n					</button>\n				</span>\n\n			</div>\n\n		</div>\n\n		<div class="col-xs-12 col-sm-6 th-checkout__step th-checkout__step__review" data-ng-class="{ \'-active\' : checkout.steps[1].active }" data-ng-hide="device.info.shortname == \'phone\' && checkout.steps[1].active == false">\n\n			<div class=th-checkout__step__overlay></div>\n\n			<div class=th-checkout__step__inner>\n				<div class=th-checkout__step__title>\n					<div class=th-checkout__step__title__stepNumber><span>2</span></div>\n					<div class=th-checkout__step__title__stepName>Review</div>\n				</div>\n				<div class=th-checkout__thanks__title>\n					Total: {{ checkout.cart.totals.grandTotal | currency }}\n				</div>\n\n				<button class="btn btn-primary btn-block btn-lg th-checkout__step__btn-continue" data-ng-if=checkout.steps[1].active data-ng-click=placeOrder()>\n					{{ placeOrderBtnText }}\n				</button>\n\n				<div vn-review=checkout.cart></div>\n\n				<div class="th-address__display -readonly panel panel-default" data-ng-if=checkout.cart.shippingAddress>\n					<div class=panel-heading>Ship To</div>\n					<div vn-address-display data-address=checkout.cart.shippingAddress data-shipping=true class=panel-body></div>\n				</div>\n\n				<div class="th-checkout__ship-method panel panel-default" data-ng-if=shippingMethod data-ui-sref=paypal-checkout.ship-method>\n					<div class=panel-heading data-ng-if=shippingMethod>Shipping Method</div>\n					<div class="th-checkout__ship-method__display panel-body">\n						<div class=th-checkout__ship-method__display__name data-ng-bind-html=shippingMethod.name></div>\n						<div class=th-checkout__ship-method__display__price>{{ shippingMethod.price | vnCurrency }}</div>\n					</div>\n				</div>\n\n				<div ng-include=" \'paypal/vn-paypal-payment.html\' "></div>\n\n				<div class="th-address__display -readonly panel panel-default" data-ng-if=checkout.cart.billingAddress>\n					<div class=panel-heading>Billing Address</div>\n					<div vn-address-display data-address=checkout.cart.billingAddress class=panel-body></div>\n				</div>\n\n				<button class="btn btn-primary btn-block btn-lg th-checkout__step__btn-continue" data-ng-if=checkout.steps[1].active data-ng-click=placeOrder()>\n					{{ placeOrderBtnText }}\n				</button>\n\n				<div class=th__back-button>\n					<a href data-ng-if=checkout.steps[1].active data-ui-sref=paypal-checkout.ship-method>\n						<i class="fa fa-arrow-left">&nbsp;back to Shipping Method</i>\n					</a>\n				</div>\n			</div>\n\n		</div>\n	</div>\n</div>'),e.put("paypal/vn-paypal-payment.html",'<div class="th-credit-card__display ng-isolate-scope -readonly panel panel-default">\n	<div class=panel-heading>Paid With</div>\n	<div class=panel-body>\n		<div class="row ng-click-active" role=button tabindex=0>\n			<div class=col-xs-10>\n				<img src=https://www.paypalobjects.com/webstatic/en_US/i/buttons/pp-acceptance-small.png alt="Buy now with PayPal">&nbsp;&nbsp;\n				{{user.paypalEmail}}\n			</div>\n		</div>\n	</div>\n</div>'),e.put("popover/vn-popover.tpl.html",'<div class="input-help {{ ::location }}">\n	<div class=arrow></div>\n	<h4>{{ ::title }}</h4>\n</div>'),e.put("product-image/vn-product-image.tpl.html",'<img data-ng-src="{{ getImagePath(product.imageCollections) }}" class=img-responsive alt="{{ product.name }}">'),e.put("product-reviews/vn-rating-bar.html",""),e.put("product-reviews/vn-rating-button.html",'<div>\n	<span data-ng-if=!loggedIn>\n		<a href data-ng-click=showLogin()>Log in</a> to write a review\n	</span>\n	<span data-ng-if=loggedIn>\n		<span class="th-rating-button btn btn-primary" data-ng-click=writeRating(product)>\n			<i class="fa fa-pencil"></i> Write a review\n		</span>\n	</span>\n</div>'),e.put("product-reviews/vn-rating-summary.html",'<div class=th-rating-summary itemprop=aggregateRating itemscope itemtype=http://schema.org/AggregateRating>\n	<div class=th-rating-summary__rating><span itemprop=ratingValue>{{ratingValue}}</span></div>\n	<div class=th-rating-summary__stars data-vn-rating data-rating-value=ratingValue data-title="" data-editable=isEditable></div>\n	<div class=th-rating-summary__average>Average from <strong><span itemprop=reviewCount>24</span></strong> reviews</div>\n</div>'),e.put("product-reviews/vn-write-review.html",'<div class=th-write-review>\n	<form id=frmReview name=frmReview novalidate data-ng-submit=addReview()>\n\n		<div class=modal-body>\n			<div data-vn-rating data-editable=true data-rating-value=ratingValue></div>\n			<div class=form-group>\n				<input type=email id=inputReviewTitle name=inputReviewTitle class="form-control input-lg immediate-help" data-vn-placeholder=Title data-ng-model=review.title required>\n			</div>\n			<div class=form-group>\n				<textarea id=inputReviewBody name=inputReviewBody class=form-control data-ng-model=review.body cols=40 rows=5 required>\n				</textarea>\n			</div>\n		</div>\n\n		<div class="form-group modal-footer">\n			<div class="form-group pull-left modal-footer-left">\n				<input type=checkbox id=inputReviewAnonymous name=inputReviewAnonymous><label for=inputReviewAnonymous>Exclude my name and location</label>\n			</div>\n			<button type=button class="btn btn-md btn-default" ng-click=cancel()>\n				Cancel\n			</button>\n			<button type=button class="btn btn-md btn-primary" ng-click=addReview()>\n				Done\n			</button>\n		</div>\n\n	</form>\n</div>'),e.put("product-search/vnSearchForm.tpl.html",'<div class=th-search role=search>\n	<div data-ng-show=showSearch class=th-search__popout>\n		<form class=form-inline role=search name=frmSearch data-ng-submit=doSearch() novalidate>\n			<div class=form-group>\n				<input data-ng-model=searchTerm class=th-search__popout--input placeholder=Search...>\n				<button type=button data-ng-click=doSearch() class="btn btn-xs btn-primary th-search__popout--submit">Go!\n				</button>\n			</div>\n		</form>\n	</div>\n\n	<a id=search-toggle data-ng-click="showSearch = !showSearch" ng-show=allowCollapse type=button class=th-search__trigger data-ng-class="{ \'-position\' : !showSearch }">\n		<span class="glyphicon glyphicon-search"></span>\n	</a>\n</div>'),e.put("signup/signup.html",'<div class=container>\n	<div class=row>\n		<div class="col-xs-12 col-xs-offset-0 col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3 col-lg-4 col-lg-offset-4">\n\n			<div data-vn-app-message="" data-message-position=fixed></div>\n			<div data-vn-signup data-title="Sign Up" data-redirect-to=my-account data-button-text="Create Account"></div>\n\n		</div>\n	</div>\n</div>'),e.put("signup/vn-signup.html",'<div class=th-login>\n	<div class=th__title>{{title}}</div>\n	<div class=container-fluid>\n		<div class=row ng-if=signupError>\n			<div class=th-login__error data-ng-click=clearError()>\n				Sign Up Failed\n			</div>\n		</div>\n		<div class=row>\n			<div class=th-login__form>\n				<form id=frmSignup name=frmSignup novalidate>\n					<div class=row>\n						<div class=col-xs-12>\n							<input id=inputFirstName name=inputFirstName class="form-control input-lg immediate-help" data-vn-placeholder="First name" data-ng-model=user.firstName data-ng-change=validateChange() required>\n\n						</div>\n					</div>\n					<div class=row>\n						<div class=col-xs-12>\n							<input id=inputLastName name=inputLastName class="form-control input-lg immediate-help" data-vn-placeholder="Last name" data-ng-model=user.lastName data-ng-change=validateChange() required>\n						</div>\n					</div>\n					<div class=row>\n						<div class=col-xs-12>\n							<input type=email data-vn-email-validate id=inputLoginEmail name=inputLoginEmail class="form-control input-lg immediate-help" data-vn-placeholder="E-mail address" data-ng-model=user.email data-ng-change=validateChange() pattern=.{1,75} required>\n						</div>\n					</div>\n					<div class=row>\n						<div class=col-xs-12>\n							<input type=password id=inputNewPassword name=inputNewPassword class="form-control input-lg immediate-help" data-vn-placeholder="New Password" data-ng-model=user.password data-ng-change=validateChange() data-vn-password-validate required>\n\n							<div class="input-help bottom" ng-if=frmSignup.inputNewPassword.$touched>\n								<div class=arrow></div>\n								<h4>Password must:</h4>\n								<ul>\n									<li ng-class=pwdValidLength>Be at least <strong>6</strong> characters</li>\n									<li ng-class=pwdValidLength>Be at most <strong>20</strong> characters</li>\n								</ul>\n							</div>\n						</div>\n					</div>\n					<div class=row>\n						<div class=col-xs-12>\n							<input type=password id=inputConfirmPassword name=inputConfirmPassword class="form-control input-lg immediate-help" data-vn-placeholder="Confirm Password" data-ng-model=user.confirmPassword data-ng-change=validateChange() data-vn-value-match={{user.password}} required>\n\n							<div class="input-help bottom" ng-if="frmSignup.inputConfirmPassword.$touched && frmSignup.inputConfirmPassword.$viewValue.length > 0">\n								<div class=arrow></div>\n								<ul>\n									<li ng-class=sameValue>Passwords must match</li>\n								</ul>\n							</div>\n						</div>\n					</div>\n				</form>\n				<button class="btn btn-primary btn-block btn-lg th-login__continue" data-ng-disabled=disabledButton data-ng-click=signup()>\n					{{buttonText}}&nbsp;<i class="fa fa-angle-right"></i>\n				</button>\n			</div>\n		</div>\n	</div>\n</div>'),e.put("validators/vn-validation-messages.html","<span data-ng-message=emailEmpty>Emails is empty</span>\n<span data-ng-message=validEmail>Invalid Email</span>\n<span data-ng-message=validLength>Invalid Length</span>\n<span data-ng-message=zipHasValidFormat>Zip Code must be formatted as 99999[-9999]</span>"),e.put("video/vn-video.html",'<iframe type=text/html width={{width}} height={{height}} data-ng-src={{trustedUrl}} frameborder="0">')}]),angular.module("Volusion.toolboxCommon").directive("vnPaypalButton",["$rootScope","$location","vnCart","vnApi","vnPaypal",function(e,t,n,a,i){"use strict";return{restrict:"AE",templateUrl:"paypal/vn-paypal-button.html",scope:{},link:function(e){angular.element(document).ready(function(){e.checkout=function(){i.startPaypal()}})}}}]),angular.module("Volusion.toolboxCommon").controller("PaypalCheckoutCtrl",["$rootScope","vnViewPortWatch","$scope","vnCart","vnCheckout","vnContentManager","vnUser","lodash","$window","vnApi","vnPaypal",function(e,t,n,a,i,s,d,o,r,c,l){n.device=e.device,s.showCheckoutAppHeader(),s.showCheckoutAppFooter(),n.stepOneLoading=!1,n.stepTwoLoading=!1,e.$on("paypalCheckout.stepOneLoading",function(){n.stepOneLoading=!0}),e.$on("paypalCheckout.stepTwoLoading",function(){n.stepTwoLoading=!0}),e.$on("paypalCheckout.stopLoading",function(){n.stepOneLoading=!1,n.stepTwoLoading=!1}),e.$emit("paypalCheckout.stepOneLoading"),e.$on("cartUpdated",function(){e.$emit("paypalCheckout.stopLoading")}),n.user=d.getUser(),n.checkout=i.get(),n.checkout&&n.checkout.cart&&n.checkout.cart.shippingMethods&&n.checkout.cart.shippingMethods.length&&e.$emit("paypalCheckout.stopLoading"),n.checkout.steps[0].active=!0,n.checkout.cart=a.getCart();var u={"default":"Place Order",loading:"Placing Order"};n.placeOrderBtnText=u["default"],n.paymentRadioValue="paypal",e.$on("checkout.shippingMethod.changed",function(){n.shippingMethod=o.find(n.checkout.cart.shippingMethods,function(e){return e.selected===!0})}),n.placeOrder=function(){e.$emit("paypalCheckout.stepTwoLoading");var t=d.getUser();l.paypalOrder(t.token,t.PayerID,n.checkout.cart.totals.grandTotal).success(function(e){angular.isString(e)&&(e=JSON.parse(e)),a.setPaypal({paymentMethodId:"25",paymentStatus:e.PAYMENTINFO_0_PAYMENTSTATUS,token:e.TOKEN,totalAmount:e.PAYMENTINFO_0_AMT,transactionId:e.PAYMENTINFO_0_TRANSACTIONID,useStoreCredit:!1,PayerID:t.PayerID}),i.placeOrder()}).error(function(){e.$emit("paypalCheckout.stopLoading")}),n.placeOrderBtnText=u.loading;var s=e.$on("checkout.orderPlaced",function(){n.placeOrderBtnText=u["default"],e.$emit("paypalCheckout.stopLoading"),s()})},n.$on("$destroy",function(){s.showAppHeader(),s.showAppFooter(),i.resetCheckout()}),e.$on("checkout.stepChanged",function(){r.scrollTo(0,0)})}]),angular.module("Volusion.toolboxCommon").service("vnPaypal",["$rootScope","$http","$location","vnCart","vnNotifications",function(e,t,n,a,i){"use strict";function s(e){return t.get("http://localhost:3000/?direct=1&returnurl="+n.protocol()+"://"+n.host()+":"+n.port()+"/paypal-checkout/ship-method&cancelurl="+n.protocol()+"://"+n.host()+":"+n.port()+"/&PAYMENTREQUEST_0_CURRENCYCODE=USD&PAYMENTREQUEST_0_AMT="+e)}function d(e,n,a){return t.post("http://localhost:3000/?token="+e+"&PayerID="+n+"&PAYMENTREQUEST_0_CURRENCYCODE=USD&PAYMENTREQUEST_0_AMT="+a)}function o(){a.initWithPromise().then(function(t){var n=t.data;window.paypal.checkout.setup(e.config.paypal.merchantId,{locale:"en_US",environment:"sandbox",button:""}),window.paypal.checkout.initXO(),s(n.totals.items).success(function(e){window.paypal.checkout.startFlow(e)}).error(function(){i.displayMsg("danger","There was a problem with Paypal. Please try again"),window.paypal.checkout.closeFlow()})})}return{startPaypal:o,paypalURL:s,paypalOrder:d}}]),angular.module("Volusion.toolboxCommon").directive("vnPlaceholder",["$timeout","$interpolate",function(e,t){"use strict";return{restrict:"A",require:"ngModel",compile:function(n,a){return n.parent().append('<label class="vn-placeholder" tabindex="-1" ng-click="setFocusFor(\''+a.id+"')\" dropdown-toggle></label>"),function(n,i){function s(e,t){return e.$$phase||e.$root.$$phase?t():e.$apply(t)}function d(e){s(n,function(){void 0===e&&""===o.val()?(r.removeClass("-selected -focus"),r.html()!==t(a.vnPlaceholder)(n)&&r.html(t(a.vnPlaceholder)(n))):(r.hasClass("-selected")||r.addClass("-selected"),void 0===e||"focus"!==e.type||r.hasClass("-focus")||r.addClass("-focus"),a.vnPlaceholderShort&&a.vnPlaceholderShort.length>0&&r.html(t(a.vnPlaceholderShort)(n)))})}var o=i,r=o.closest("div").find("label.vn-placeholder");n.setFocusFor=function(e){angular.element(document.querySelector("#"+e)).focus()},s(n,function(){e(function(){r.html(t(a.vnPlaceholder)(n))},0)}),n.$watch(a.ngModel,function(){d()}),o.on("focus keyup change",function(e){d(e)}).on("blur",function(){r.removeClass("-focus"),""===o.val()&&(r.removeClass("-selected"),r.html()!==t(a.vnPlaceholder)(n)&&r.html(t(a.vnPlaceholder)(n)))})}}}}]),angular.module("Volusion.toolboxCommon").directive("vnPopoverFirstName",["$compile",function(e){"use strict";return{restrict:"E",scope:!0,templateUrl:"popover/vn-popover.tpl.html",replace:!0,link:function(t,n){t.location="bottom",t.title="First name must:";var a=[{ngclass:"firstNameMinValidLength",ngif:"",msg:"Be at least <strong>1 letter long</strong>"},{ngclass:"firstNameAllowedChars",ngif:"firstNameDisallowedChars != null",msg:'Not contain <strong>{{ firstNameDisallowedChars.join("") }}</strong>'}],i=angular.element("<ul>");angular.forEach(a,function(e){var t=angular.element("<li>");e.ngif&&""!==e.ngif&&t.attr("ng-if",e.ngif),t.attr("ng-class",e.ngclass),t.html(e.msg),i.append(t)}),e(i)(t),n.append(i)}}}]).directive("vnPopoverLastName",["$compile",function(e){"use strict";return{restrict:"E",scope:!0,templateUrl:"popover/vn-popover.tpl.html",replace:!0,link:function(t,n){t.location="bottom-right",t.title="Last name must:";var a=[{ngclass:"lastNameMinValidLength",ngif:"",msg:"Be at least <strong>1 letter long</strong>"},{ngclass:"lastNameAllowedChars",ngif:"lastNameDisallowedChars != null",msg:'Not contain <strong>{{ lastNameDisallowedChars.join("") }}</strong>'}],i=angular.element("<ul>");angular.forEach(a,function(e){var t=angular.element("<li>");e.ngif&&""!==e.ngif&&t.attr("ng-if",e.ngif),t.attr("ng-class",e.ngclass),t.html(e.msg),i.append(t)}),e(i)(t),n.append(i)}}}]).directive("vnPopoverAddress",["$compile",function(e){"use strict";return{restrict:"E",scope:!0,templateUrl:"popover/vn-popover.tpl.html",replace:!0,link:function(t,n){t.location="bottom",t.title="Address must:";var a=[{ngclass:"streetEmpty",ngif:"",msg:"Not be <strong>empty</strong>"},{ngclass:"streetAllowedChars",ngif:"streetDisallowedChars != null",msg:'Not contain <strong>{{ streetDisallowedChars.join("") }}</strong>'}],i=angular.element("<ul>");angular.forEach(a,function(e){var t=angular.element("<li>");e.ngif&&""!==e.ngif&&t.attr("ng-if",e.ngif),t.attr("ng-class",e.ngclass),t.html(e.msg),i.append(t)}),e(i)(t),n.append(i)}}}]).directive("vnPopoverCity",["$compile",function(e){"use strict";return{restrict:"E",scope:!0,templateUrl:"popover/vn-popover.tpl.html",replace:!0,link:function(t,n){t.location="top-left",t.title="City must:";var a=[{ngclass:"cityEmpty",ngif:"",msg:"Not be <strong>empty</strong>"},{ngclass:"cityAllowedChars",ngif:"cityDisallowedChars != null",msg:'Not contain <strong>{{ cityDisallowedChars.join("") }}</strong>'}],i=angular.element("<ul>");angular.forEach(a,function(e){var t=angular.element("<li>");e.ngif&&""!==e.ngif&&t.attr("ng-if",e.ngif),t.attr("ng-class",e.ngclass),t.html(e.msg),i.append(t)}),e(i)(t),n.append(i)}}}]).directive("vnPopoverRegion",["$compile",function(e){"use strict";return{restrict:"E",scope:!0,templateUrl:"popover/vn-popover.tpl.html",replace:!0,link:function(t,n){t.location="top-left",t.title="Region must:";var a=[{ngclass:"regionRequired",ngif:"",msg:"Not be <strong>empty</strong>"},{ngclass:"regionAllowedChars",ngif:"regionDisallowedChars != null",msg:'Not contain <strong>{{ regionDisallowedChars.join("") }}</strong>'}],i=angular.element("<ul>");angular.forEach(a,function(e){var t=angular.element("<li>");e.ngif&&""!==e.ngif&&t.attr("ng-if",e.ngif),t.attr("ng-class",e.ngclass),t.html(e.msg),i.append(t)}),e(i)(t),n.append(i)}}}]).directive("vnPopoverState",["$compile",function(e){"use strict";return{restrict:"E",scope:!0,templateUrl:"popover/vn-popover.tpl.html",replace:!0,link:function(t,n){t.location="top-left -dropdown",t.title="State must:";var a=[{ngclass:"stateEmpty",ngif:"",msg:"Be <strong>selected</strong>"}],i=angular.element("<ul>");angular.forEach(a,function(e){var t=angular.element("<li>");e.ngif&&""!==e.ngif&&t.attr("ng-if",e.ngif),t.attr("ng-class",e.ngclass),t.html(e.msg),i.append(t)}),e(i)(t),n.append(i)}}}]).directive("vnPopoverZip",["$compile",function(e){"use strict";return{restrict:"E",scope:!0,templateUrl:"popover/vn-popover.tpl.html",replace:!0,link:function(t,n){t.location="top",t.title="Zip code must:";var a=[{ngclass:"zipHasValidFormat",ngif:"",msg:"Be formatted as 99999[-9999]"}],i=angular.element("<ul>");angular.forEach(a,function(e){var t=angular.element("<li>");e.ngif&&""!==e.ngif&&t.attr("ng-if",e.ngif),t.attr("ng-class",e.ngclass),t.html(e.msg),i.append(t)}),e(i)(t),n.append(i)}}}]).directive("vnPopoverPostalCode",["$compile",function(e){"use strict";return{restrict:"E",scope:!0,templateUrl:"popover/vn-popover.tpl.html",replace:!0,link:function(t,n){t.location="top",t.title="Postal code must:";var a=[{ngclass:"postalCodeEmpty",ngif:"",msg:"Not be empty"},{ngclass:"postalCodeAllowedChars",ngif:"postalCodeDisallowedChars != null",msg:'Not contain <strong>{{ postalCodeDisallowedChars.join("") }}</strong>'}],i=angular.element("<ul>");angular.forEach(a,function(e){var t=angular.element("<li>");e.ngif&&""!==e.ngif&&t.attr("ng-if",e.ngif),t.attr("ng-class",e.ngclass),t.html(e.msg),i.append(t)}),e(i)(t),n.append(i)}}}]).directive("vnPopoverUsPhone",["$compile",function(e){"use strict";return{restrict:"E",scope:!0,templateUrl:"popover/vn-popover.tpl.html",replace:!0,link:function(t,n){t.location="top",t.title="Phone number must:";var a=[{ngclass:"usPhoneHasValidFormat",ngif:"",msg:"Be formatted as (999) 999-9999 ext.9999"}],i=angular.element("<ul>");angular.forEach(a,function(e){var t=angular.element("<li>");e.ngif&&""!==e.ngif&&t.attr("ng-if",e.ngif),t.attr("ng-class",e.ngclass),t.html(e.msg),i.append(t)}),e(i)(t),n.append(i)}}}]).directive("vnPopoverRequired",["$compile",function(e){"use strict";return{restrict:"E",scope:!0,templateUrl:"popover/vn-popover.tpl.html",replace:!0,link:function(t,n,a){t.location=a.location||"bottom",t.title=(a.field||"Field")+" must:";var i=[{ngclass:"requiredFieldFilled",ngif:"",msg:"Not be <strong>empty</strong>"}],s=angular.element("<ul>");angular.forEach(i,function(e){var t=angular.element("<li>");e.ngif&&""!==e.ngif&&t.attr("ng-if",e.ngif),t.attr("ng-class",e.ngclass),t.html(e.msg),s.append(t)}),e(s)(t),n.append(s)}}}]).directive("vnPopoverCreditCard",["$compile",function(e){"use strict";return{restrict:"E",scope:!0,templateUrl:"popover/vn-popover.tpl.html",replace:!0,link:function(t,n){t.location="top",t.title="Credit card must:";var a=[{ngclass:"creditCardValid",ngif:"",msg:"Be a valid credit card number"}],i=angular.element("<ul>");angular.forEach(a,function(e){var t=angular.element("<li>");e.ngif&&""!==e.ngif&&t.attr("ng-if",e.ngif),t.attr("ng-class",e.ngclass),t.html(e.msg),i.append(t)}),e(i)(t),n.append(i)}}}]),angular.module("Volusion.toolboxCommon").directive("vnProductImage",["$filter",function(e){"use strict";return{templateUrl:"product-image/vn-product-image.tpl.html",restrict:"AE",scope:{product:"=",defaultImage:"="},replace:!0,link:function(t){t.getImagePath=function(n){var a=e("vnProductImageFilter")(n);return""===a?t.defaultImage:a}}}}]),angular.module("Volusion.toolboxCommon").directive("vnRatingBar",["$window",function(e){"use strict";return{restrict:"AE",templateUrl:"product-reviews/vn-rating-bar.html",scope:{ratingData:"="},link:function(t,n){var a=e.d3.max(t.ratingData),i=["5 stars","4 stars","3 stars","2 stars","1 star"],s=e.d3.select(n[0]),d=s.append("div").attr("class","th-rating-bar").selectAll("div").data(t.ratingData).enter().append("div").attr("class","th-rating-bar__line row");d.append("div").attr("class","th-rating-bar__line__stars col-xs-2").text(function(e,t){return i[t]}),d.append("div").attr("class","th-rating-bar__line__bar col-xs-9").append("div").attr("class","th-rating-bar__line__bar-bg").append("div").attr("class","th-rating-bar__line__bar-inner").style("width",function(e){return 100*e/a+"%"}),d.append("div").attr("class","th-rating-bar__line__count col-xs-1").text(function(e){
return e})}}}]),angular.module("Volusion.toolboxCommon").directive("vnRatingButton",["vnModalService","$rootScope","VN_AUTH_EVENTS","vnUser",function(e,t,n,a){"use strict";return{restrict:"AE",templateUrl:"product-reviews/vn-rating-button.html",scope:{product:"="},link:function(i){i.showLogin=function(){var n=t.$on("afterLoginSuccess",function(){i.writeRating(),n()});e.showLogin(i)},i.writeRating=function(){e.showWriteReview(i)},i.loggedIn=!1;var s=function(){a.isLoggedIn().then(function(){i.loggedIn=!0},function(){i.loggedIn=!1})};s(),t.$on(n.loginSuccess,function(){s()}),t.$on("afterLoginSuccess",function(){s()}),t.$on(n.logoutSuccess,function(){s()})}}}]),angular.module("Volusion.toolboxCommon").directive("vnRatingSummary",[function(){"use strict";return{restrict:"AE",templateUrl:"product-reviews/vn-rating-summary.html",replace:!0,scope:{ratingValue:"="},link:function(e){e.ratingValue=parseFloat(parseFloat(e.ratingValue).toFixed(1)),e.editable=!1}}}]),angular.module("Volusion.toolboxCommon").directive("vnWriteReview",[function(){"use strict";return{restrict:"AE",replace:!0,templateUrl:"product-reviews/vn-write-review.html",scope:{product:"="},link:function(e){e.review={},e["true"]=!0,e.cancel=function(){e.$parent.$close()},e.addReview=function(){}}}}]),angular.module("Volusion.toolboxCommon").directive("vnSearchForm",["vnSearchManager",function(e){return{templateUrl:"product-search/vnSearchForm.tpl.html",restrict:"AE",replace:!0,scope:{searchTerm:"=",showSearch:"="},link:function(t,n,a){n.bind("click",function(){n.find("input").focus()}),t.searchTerm=t.searchTerm||e.getSearchText(),t.allowCollapse=a.allowCollapse&&!!JSON.parse(a.allowCollapse),t.doSearch=function(){e.updateSearch(t.searchTerm),t.showSearch=!1,t.showSearch&&(t.showSearch=!1)},t.$watch(function(){return e.getSearchText()},function(e){t.searchTerm=e||""},!0)}}}]),angular.module("Volusion.toolboxCommon").factory("vnSearchManager",["$route","$location","vnProductParams",function(e,t,n){function a(){return n.getSearchText()}function i(a){n.updateSearch(a),t.search("q",a),"/search"!==t.path()&&t.path("/search"),e.reload()}return{getSearchText:a,updateSearch:i}}]),angular.module("Volusion.toolboxCommon").config(["$locationProvider","$httpProvider","$stateProvider","$urlRouterProvider",function(e,t,n,a){"use strict";e.html5Mode(!0),a.otherwise("/"),n.state("root",{"abstract":!0,url:"",template:"<div ui-view></div>",resolve:{loginFromCookie:["vnAuthService",function(e){return e.loginFromCookie()}]}}).state("home",{parent:"root",url:"/",templateUrl:"views/home.html",controller:"HomeCtrl",reloadOnSearch:!1,resolve:{translations:["translate",function(e){e.addParts("home"),e.addParts("product")}]}}).state("signup",{parent:"root",url:"/signup",templateUrl:"signup/signup.html",controller:"SignupCtrl",resolve:{checkLoggedIn:["vnAppRoute","loginFromCookie",function(e){return e.isLoggedIn("my-account")}]}}).state("logout",{parent:"root",url:"/logout",template:"",controller:"LogoutCtrl"}).state("forgot-password",{parent:"root",url:"/forgot-password",templateUrl:"login/forgot-password.html",controller:"ForgotPasswordCtrl"}).state("login",{parent:"root",url:"/login",templateUrl:"login/my-account-login.html",resolve:{checkLoggedIn:["vnAppRoute","loginFromCookie",function(e){return e.isLoggedIn("my-account")}]}}).state("my-account",{parent:"root",url:"/my-account",templateUrl:"my-account/my-account.html",controller:"MyAccountCtrl",resolve:{loggedIn:["vnUser","loginFromCookie",function(e){return e.isLoggedIn()}]},ncyBreadcrumb:{label:"My Account"}}).state("my-account.change-email",{url:"^/change-email",templateUrl:"my-account/change-email.html",controller:"ChangeEmailCtrl",ncyBreadcrumb:{label:"Change Email"}}).state("my-account.change-password",{url:"^/change-password",templateUrl:"my-account/change-password.html",controller:"ChangePasswordCtrl",ncyBreadcrumb:{label:"Change Password"}}).state("my-account.billing-addresses",{url:"^/billing-addresses",templateUrl:"my-account/billing-addresses.html",controller:"BillingAddressesCtrl",controllerAs:"vm",ncyBreadcrumb:{label:"Billing Address"}}).state("my-account.shipping-addresses",{url:"^/shipping-addresses",templateUrl:"my-account/shipping-addresses.html",controller:"ShippingAddressesCtrl",controllerAs:"vm",ncyBreadcrumb:{label:"Shipping Address"}}).state("my-account.payment-profiles",{url:"^/payment-profiles",templateUrl:"my-account/payment-profiles.html",controller:"PaymentProfilesCtrl",controllerAs:"vm",ncyBreadcrumb:{label:"Payment Profiles"}}).state("my-account.orders",{parent:"root",url:"/orders","abstract":!0,templateUrl:"my-account/orders.html"}).state("my-account.orders.list",{url:"/list",templateUrl:"my-account/orders.list.html",controller:"ListOrdersCtrl",controllerAs:"vm",ncyBreadcrumb:{label:"Orders",parent:"my-account"}}).state("my-account.orders.detail",{url:"/:id",templateUrl:"my-account/orders.detail.html",controller:"OrdersDetailCtrl",controllerAs:"vm",ncyBreadcrumb:{label:"Order Details",parent:"my-account.orders.list"}}).state("checkout",{parent:"root",url:"/checkout","abstract":!0,templateUrl:"checkout/checkout.html",controller:"CheckoutCtrl",resolve:{emptyCart:["vnAppRoute","loginFromCookie",function(e){return e.checkEmptyCart(this.url.source)}],loggedInOrAnon:["vnAppRoute","loginFromCookie",function(e){return e.isLoggedInOrAnon()}]}}).state("checkout.ship-method",{url:"/ship-method",resolve:{controller:["vnCheckout",function(e){return e.setStep(1),!0}]}}).state("checkout.pay-with",{url:"/pay-with",resolve:{controller:["$q","vnCheckout",function(e,t){var n=e.defer(),a=t.get();return a.shipMethodValid&&a.shipToValid?(t.setStep(2),n.resolve()):n.reject(),n.promise}]}}).state("checkout.review-order",{url:"/review-order",resolve:{controller:["$q","vnCheckout",function(e,t){var n=e.defer(),a=t.get();return a.shipMethodValid&&a.shipToValid&&a.creditCardValid&&a.billToValid?(t.setStep(3),n.resolve()):n.reject(),n.promise}]}}).state("paypal-checkout",{parent:"root",url:"/paypal-checkout?token&PayerID","abstract":!0,templateUrl:"paypal/vn-paypal-checkout.html",controller:"PaypalCheckoutCtrl",reloadOnSearch:!1,resolve:{emptyCart:["vnAppRoute","loginFromCookie",function(e){return e.checkEmptyCart(this.url.source)}],userDetails:["vnAppRoute","$stateParams",function(e,t){return e.userDetails(t)}]}}).state("paypal-checkout.ship-method",{url:"/ship-method",reloadOnSearch:!1,resolve:{controller:["vnCheckout",function(e){return e.setStep(1),!0}]}}).state("paypal-checkout.review-order",{url:"/review-order",resolve:{controller:["vnCheckout",function(e){return e.setStep(2),!0}]}}).state("thank-you",{parent:"root",url:"/thank-you",templateUrl:"checkout/thank-you/thank-you.html",controller:"ThankYouCtrl"}).state("product",{parent:"root",url:"/p/:slug",templateUrl:"views/product.html",controller:"ProductCtrl",resolve:{translations:["translate",function(e){return e.addParts("product")}]}}).state("category",{parent:"root",url:"/c/:slug",templateUrl:"views/category.html",controller:"CategoryCtrl",resolve:{params:["vnAppRoute","$location",function(e,t){return e.resolveParams(t.search())}],translations:["translate",function(e){return e.addParts("product")}]}}).state("search",{parent:"root",url:"/search",templateUrl:"views/search.html",controller:"SearchCtrl",reloadOnSearch:!1,resolve:{params:["vnAppRoute","$location",function(e,t){return e.resolveParams(t.search())}],translations:["translate",function(e){e.addParts("product")}]}}).state("allProducts",{parent:"root",url:"/all-products",templateUrl:"views/search.html",controller:"SearchCtrl",reloadOnSearch:!1,resolve:{params:["vnAppRoute","$location",function(e,t){return e.resolveParams(t.search())}],translations:["translate",function(e){e.addParts("product")}]}}).state("themeSettings",{parent:"root",url:"/theme-settings",templateUrl:"views/theme-settings.html",controller:"ThemeSettingsCtrl"})}]),angular.module("Volusion.toolboxCommon").directive("vnScrollToAnchor",["$location","$anchorScroll",function(e,t){return{restrict:"AC",compile:function(){return function(n,a,i){a.bind("click",function(n){n.preventDefault(),e.hash(i.vnScrollToAnchor),t()})}}}}]),angular.module("Volusion.toolboxCommon").factory("notifications",["$filter","vnAppMessageService",function(e,t){"use strict";function n(e,n){t.addMessage({type:e,text:n})}function a(){n("success",e("translate")("message.CART_ADD_SUCCESS"))}function i(){n("success",e("translate")("message.CART_UPDATE_SUCCESS"))}function s(t){if(t&&t.length>0){var a,i,s=e("translate");angular.forEach(t,function(e){i="message."+e.Code,a=s(i),a=a&&a!==i?a:e.Message,n("warning",a)})}}function d(t){if(t&&t.length>0){var a,i,s=e("translate");angular.forEach(t,function(e){i="message."+e.Code,a=s(i),a=a&&a!==i?a:e.Message,a=a||s("message.CART_UNKNOWN"),n("danger",a)})}}return{displaySuccessfulAddition:a,displaySuccessfulUpdate:i,displayWarnings:s,displayErrors:d}}]),angular.module("Volusion.toolboxCommon").factory("vnAppRoute",["$q","$rootScope","$route","$location","$routeParams","vnProductParams","vnSortDefault","vnCart","vnUser","$state","vnCheckout","vnNotifications","vnApi","vnContentManager",function(e,t,n,a,i,s,d,o,r,c,l,u,p,v){function h(e){e&&(g(),m(),y(),f(),_(),w(),b())}function g(){"search"===k()&&""!==s.getCategoryString()?a.search("categoryId",s.getCategoryString()):a.search("categoryId",null)}function m(){""!==s.getFacetString()?a.search("facetIds",s.getFacetString()):a.search("facetIds",null)}function f(){""!==s.getMaxPrice()?a.search("maxPrice",s.getMaxPrice()):a.search("maxPrice",null)}function y(){""!==s.getMinPrice()?a.search("minPrice",s.getMinPrice()):a.search("minPrice",null)}function _(){""!==s.getPage()&&"1"!==s.getPage()?a.search("page",s.getPage()):a.search("page",null)}function b(){"/search"===a.path()&&("/search"===a.path()&&""===s.getSearchText()?a.search("q",""):a.search("q",s.getSearchText()))}function w(){""!==s.getSort()&&d!==s.getSort()?a.search("sort",s.getSort()):a.search("sort",null)}function C(e){$=e}function k(){return $}function A(t){var n=e.defer();return s.preLoadData(t),n.resolve(!0),n.promise}function x(n){var a=e.defer(),i=function(){0===o.getCart().items.length?(a.reject(),c.go("home")):"/login"===n?a.resolve():"/checkout"===n&&""===r.getUser().email?(a.reject(),c.go("login")):a.resolve()};if(0===Object.keys(o.getCart()).length)var s=t.$on("cartUpdated",function(){i(),s()});else i();return a.promise}function P(t){var n=e.defer(),i=function(){n.reject(),v.showAppHeader(),v.showAppFooter()};if(void 0===t.token||void 0===t.PayerID){var s=r.getUser();if(s.token&&s.PayerID&&s.paypalEmail)return void n.resolve();i()}else v.showCheckoutAppHeader(),v.showCheckoutAppFooter(),p.Paypal().get({token:t.token,payerid:t.PayerID}).$promise.then(function(s){""===s.data.emailAddress?(i(),a.search("")):r.isLoggedIn().then(function(){l.initCart().promise.then(function(){var e=r.getUser();s.data.billingAddress.phoneNumber="512-867-5309",s.data.shippingAddress.phoneNumber="512-867-5309",o.setBillingAddress(s.data.billingAddress),o.setShippingAddress(s.data.shippingAddress),l.setUser(),o.updateCart(),e.token=t.token,e.PayerID=t.PayerID,e.paypalEmail=s.data.emailAddress,n.resolve()})},function(){var d={email:s.data.emailAddress,password:"",firstName:"",lastName:"",emailOptIn:!1,anonymous:!0,customFields:{},autoLogin:!0};e.all([r.createFrom(d),l.initCart().promise]).then(function(e){r.setId(e[0].data.id),s.data.billingAddress.phoneNumber="512-867-5309",s.data.shippingAddress.phoneNumber="512-867-5309",o.setBillingAddress(s.data.billingAddress),o.setShippingAddress(s.data.shippingAddress),l.setUser(),o.updateCart().then(function(){});var a=r.getUser();a.token=t.token,a.PayerID=t.PayerID,a.paypalEmail=s.data.emailAddress,n.resolve()})["catch"](function(e){u.displayErrors(e),c.go("home"),a.search(""),i()})})})["catch"](function(e){u.displayErrors(e),c.go("home"),a.search(""),i()});return n.promise}function S(){return r.isLoggedInOrAnon()["catch"](function(){c.go("login")})}function E(e){var t=r.getUser();return t.email&&c.go(e?e:"home"),!0}function T(){var t=e.defer();return o.getShippingMethods()?t.resolve():t.reject(),t.promise}var $="";return t.$watch(function(){return s.getParamsObject()},function(){h(s.getParamsObject())},!0),{getRouteStrategy:k,setRouteStrategy:C,resolveParams:A,checkEmptyCart:x,userDetails:P,isLoggedInOrAnon:S,isLoggedIn:E,hasShippingMethod:T}}]),angular.module("Volusion.toolboxCommon").factory("vnBem",function(){function e(e,n){var a=[e];return angular.forEach(t(n),function(t){a.push(e+"--"+t)}),a}function t(e){return e=e&&e.replace(/^\s+|\s+$/g,""),e?e.split(/\s+/):[]}return{addClasses:function(t,n){n=n||{};var a=n.block;if(a){var i=e(a,n.blockModifiers),s=n.element;if(!s)return void angular.forEach(i,function(e){t.addClass(e)});var d=e("__"+s,n.elementModifiers);angular.forEach(i,function(e){angular.forEach(d,function(n){t.addClass(e+n)})})}}}}),angular.module("Volusion.toolboxCommon").service("vnCart",["$rootScope","vnApi",function(e,t){"use strict";function n(){return f}function a(){return void 0===f||void 0===f.totals?0:f.totals.qty}function i(){return t.Cart({cartId:""}).get().$promise}function s(){t.Cart({cartId:""}).get().$promise.then(function(t){f=t.data,e.$emit("cartUpdated")})}function d(e){f=e}function o(){f={}}function r(n){return t.Cart().save({cartId:f.id},n).$promise.then(function(t){angular.copy(t.data,f),f.serviceErrors=[],f.warnings=t.warnings||t.data.warnings||[],e.$emit("cartUpdated")})["catch"](function(t){angular.copy(t.data.data,f),f.serviceErrors=t.serviceErrors||t.data.serviceErrors||[],f.warnings=t.warnings||t.data.warnings||[],e.$emit("cartUpdated")})}function c(){var e=!1;return angular.forEach(f.shippingAddress,function(t){t.preferred&&(e=t)}),e}function l(t){angular.copy(t,f.shippingAddress),e.$emit("vnShippingAddress.updated",t)}function u(){var e=!1;return angular.forEach(f.billingAddress,function(t){t.preferred&&(e=t)}),e}function p(t){angular.copy(t,f.billingAddress),e.$emit("vnBillingAddress.updated",t)}function v(){var e=!1;return angular.forEach(f.shippingMethods,function(t){t.selected&&(e=t)}),e}function h(e){angular.copy(e,f.paymentProfile)}function g(e){angular.copy(e,f.paypalInfo),f.paymentProfile={method:"PAYPAL EXPRESS",card:{cardType:25}}}function m(){return t.Cart().update({cartId:f.id},f).$promise.then(function(t){angular.copy(t.data,f),f.serviceErrors=[],f.warnings=t.warnings||t.data.warnings||[],e.$emit("cartUpdated")})["catch"](function(t){angular.copy(t.data.data,f),f.serviceErrors=t.serviceErrors||t.data.serviceErrors||[],f.warnings=t.warnings||t.data.warnings||[],e.$emit("cartUpdated")})}var f={};return{getCart:n,getBillingAddress:u,getCartItemsCount:a,getShippingAddress:c,getShippingMethods:v,init:s,initWithPromise:i,reset:o,set:d,saveCart:r,setCCPaymentProfile:h,setPaypal:g,setBillingAddress:p,setShippingAddress:l,updateCart:m}}]),angular.module("Volusion.toolboxCommon").factory("vnCheckout",["$rootScope","$location","$q","vnSiteConfig","vnCart","vnUser","vnApi","vnNotifications",function(e,t,n,a,i,s,d,o){"use strict";function r(){return d.Country().query().$promise}function c(e){P.billToValid=e}function l(e){P.shipToValid=e}function u(e){P.shipMethodValid=e}function p(e){P.creditCardValid=e}function v(t){angular.forEach(P.steps,function(e){e.active=!1}),void 0!==t&&(P.currentStep=t),P.steps[P.currentStep-1].active=!0,e.$emit("checkout.stepChanged")}function h(e,t){P.steps[e].hasOpenDrawer=t}function g(){return P}function m(){P.steps.length>P.currentStep&&(P.currentStep++,v())}function f(){P.user=s.getUser(),P.cart.customer.id=P.user.id}function y(){P.cart.misc.isGift=!1,P.user.anonymous&&(P.cart.customer.id=P.user.id),d.Orders().save({},P.cart).$promise.then(function(n){if(n.errors&&n.errors.length){window.response=n;for(var a=0;a<n.errors.length;a++)o.displayMsg("danger",n.errors[a].messages.join(". "))}else e.$emit("checkout.orderPlaced"),P.orderId=n.data.id,v(1),t.path("/thank-you")})["catch"](function(t){o.displayMsg("danger","Something went wrong. Please try again later."),e.$emit("checkout.orderPlaced"),o.displayErrors(t)})}function _(){v(1),s.isAnonymous()&&s.reset()}function b(){1<P.currentStep&&(P.currentStep--,v())}function w(e){i.setCCPaymentProfile(e)}function C(e){i.setBillingAddress(e)}function k(t){i.setShippingAddress(t),e.$emit("checkout.shippingaddress.changed")}function A(){i.updateCart()}function x(){var e=n.defer();return i.initWithPromise().then(function(e){i.set(e.data),P.cart=i.getCart()}).then(function(){e.resolve(P)})["catch"](function(t){e.reject(t)}),e}var P={config:{PCIaaS:{}},cart:{},orderId:-1,currentStep:1,steps:[{active:!0,hasOpenDrawer:!1},{active:!1,hasOpenDrawer:!1},{active:!1,hasOpenDrawer:!1}],shipToValid:!1,shipMethodValid:!1,billToValid:!1,creditCardValid:!1};return a.getConfig().then(function(t){P.config=t.data.checkout,P.config.PCIaaS=t.data.PCIaaS,e.$emit("PCIaaS.updated")}),{get:g,getCountries:r,initCart:x,nextStep:m,placeOrder:y,prevStep:b,setStep:v,setCreditCardValidity:p,setBillingAddress:C,setBillToValidity:c,setCCPaymentProfile:w,setShippingAddress:k,setShipToValidity:l,setShipMethodValidity:u,setUser:f,setHasOpenDrawer:h,updateCart:A,resetCheckout:_}}]),angular.module("Volusion.toolboxCommon").factory("vnContentManager",function(){"use strict";function e(){return l}function t(){return u}function n(){return p}function a(){return v}function i(){l=!1}function s(){u=!1}function d(){l=!0,p=!1}function o(){u=!0,v=!1}function r(){l=!1,p=!0}function c(){u=!1,v=!0}var l=!0,u=!0,p=!1,v=!1;return{getFooterState:e,getHeaderState:t,getCheckoutFooterState:n,getCheckoutHeaderState:a,hideAppFooter:i,hideAppHeader:s,showAppFooter:d,showAppHeader:o,showCheckoutAppFooter:r,showCheckoutAppHeader:c}}),angular.module("Volusion.toolboxCommon").service("vnCreditCardClass",function(){return function(e){switch(angular.isString(e)?e.toUpperCase():e){case"AMEX":case"AMERICAN EXPRESS":case"7":case 7:return{type:7,"class":"th-credit-card__img--amex",name:"American Express"};case"VISA":case"5":case 5:return{type:5,"class":"th-credit-card__img--visa",name:"Visa"};case"MC":case"MASTERCARD":case"6":case 6:return{type:6,"class":"th-credit-card__img--mastercard",name:"MasterCard"};case"DISC":case"DISCOVER":case"8":case 8:return{type:8,"class":"th-credit-card__img--discover",name:"Discover"};default:return{type:0,"class":"th-credit-card__img--unknown",name:"Unknown"}}}}),angular.module("Volusion.toolboxCommon").service("vnDevice",["vnViewPortWatch","$rootScope","VN_DEVICE_EVENTS",function(e,t,n){"use strict";function a(e){void 0!=e&&(k=e),v(),d(),y(),_(),s(),k.listeners.location&&b(),k.listeners.network&&o(),k.listeners.orientation&&h(),k.listeners.resize&&m()}function i(){t.device={acceleration:{},location:{city:null,state:null},screen:{orientation:{}},info:{},network:{}}}function s(){e.setBreakpoints([{name:"Phone",mediaQuery:"screen and (max-width: "+k.breakpoints.phone+"px)",onMatch:function(){p("phone")}}]),e.setBreakpoints([{name:"Tablet",mediaQuery:"screen and (min-width: "+(k.breakpoints.phone+1)+"px) and (max-width: "+k.breakpoints.tablet+"px)",onMatch:function(){p("tablet")}}]),e.setBreakpoints([{name:"Desktop",mediaQuery:"screen and (min-width:"+(k.breakpoints.tablet+1)+"px)",onMatch:function(){p("desktop")}}])}function d(){t.device.network.status=navigator.onLine===!0?"online":"offline",t.$emit(n.changed),t.$emit(n.networkChange)}function o(){window.addEventListener("online",d),window.addEventListener("offline",d)}function r(){window.removeEventListener("online",d,!1),window.removeEventListener("offline",d,!1)}function c(){window.DeviceOrientationEvent?window.addEventListener("deviceorientation",u,!1):console.log("DeviceOrientation is not supported")}function l(){window.removeEventListener("deviceorientation",u,!1)}function u(e,a,i){t.device.acceleration.tiltLR=e,t.device.acceleration.tiltFB=a,t.device.acceleration.dir=i,t.$emit(n.changed),t.$emit(n.accelerationChanged)}function p(e){t.device.info.shortname=e,t.device.info.isDesktop="desktop"==e?!0:!1,t.$emit(n.changed),t.$emit(n.infoChanged),t.$emit("device."+e)}function v(){t.device.screen.orientation.type=window.innerHeight>window.innerWidth?"portrait-primary":"landscape-primary"}function h(){window.addEventListener("orientationchange",function(){console.log(window.orientation),t.device.screen.orientation=screen.orientation,y(),_(),t.$emit(n.changed),t.$emit(n.screenOrientationChanged)})}function g(){window.removeEventListener("orientationchange",null,!1)}function m(){window.addEventListener("resize",function(){y(),_()})}function f(){window.removeEventListener("resize",null,!1)}function y(){t.device.screen.height=window.innerHeight,t.$emit(n.changed),t.$emit(n.screenChanged)}function _(){t.device.screen.width=window.innerWidth,t.$emit(n.changed),t.$emit(n.screenChanged)}function b(){navigator.geolocation?navigator.geolocation.watchPosition(C):console.log("Your browser does not support GeoLocation")}function w(){navigator.geolocation.clearWatch()}function C(e){t.device.location.latitude=e.coords.latitude,t.device.location.longitude=e.coords.longitude,t.$emit(n.changed),t.$emit(n.locationChanged)}var k={breakpoints:{phone:768,tablet:991},listeners:{location:!1,orientation:!0,network:!1,resize:!1}};return t.device={acceleration:{},location:{city:null,state:null},screen:{orientation:{}},info:{},network:{}},{init:a,resetDevice:i,startNetworkStatusListener:o,startOrientationListener:h,startLocationListener:b,startAccelerationListener:c,startWindowResizeListener:m,stopNetworkStatusListener:r,stopOrientationListener:g,stopLocationListener:w,stopAccelerationListener:l,stopWindowResizeListener:f}}]),angular.module("Volusion.toolboxCommon").factory("vnGeo",["$resource",function(e){"use strict";function t(){return e("https://freegeoip.net/json",{},{query:{method:"GET",isArray:!1}})}return{locate:t}}]),angular.module("Volusion.toolboxCommon").factory("vnHttpResponseInterceptor",["$q","$rootScope",function(e,t){return{response:function(t){return t||e.when(t)},responseError:function(n){return 401===n.status&&t.$emit("VN_UNAUTHORIZED_ERROR",{err:n},{status:n.status,message:n.data,resource:n.headers("resource")||""}),500===n.status&&t.$emit("VN_HTTP_500_ERROR",{err:n},{status:n.status,message:n.data,resource:n.headers("resource")||""}),e.reject(n)}}}]),angular.module("Volusion.toolboxCommon").factory("vnNotifications",["$filter","vnAppMessageService",function(e,t){"use strict";function n(e,n){t.addMessage({type:e,text:n})}function a(t){var a,i,s=e("translate");t&&t.length>0&&angular.forEach(t,function(e){i="message."+e.Code,a=s(i),a=a&&a!==i?a:e.Message,n("warning",a)})}function i(t){var a,i,s=e("translate");t&&t.length>0&&angular.forEach(t,function(e){i="message."+e.Code,a=s(i),a=a&&a!==i?a:e.Message,a=a||e,n("danger",a)})}return{displayWarnings:a,displayErrors:i,displayMsg:n}}]),angular.module("Volusion.toolboxCommon").factory("vnPayment",["$rootScope","$resource","$timeout","$q","$filter","vnCheckout","vnPCIaaS",function(e,t,n,a,i,s,d){"use strict";function o(){return P}function r(e){P.cardNumber=e.cardNumber,P.ExpireMonth=e.expMonth,P.ExpireYear=e.expYear,P.CardType=e.cardType,P.CardTypeName=e.cardTypeName,P.CardID=e.pCIaaSId}function c(e){P.CardID=e}function l(e){P.PersistCard=e}function u(e){P.CardHolderName=e}function p(e){P.cardNumber=e}function v(e){P.ExpireMonth=e}function h(e){P.ExpireYear=e}function g(e){P.CVV=e}function m(e){P.CardTypeName=e,P.CardType=i("filter")(k.config.creditCardsAccepted,function(t){return t.name.toLowerCase()===e.toLowerCase()?t.id:void 0})[0],P.CardType=void 0!==P.CardType?P.CardType.id:-1}function f(){angular.copy({cardNumber:"",mask:{},MerchantId:"",CardID:"",PersistCard:"",CardHolderName:"",ExpireMonth:"",ExpireYear:"",CVV:"",CardType:"",CardTypeName:""},P)}function y(e){return Object.getOwnPropertyNames(e).length>0?!1:!0}function _(){P.CVV=P.CVV.replace(/./g,A.maskCharacter),P.cardNumber=P.mask.display,P.mask.sent=""}function b(e){if(e&&!y(P.mask))return P.mask;var t=P.cardNumber,n=new RegExp(A.maskPattern),a=t.match(n),i=t,s=[],d=A.maskCharacter,o="";if(null!==a){for(var r=1;r<a.length;r++){o="";for(var c=0;c<a[r].length;c++)o+=d;i=i.replace(a[r],o)}for(var l=i.length-1;l>=0;l--)s.unshift(i.charAt(l)===d?t.charAt(l):d);return P.mask={display:i,sent:s.join("")},P.mask}return{display:t,sent:t}}function w(){var e={};switch(e.NumberPart=-1===P.cardNumber.indexOf(A.maskCharacter)?b(!1).sent:P.cardNumber,e.CVV=P.CVV,P.CardTypeName.toUpperCase()){case"AMERICAN EXPRESS":e.CardType="AMEX";break;case"VISA":e.CardType="VISA";break;case"MASTERCARD":e.CardType="MC";break;case"DISCOVER":e.CardType="DISC"}return JSON.stringify(e)}function C(){var e=a.defer(),t=w();return P.MerchantId=k.config.PCIaaS.merchantId,""!==P.CardID?d.Card(x.update.uri(P.CardID),P.MerchantId).update(t).$promise.then(function(){_(),e.resolve(P)})["catch"](function(t){e.reject(t)}):d.Card(x.save.uri(),P.MerchantId).save(t).$promise.then(function(t){for(var n=0,a="";t[n];)a+=t[n],n++;P.CardID=a,_(),e.resolve(P)})["catch"](function(t){e.reject(t)}),e.promise}var k=s.get(),A={maskPattern:"^(\\d+?)\\d{4}$",maskCharacter:"*"},x={base:{uri:function(){return k.config.PCIaaS.url+"/cards/"}},save:{uri:function(){return x.base.uri()},method:"POST"},update:{uri:function(e){return x.base.uri()+e.toString()},method:"PUT"}},P={cardNumber:"",mask:{},MerchantId:"",CardID:"",PersistCard:"",CardHolderName:"",ExpireMonth:"",ExpireYear:"",CVV:"",CardType:"",CardTypeName:""};return{getCard:o,process:C,reset:f,setCardFrom:r,setCardId:c,setPersistCard:l,setCardHolderName:u,setCardNumber:p,setCvv:g,setExpireMonth:v,setExpireYear:h,setCardType:m}}]),angular.module("Volusion.toolboxCommon").factory("vnPciaasIframe",function(){var PCIaaS=null;return window.JSON||(window.JSON={},function(){function k(e){return 10>e?"0"+e:e}function o(e){return p.lastIndex=0,p.test(e)?'"'+e.replace(p,function(e){var t=r[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function l(t,a){var s,d,r,c,u,p=e,v=a[t];switch(v&&"object"==typeof v&&"function"==typeof v.toJSON&&(v=v.toJSON(t)),"function"==typeof i&&(v=i.call(a,t,v)),typeof v){case"string":return o(v);case"number":return isFinite(v)?String(v):"null";case"boolean":case"null":return String(v);case"object":if(!v)return"null";if(e+=n,u=[],"[object Array]"===Object.prototype.toString.apply(v)){for(c=v.length,s=0;c>s;s+=1)u[s]=l(s,v)||"null";return r=0===u.length?"[]":e?"[\n"+e+u.join(",\n"+e)+"\n"+p+"]":"["+u.join(",")+"]",e=p,r}if(i&&"object"==typeof i)for(c=i.length,s=0;c>s;s+=1)"string"==typeof i[s]&&(d=i[s],(r=l(d,v))&&u.push(o(d)+(e?": ":":")+r));else for(d in v)Object.prototype.hasOwnProperty.call(v,d)&&(r=l(d,v))&&u.push(o(d)+(e?": ":":")+r);return r=0===u.length?"{}":e?"{\n"+e+u.join(",\n"+e)+"\n"+p+"}":"{"+u.join(",")+"}",e=p,r}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+k(this.getUTCMonth()+1)+"-"+k(this.getUTCDate())+"T"+k(this.getUTCHours())+":"+k(this.getUTCMinutes())+":"+k(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var q=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,p=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e,n,r={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},i;"function"!=typeof JSON.stringify&&(JSON.stringify=function(t,a,s){var d;if(n=e="","number"==typeof s)for(d=0;s>d;d+=1)n+=" ";else"string"==typeof s&&(n=s);if((i=a)&&"function"!=typeof a&&("object"!=typeof a||"number"!=typeof a.length))throw Error("JSON.stringify");return l("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(a,e){function c(t,n){var a,i,s=t[n];if(s&&"object"==typeof s)for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(i=c(s,a),void 0!==i?s[a]=i:delete s[a]);return e.call(t,n,s)}var d,a=String(a);if(q.lastIndex=0,q.test(a)&&(a=a.replace(q,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return d=eval("("+a+")"),"function"==typeof e?c({"":d},""):d;throw new SyntaxError("JSON.parse")})}()),function(e){var t,n,a,i,s=function(){var e=navigator.userAgent,t=/Firefox\/(\d+)/i,n=e.match(t),a=parseInt(n?n[1]||!1:!1),i=isNaN(a)?!1:a;return i}(),d={base:{uri:function(){return y(m.get("apiBase"))+"/cards/"}},save:{uri:function(){return d.base.uri()},method:"POST"},update:{uri:function(e){return d.base.uri()+e.toString()},method:"PUT"}},o=1,r=window.postMessage&&-1===navigator.userAgent.indexOf("Opera"),c="/Assets/pci_receiver.html?&parenturl="+encodeURIComponent(location.href)+"&parentdomain="+encodeURIComponent(location.protocol+"//"+location.host),l=function(e){var t=/^https?:\/\/[^/]+/i;return m.get("apiBase").match(t)[0]===e.origin.match(t)[0]},u=r?function(t){t&&(i&&u(!1),i=function(n){return n||(n=window.event),"ready"===n.data?(e.requestCallback(),!1):l(n)?void t(n):!1}),s&&4>s?window.addEventListener("message",i,!1):window.onmessage=i}:function(t){n&&clearInterval(n),n=null,n=setInterval(function(){var n=document.location.hash,i=/^#?\d+&/;return n!==a&&"ready"===n.replace(i,"")?void e.requestCallback():void(n!==a&&i.test(n)&&(a=n,t({data:n.replace(i,"")})))},100)},p=r?function(e,t){t.postMessage(e,y(m.get("apiBase")))}:function(e,t){var n=(y(m.get("apiBase"))+c).replace(/#.*$/,"")+"#"+ +new Date+o++ +"&"+e;t.location=n},v=function(n,a,i,s){var d=function(){p(n+"|||||"+a+"|||||"+i+"|||||"+s,t.contentWindow||t)};e.requestCallback=d,u(function(e){I(e.data)},y(m.get("apiBase"))),t=document.createElement("iframe"),t.style.position="absolute",t.style.left="-9999px",t.style.width="1px",t.style.height="1px",t.src=y(m.get("apiBase"))+c,document.getElementsByTagName("body")[0].appendChild(t)},h={maskPattern:"^(\\d+?)\\d{4}$",maskCharacter:"*",apiBase:window.location.protocol+"//pci."+window.location.hostname.replace("www.","")},g={error:function(e){for(var t=0;t<e.length;t++)throw"PCIaaS Error "+e[t].majorCode+": "+e[t].minorCode+": "+e[t].message}},m={get:function(e){var t=e in m?m[e]:h[e];return t?t:void k.add("-1","2",b(_.settingMissing,e))},set:function(e,t){if("object"==typeof e)for(var n in e)m[n]=e[n];else m[e]=void 0!==t?t:h[e];return m}},f=/\/$/,y=function(e){return e?e.replace(f,""):void 0},_={cardNumberInvalid:"The card number is missing or in an unrecognized format.",unknownError:"There was a processing error. Please try again.",crossDomainError:"Cannot make request due to same-origin policy. {0} cannot be accessed via AJAX from {1}.",maskFailure:"The masking pattern provided does not match the card number.",missingFields:"Missing fields object. Pass a fields object to the PCIaaS function.",fieldMissing:'Field "{0}" missing or invalid.',settingMissing:'Setting "{0}" missing or invalid.'},b=function(){for(var e=Array.prototype.slice.call(arguments,1),t=arguments[0],n=0;n<e.length;n++)t=t.replace("{"+n+"}",e[n]);return t},w=new RegExp("[\\s-]","g"),C=function(){var e=[[function(){var e=x.getValue("CardNumber",!0),t=m.get("maskCharacter");if(!e)return!1;if(-1!=e.indexOf(t))return e.match(new RegExp("[^"+t+"\\d]"))||!e.match(/\d/)?!1:!0;e=e.replace(w,"");var n,a,i,s,d;for(s="",n=0;n<e.length;n++)i=parseInt(e.charAt(n),10),i>=0&&9>=i&&(s=i+s);if(s.length<=1)return!1;for(d="",n=0;n<s.length;n++)i=parseInt(s.charAt(n),10),n%2!=0&&(i*=2),d+=i;for(a=0,n=0;n<d.length;n++)i=parseInt(d.charAt(n),10),a+=i;return 0!=a&&a%10==0?!0:!1},"-1","3",_.cardNumberInvalid]];return function(){for(var t=e.length-1;t>=0;t--)e[t][0]()||k.add(e[t][1],e[t][2],e[t][3]);return 0===k.number()}}(),k={add:function(e,t,n){n in k._register||(k._stack.push({majorCode:e,minorCode:t,
message:n}),k._register[n]=!0)},clear:function(){k._stack=[],k._register={}},get:function(){var e=k._stack.slice(0);return k.clear(),e},number:function(){return k._stack.length},_register:{},_stack:[]},A=function(e){return k.add("-1","2",b(_.fieldMissing,e))},x={get:function(e,t){return t?x[e]:e in x?x[e]:A(e)},getValue:function(e,t){var n="";if(x[e])if(x[e].tagName)switch(x[e].tagName.toLowerCase()){case"select":n=x[e].getElementsByTagName("option")[x[e].selectedIndex].value;break;case"textarea":n=x[e].innerHTML;break;case"input":switch(x[e].type){case"checkbox":case"radio":n=x[e].checked;break;default:n=x[e].value}}else n="function"==typeof x[e]?x[e]():"";return t?n:""===n?A(e):n},set:function(e,t){if("object"==typeof e)for(var n in e)x.set(n,e[n]);else x[e]=t.nodeType?t:document.getElementById(t)||("function"==typeof t?t:"");return x},setValue:function(e,t){var n=x.get(e,!0);return n.nodeType?n.value=t:"function"==typeof n?n(t):"string"==typeof n||"boolean"==typeof n?x[e]=t:void 0}},P=null,S=["PersistCard","CardHolderName","ExpireMonth","ExpireYear","CVV"],E=["CardType"],T=function(e){var t={MerchantId:m.get("merchantID")},n=x.getValue("HiddenCardID",!0),a=x.getValue("CardNumber",e);if(!a)return k.add("-1","4",_.cardNumberInvalid),!1;t.NumberPart=-1===a.indexOf(m.get("maskCharacter"))?D("nocache",e).toSend:"";for(var i=0;i<E.length;i++)t[E[i]]=x.getValue(E[i],e);for(var s=0;s<S.length;s++)S[s]in x&&""!=x.getValue(S[s],!0).toString()&&(t[S[s]]=x.getValue(S[s],!0));return n&&!e&&(t.CardId=n),JSON.stringify(t)},$=function(){return T(!0)!==P},V=function(e){var t=x.getValue("HiddenCardID",!0);if(k.clear(),e||$()){if(!C())return g.error(k.get()),!1;var n,a=T();if(!a)return g.error(k.get()),!1;if(g.preprocess&&(n=g.preprocess(a)),n===!1)return!1;if("string"==typeof n&&(a=n),0!==k.number())return g.error(k.get()),!1;P=T(!0);var i=t?d.update.uri(t):d.save.uri(),s=t?d.update.method:d.save.method;v(i,a,s,m.get("merchantID"))}else g.success&&g.success(JSON.stringify({IsSuccessful:!0,CardId:t}),x.getValue("CardNumber"),null)},I=function(e){if(document.getElementsByTagName("body")[0].removeChild(t),e=JSON.parse(e),e.IsSuccessful){e.CardId&&x.setValue("HiddenCardID",e.CardId);var n=D("cached",!0);g.success&&g.success(e,n)}else M(e)},M=function(e){if(e&&e.Items)for(var t=0;t<e.Items.length;t++)k.add(e.Items[t].MajorCode,e.Items[t].MinorCode,e.Items[t].Message);else k.add("-1","-1",_.unknownError);g.error(k.get())},N="",D=function(e,t){if("cached"==e&&""!==N)return N;var n=x.getValue("CardNumber",t).replace(w,""),a=new RegExp(m.get("maskPattern")),i=n.match(a),s=n,d=[],o=m.get("maskCharacter"),r="";if(null!==i){for(var c=1;c<i.length;c++){r="";for(var l=0;l<i[c].length;l++)r+=o;s=s.replace(i[c],r)}for(var u=s.length-1;u>=0;u--)d.unshift(s.charAt(u)===o?n.charAt(u):o);return N={toDisplay:s,toSend:d.join("")}}return{toDisplay:n,toSend:n}},L=function(e){var t=e||D("cached");t&&(x.setValue("CardNumber",t.toDisplay),x.getValue("CVV")&&x.setValue("CVV",x.getValue("CVV").replace(/./g,m.get("maskCharacter"))))},U=function(e){if(e.settings&&m.set(e.settings),e.events)for(var t in e.events)g[t]=e.events[t];return e.fields?x.set(e.fields):(k.add("-1","2",_.missingFields),g.error(k.get())),{settings:m,fields:x,events:g,process:V,applyMask:L}};"function"==typeof define&&define.amd&&define(function(){return U}),PCIaaS=U}(window),{PCIaaS:PCIaaS}}),angular.module("Volusion.toolboxCommon").factory("vnPCIaaS",["$resource",function(e){"use strict";function t(t,n){var a={resource:"PCIaaS","Content-Type":"application/json",Accept:"application/json",MerchantId:n};return e(t,{},{save:{method:"POST",withCredentials:!0,headers:a},update:{method:"PUT",withCredentials:!0,headers:a}})}return{Card:t}}]),angular.module("Volusion.toolboxCommon").factory("vnImagePreloader",["$q","$rootScope",function(e,t){"use strict";function n(t){this.imageLocations=t,this.imageCount=this.imageLocations.length,this.loadCount=0,this.errorCount=0,this.states={PENDING:1,LOADING:2,RESOLVED:3,REJECTED:4},this.state=this.states.PENDING,this.deferred=e.defer(),this.promise=this.deferred.promise}return n.preloadImages=function(e){var t=new n(e);return t.load()},n.prototype={constructor:n,isInitiated:function(){return this.state!==this.states.PENDING},isRejected:function(){return this.state===this.states.REJECTED},isResolved:function(){return this.state===this.states.RESOLVED},load:function(){if(this.isInitiated())return this.promise;this.state=this.states.LOADING;for(var e=0;e<this.imageCount;e++)this.loadImageLocation(this.imageLocations[e]);return this.promise},handleImageError:function(e){this.errorCount++,this.isRejected()||(this.state=this.states.REJECTED,this.deferred.reject(e))},handleImageLoad:function(e){this.loadCount++,this.isRejected()||(this.deferred.notify({percent:Math.ceil(this.loadCount/this.imageCount*100),imageLocation:e}),this.loadCount===this.imageCount&&(this.state=this.states.RESOLVED,this.deferred.resolve(this.imageLocations)))},loadImageLocation:function(e){var n=this,a=$(new Image).load(function(e){t.$apply(function(){n.handleImageLoad(e.target.src),n=a=e=null})}).error(function(e){t.$apply(function(){n.handleImageError(e.target.src),n=a=e=null})}).prop("src",e)}},n}]),angular.module("Volusion.toolboxCommon").factory("vnProductParams",function(){"use strict";function e(e){N.length=0,N.push(e),L.categoryIds=a()}function t(e){D.push(e),L.facets=i()}function n(){return L.accessoriesOf}function a(){return N.join(",")}function i(){return D.join(",")}function s(){return L.maxPrice}function d(){return L.minPrice}function o(){return L.page}function r(){return L.pageSize}function c(){return L}function l(){return L.search}function u(){return L.sort}function p(e){return D.indexOf(e)>-1}function v(){L.page++}function h(n){if(n.categoryId&&e(parseInt(n.categoryId)),n.facetIds){var a=n.facetIds.split(",");angular.forEach(a,function(e){p(parseInt(e))||t(parseInt(e))})}n.minPrice&&T(n.minPrice),n.maxPrice&&E(n.maxPrice),n.q&&M(n.q),n.sort&&I(n.sort),n.page&&$(n.page)}function g(){L.page--}function m(){L.slug=""}function f(){L.search=""}function y(){L.minPrice=""}function _(){L.maxPrice=""}function b(){L.accessoriesOf=""}function w(e){var t=N.indexOf(e);N.splice(t,1),L.categoryIds=a()}function C(e){var t=D.indexOf(e);D.splice(t,1),L.facets=i()}function k(){L.sort=""}function A(){N=[],L.categoryIds=""}function x(){D=[],L.facets=""}function P(){N=[],D=[],L={categoryIds:"",slug:"",facets:"",minPrice:"",maxPrice:"",accessoriesOf:"",sort:"",page:"",pageSize:""}}function S(e){L.accessoriesOf=e}function E(e){L.maxPrice=e}function T(e){L.minPrice=e}function $(e){L.page=e}function V(e){L.pageSize=e}function I(e){L.sort=e}function M(e){L.search=decodeURIComponent(e)}var N=[],D=[],L={categoryIds:"",slug:"",facets:"",minPrice:"",maxPrice:"",accessoriesOf:"",sort:"",page:"",pageSize:""};return{addCategory:e,addFacet:t,getAccessoriesOf:n,getCategoryString:a,getFacetString:i,getMaxPrice:s,getMinPrice:d,getPage:o,getPageSize:r,getParamsObject:c,getSearchText:l,getSort:u,isFacetSelected:p,nextPage:v,preLoadData:h,previousPage:g,removeSlug:m,removeSearch:f,removeMinPrice:y,removeMaxPrice:_,removeAccessoriesOf:b,removeCategory:w,removeFacet:C,removeSort:k,resetCategories:A,resetFacets:x,resetParams:P,setAccessoriesOf:S,setMaxPrice:E,setMinPrice:T,setPage:$,setPageSize:V,setSort:I,updateSearch:M}}),angular.module("Volusion.toolboxCommon").factory("vnProduct",["vnImagePreloader",function(e){"use strict";function t(){var e=[];if(!m.options)return e;for(var n=0;n<m.options.length;n++){var a=m.options[n];if(a.isRequired&&!a.hasOwnProperty("selected")&&e.push(a.label),a.options.length>0)for(var i=t(a.options),s=0;s<i.length;s++)e.push(i[s].label)}return e}function n(){var e=[];if(!m.options)return e;for(var t=0;t<m.options.length;t++){var n=m.options[t];n.isRequired&&n.derivesToSKU&&e.push(n.label)}return e.length}function a(){var t=[];angular.forEach(m.imageCollections,function(e){angular.forEach(e.images,function(e){t.push(e.medium)})}),e.preloadImages(t)}function i(e){if("undefined"==typeof e)return!0;var t,a=0,i=1===n();return t=m.optionSKUs.filter(function(t){return t.key===e}),t.length>0&&(i||t[0].key.indexOf("|")>-1)?(a=t[0].quantityInStock,null===a||a>0):0===t.length?m.availability.allowBackOrders||null===m.availability.quantityInStock||m.availability.quantityInStock>0:!1}function s(){var e,t=0;if(m.options.length>0&&m.optionSKUs.length>0){for(var n=0;n<m.optionSKUs.length;n++)t|=i(m.optionSKUs[n].key);e=0===t}else e=!m.availability.allowBackOrders&&null!==m.availability.quantityInStock&&m.availability.quantityInStock<=0;return e}function d(){var e=!1;if(0===m.options.length)e=m.availability.allowBackOrders||null===m.availability.quantityInStock||m.availability.quantityInStock>0;else{var t=1===m.options.length?m.optionSelection.option.key+":"+m.optionSelection.option.selected:m.optionSelection.key;e=i(t)}return e}function o(e){return m=e,m.optionSelection={option:{selected:"default"}},m.imageCollections.length>0&&m.imageCollections[0].images.length>0&&(m.image=m.imageCollections[0].images[0]),a(),m}function r(e,t){m.sharing={facebook:"http://www.facebook.com/sharer.php?u="+e+"&t="+t,twitter:"http://twitter.com/share?url="+e+"&text="+t,tumblr:"http://www.tumblr.com/share/link?url="+e+"&name="+t,googlePlus:"https://plus.google.com/share?url="+e}}function c(e){m.isEditable=e}function l(e){angular.forEach(m.imageCollections,function(t){t.key===e&&(m.image=t.images[0],m.currentImageCollection=t.images)})}function u(e){m.optionSelection&&m.optionSelection.quantityInStock-e>=0&&(m.optionSelection.quantityInStock-=e)}function p(){return m.cartItem}function v(){return void 0!==m.image?m.image:null}function h(e){0!==e.length&&(1===e.length&&(e[1]=e[0],e[2]=e[0]),void 0===m.image&&(m.image={}),m.image.medium=e[0],m.image.large=e[1],m.image.small=e[2])}function g(){return m.seo}var m={};return{set:o,setEditable:c,setSocialSharing:r,setProductImage:l,getProductCart:p,getProductImage:v,setProductNoImage:h,setQuantityInStock:u,getProductSEO:g,findAvailability:s,findOptionAvailability:i,findRequiredOptionsAreSelected:t,isSelectionAvailable:d}}]),angular.module("Volusion.toolboxCommon").constant("vnResourceTypes",{article:"article",billingaddresses:"billingaddresses",cart:"cart",category:"category",config:"config",countries:"countries",nav:"nav",orders:"orders",paymentprofiles:"paymentprofiles",product:"product",reviews:"reviews",themesettings:"themesettings",user:"user",shippingaddresses:"shippingaddresses",paypal:"paypal"}),angular.module("Volusion.toolboxCommon").constant("vnSortDefault","relevance"),angular.module("Volusion.toolboxCommon").service("vnUser",["$q","$state","vnApi",function(e,t,n){"use strict";function a(){return M}function i(){return M.anonymous}function s(){var t=e.defer();return!M.anonymous&&M.email?t.resolve():t.reject(),t.promise}function d(){var t=e.defer();return M.email?t.resolve():t.reject(),t.promise}function o(e){return n.ShippingAddresses().save({},e).$promise}function r(e){return n.BillingAddresses().save({},e).$promise}function c(e){return n.BillingAddresses()["delete"]({id:e.id}).$promise}function l(e){return n.ShippingAddresses()["delete"]({id:e.id}).$promise}function u(e){return n.PaymentProfiles()["delete"]({id:e.id}).$promise}function p(e){return n.PaymentProfiles().save({},e).$promise}function v(){var t=e.defer();return n.User().get().$promise.then(function(a){angular.extend(M,a.data),e.all([n.ShippingAddresses().get().$promise,n.BillingAddresses().get().$promise,n.PaymentProfiles().get().$promise]).then(function(e){M.shippingAddresses=e[0].data,M.billingAddresses=e[1].data,M.paymentProfiles=e[2].data,t.resolve(M)})["catch"](function(e){t.reject(e)})}),t}function h(){var t=e.defer();return g(1,3).then(function(e){t.resolve(e.data)},function(e){t.reject(e)}),t.promise}function g(t,a){var i=e.defer();return n.CustomerOrders().get({page:t,pageSize:a}).$promise.then(function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise}function m(){var t=e.defer();return n.PaymentProfiles().get().$promise.then(function(e){M.paymentProfiles=e.data,t.resolve(e.data)},function(e){t.reject(e)}),t.promise}function f(){var t=e.defer();return n.ShippingAddresses().get().$promise.then(function(e){M.shippingAddresses=e.data,t.resolve(e.data)},function(e){t.reject(e)}),t.promise}function y(){var t=e.defer();return n.BillingAddresses().get().$promise.then(function(e){M.billingAddresses=e.data,t.resolve(e.data)},function(e){t.reject(e)}),t.promise}function _(){var t=e.defer();return n.User().get().$promise.then(function(e){angular.extend(M,e.data),""===M.isAnonymous&&(M.anonymous=!1),t.resolve(M)},function(e){t.reject(e)}),t.promise}function b(e){return M.email=e.email,M.password=e.password,M.firstName=e.firstName,M.lastName=e.lastName,M.emailOptIn=e.emailOptIn,M.anonymous=e.anonymous,M.autoLogin=e.autoLogin,n.User().save({},M).$promise}function w(e){M.id=e}function C(e){M.email=e}function k(e){M.password=e}function A(e){M.firstName=e}function x(e){M.lastName=e}function P(e){M.emailOptIn=e}function S(e){M.anonymous=e}function E(){M={}}function T(e){return n.BillingAddresses().update({id:e.id},e).$promise}function $(e){return n.ShippingAddresses().update({id:e.id},e).$promise}function V(e){return n.PaymentProfiles().update({id:e.id},e).$promise}function I(e){var t=n.User().update({id:e.id},e).$promise;return t.then(function(e){angular.copy(e.data,M),M.serviceErrors=[],M.warnings=e.warnings||e.data.warnings||[]})["catch"](function(e){M.serviceErrors=[],M.warnings=[],e&&(e.serviceErrors&&(M.serviceErrors=e.serviceErrors),e.warnings&&(M.warnings=e.warnings),e.data&&(e.data.data&&angular.copy(e.data.data,M),e.data.serviceErrors&&(M.serviceErrors=e.data.serviceErrors),e.data.warnings&&(M.warnings=e.data.warnings)))}),t}var M={email:"",password:"",firstName:"",lastName:"",emailOptIn:!1,anonymous:!0,customFields:{},autoLogin:!0};return{createFrom:b,getUser:a,getBillingAddresses:y,setBillingAddress:r,deleteBillingAddress:c,deleteShippingAddress:l,deletePaymentProfile:u,getLastThreeOrders:h,getPagedOrders:g,getPaymentProfiles:m,getShippingAddresses:f,setShippingAddress:o,getCurrent:v,getCurrentUser:_,isAnonymous:i,isLoggedIn:s,isLoggedInOrAnon:d,reset:E,setId:w,setEmail:C,setPassword:k,setFirstName:A,setLastName:x,setEmailOptIn:P,setAnonymous:S,setPaymentProfile:p,updateBillingAddress:T,updateShippingAddress:$,updatePaymentProfile:V,updateUser:I}}]),angular.module("Volusion.toolboxCommon").factory("vnUtils",function(){"use strict";var e={};return e.checkDisallowedCharacters=function(e){return unescape(e).match(/[^\w\s!#().?\[\]'"~`\-]+/g)},e.checkDisallowedCharactersForPostalCode=function(e){return unescape(e).match(/[^\w\s\-]+/g)},e}),angular.module("Volusion.toolboxCommon").controller("SignupCtrl",function(){"use strict"}),angular.module("Volusion.toolboxCommon").directive("vnSignup",["$rootScope","$state","vnApi","VN_AUTH_EVENTS","vnNotifications","vnAuthService","vnUser",function(e,t,n,a,i,s,d){"use strict";return{restrict:"AE",templateUrl:"signup/vn-signup.html",scope:{allowAnonymous:"@",buttonText:"@",redirectTo:"@",title:"@"},link:function(o){o.disabledButton=!0,o.user={anonymous:!1},o.clearError=function(){o.signupError=!1},o.validateChange=function(){return o.frmSignup.$pristine?(o.disabledButton=!0,void(o.passwordDoesNotMatch=!1)):o.user.confirmPassword!==o.user.password?(o.frmSignup.inputConfirmPassword.$setValidity("vnValueMatch",!1),void(o.disabledButton=!0)):(o.frmSignup.inputConfirmPassword.$setValidity("vnValueMatch",!0),void(o.disabledButton=o.frmSignup.$valid?!1:!0))},o.signup=function(){e.$emit("app.loading.start"),n.User().save(o.user).$promise.then(function(n){o.user.id=n.data.id,e.$on(a.loginSuccess,function(){d.getCurrentUser().then(function(){e.$emit("app.loading.stop"),o.redirectTo&&t.go(o.redirectTo),e.$emit("afterLoginSuccess")})["catch"](function(t){e.$emit("app.loading.stop"),i.displayErrors(t),o.disabledButton=!0,o.loginError=t.message})}),e.$on(a.loginFailed,function(t,n){e.$emit("app.loading.stop"),o.loginError="Login Failed",o.disabledButton=!1,(n.Errors||n.data&&n.data.Errors)&&i.displayErrors(n.Errors||n.data.Errors)});var r={CustomerNewOld:"old",Email:o.user.email,Password:o.user.password};s.login(r)},function(){e.$emit("app.loading.stop"),o.signupError="This has failed"})}}}}]),angular.module("Volusion.toolboxCommon").service("themeSettings",["$q","vnApi",function(e,t){function n(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function a(){n(d)&&t.ThemeSettings().get().$promise.then(function(e){d=e})}function i(){return d.itemsPerPage||8}function s(){var a=e.defer();return n(d)?t.ThemeSettings().get().$promise.then(function(e){a.resolve(e),d=e}):a.resolve(d),a.promise}var d={};return{init:a,getThemeSettings:s,getPageSize:i}}]),angular.module("Volusion.toolboxCommon").factory("storage",["$window","$cookieStore",function(e,t){function n(){return{get:function(t){var n=e.localStorage.getItem(t);return null===n?a(t):n},set:function(t,n){return e.localStorage.setItem(t,n)},remove:function(t){return e.localStorage.removeItem(t)}}}function a(e){var n=t.get(e);return"undefined"==typeof n?null:n}function i(){return{get:function(e){return a(e)},set:function(e,n){return t.put(e,n)},remove:function(e){return t.remove(e)}}}return"localStorage"in e&&null!==e.localStorage?n():i()}]);var storageKey="VN_TRANSLATE";Translate.prototype.getConfig=function(){var e=this.storage,t=JSON.parse(e.get(storageKey))||{},n=e.get("NG_TRANSLATE_LANG_KEY");return!this.disableTranslations&&n&&"undefined"!==n&&(t.lang=n),t},Translate.prototype.configure=function(e){e=angular.extend(this.getConfig(),e),this.storage.set(storageKey,JSON.stringify(e)),this.$translate.use(e.lang)},Translate.prototype.addParts=function(){if(this.disableTranslations)return!0;var e=this.$translatePartialLoader;return angular.forEach(arguments,function(t){e.addPart(t)}),this.$translate.refresh()},TranslateProvider.prototype.$get=["$translate","$translatePartialLoader","storage",function(e,t,n){var a=this.options;return new Translate(e,t,n,{region:a.region,lang:a.lang,country:a.country},a.disableTranslations)}],TranslateProvider.prototype.configure=function(e){e=angular.extend({region:"us",lang:"en",country:"us"},e),e.lang&&this.setPreferredLanguage(e.lang),this.options=e,e.disableTranslations||this.initTranslateProvider(e.lang)},TranslateProvider.prototype.initTranslateProvider=function(e){var t=this.$translateProvider;t.useLoader("$translatePartialLoader",{urlTemplate:"/translations/{part}/{lang}.json"}),"en"===e&&t.useMessageFormatInterpolation(),t.useLocalStorage()},angular.module("Volusion.toolboxCommon").provider("translate",["$translateProvider",TranslateProvider]),angular.module("Volusion.toolboxCommon").filter("vnCreditCard",function(){"use strict";return function(e,t){if(void 0===e||""===e)return e;var n=[];if(t=t.toUpperCase(),(-1!==e.indexOf("*")&&"AMEX"!==t&&"AMERICAN EXPRESS"!==t&&19===e.length||("AMEX"===t||"AMERICAN EXPRESS"===t)&&18===e.length)&&(e=e.replace(/[\s]+/g,"")),"AMEX"===t||"AMERICAN EXPRESS"===t||/^(34)|^(37)/.test(e)){n=e.slice(0,15).match(/(.{0,4})(.{0,6})(.{0,5})$/),n.splice(0,1);for(var a=0;a<n.length;a++)""===n[a]&&(n.splice(a,1),a=0)}else n=e.slice(0,16).match(/.{1,4}/g);return null!==n?n.join(" "):e}}),angular.module("Volusion.toolboxCommon").filter("vnFormattedCurrency",["$filter","$locale",function(e,t){"use strict";return function(n,a){if(void 0===n||null===n)return"";var i=e("currency")(n,a),s=i.split(t.NUMBER_FORMATS.DECIMAL_SEP);return s[1].indexOf("00")>-1?s[0]+s[1].substring(2):s[0]+'<span class="th-price--cents">'+s[1]+"</span>"}}]),angular.module("Volusion.toolboxCommon").filter("html",["$sce",function(e){"use strict";return function(t){return e.trustAsHtml(t)}}]),angular.module("Volusion.toolboxCommon").filter("reverse",function(){"use strict";return function(e){return void 0===e?null:e.slice().reverse()}}),angular.module("Volusion.toolboxCommon").filter("seoFriendly",function(){"use strict";return function(e){var t=e.match(/[0-9a-z]+/gi);return t?t.join("-"):""}}),angular.module("Volusion.toolboxCommon").filter("vnUsPhone",function(){"use strict";return function(e){if(void 0===e||""===e)return e;e=e.replace(/[^\d]+/g,"");var t,n="";return t=e.slice(0,14).match(/(.{0,3})(.{0,3})(.{0,4})(.{0,4})$/),t.splice(0,1),3!==t[0].length?e:(n="("+t[0]+")",t[1].length>0&&(n+=" "+t[1]),t[2].length>0&&(n+="-"+t[2]),t[3].length>0&&(n+=" ext."+t[3]),n)}}),validator("vnEmailValidate",function(e,t,n,a){a.$validators.emailEmpty=function(e){return e&&e.length>0},a.$validators.validEmail=function(e){return e&&/^[\w\.\-]+@[a-zA-Z\d_.-]+?\.[a-zA-Z]{2,3}$/.test(e)},a.$validators.validLength=function(e){return e&&e.length<75}}),validator("vnPasswordValidate",function(e,t,n,a){a.$validators.pwdValidLength=function(e){return e&&e.length>=6&&e&&e.length<20}}),validator("vnValueMatch",function(e,t,n,a){a.$validators.sameValue=function(e){return e===n.vnValueMatch}}),validator("vnInvalidChar",function(e,t,n,a,i){a.$validators.invalidChar=function(e){return e&&null===i.checkDisallowedCharacters(e)}}),validator("vnSpecialCharsValidate",function(e,t,n,a,i){var s=n.vnSpecialCharsValidate||a.$name,d=s+"AllowedChars",o=s+"DisallowedChars";a.$validators[d]=function(e){return i.checkDisallowedCharacters(e)},a.$validators[o]=function(e){return e&&null===i.checkDisallowedCharacters(e)}}),validator("vnZipValidate",function(e,t,n,a){a.$validators.zipHasValidFormat=function(e){return e&&/^\d{5}(-\d{4})?$/.test(e)}}),validator("vnPostalCodeValidate",function(e,t,n,a,i){a.$validators.postalCodeAllowedChars=function(e){return e&&null===i.checkDisallowedCharactersForPostalCode(e)}}),validator("vnUsPhoneValidate",function(e,t,n,a){a.$validators.usPhoneHasValidFormat=function(e){return!e||/\d{10,14}$/.test(e)}}),validator("vnCvvValidate",function(e,t,n,a){a.$validators.cvvValidFormat=function(n){var a="",i=t.attr("data-vn-cc-type").toUpperCase();if("AMEX"!==i&&"AMERICAN EXPRESS"!==i&&"***"===n||("AMEX"===i||"AMERICAN EXPRESS"===i)&&"****"===n)return!0;var s=/^\d{3}?$/;return n&&(a=n.replace(/[^\d]+/g,"")),e.cvvLength=3,("AMEX"===i||"AMERICAN EXPRESS"===i)&&(s=/^\d{4}?$/,e.cvvLength=4),t.attr("maxlength",e.cvvLength),a&&s.test(a)}}),validator("vnCcValidate",function(e,t,n,a){function i(e){var t=[[0,2,4,6,8,1,3,5,7,9],[0,1,2,3,4,5,6,7,8,9]],n=0;return e.replace(/[\d]/g,function(e,a,i){n+=t[i.length-a&1][parseInt(e,10)]}),n%10===0&&n>0&&e.length>=15?!0:!1}a.$validators.creditCardValid=function(e){var n="",a=t.attr("data-vn-cc-type").toUpperCase();if(-1!==e.indexOf("*")&&"AMEX"!==a&&"AMERICAN EXPRESS"!==a&&19===e.length||("AMEX"===a||"AMERICAN EXPRESS"===a)&&18===e.length)return n=e,!0;var s=16,d=3;return("AMEX"===a||"AMERICAN EXPRESS"===a)&&(s=15,d=2),t.attr("maxlength",s+d),e&&(n=e.replace(/[^\d]+/g,"").slice(0,s)),i(n)}}),angular.module("Volusion.toolboxCommon").directive("vnVideo",["$sce",function(e){"use strict";return{restrict:"AE",templateUrl:"video/vn-video.html",scope:{src:"@",height:"@",width:"@"},link:function(t){t.trustedUrl=e.trustAsResourceUrl("http://www.youtube.com/embed/"+t.src+"?autoplay=0"),t.height=t.height||390,t.width=t.width||640}}}]),angular.module("Volusion.toolboxCommon").factory("vnViewPortWatch",["$rootScope","$window",function(e,t){"use strict";return{setBreakpoints:function(n){"undefined"!=typeof t.enquire&&angular.forEach(n,function(n){n.mediaQuery&&t.enquire.register(n.mediaQuery,{match:function(){n.onMatch&&"function"==typeof n.onMatch&&n.onMatch(),e.$emit("vnViewPortWatch:Match",n)},unmatch:function(){n.onUnmatch&&"function"==typeof n.onUnmatch&&n.onUnmatch(),e.$emit("vnViewPortWatch:Unmatch",n)}})})}}}]),angular.module("Volusion.toolboxCommon.templates",[]).run(["$templateCache",function(e){e.put("vn-faceted-search/vn-category-search.html",'<div class=vn-category-search__category-items data-ng-repeat="cat in categories" data-ng-class="{ \'-last\': $last }">\n\n	<a href data-ng-if="cat.displayStrategy == \'categoryDisplayTwo\' || cat.displayStrategy == \'categoryDisplayThree\' " data-ng-click=buildAppUrl(cat) class=vn-category-search__category-items__category-title data-ng-class="{ \'-noborder\': $last && cat.displayStrategy == \'categoryDisplayOne\' }">\n\n		<span data-ng-if="cat.displayStrategy == \'categoryDisplayTwo\' " class="glyphicon glyphicon-chevron-left"></span>\n		{{ cat.name }}\n	</a>\n	<span class=vn-category-search__category-items__category-title data-ng-if="cat.displayStrategy == \'categoryDisplayOne\' ">{{ cat.name }}</span>\n	<div class=vn-category-search__category-items__category-item data-ng-repeat="subCat in cat.subCategories" data-ng-class="{ \'-noborder\': $last }">\n\n		<span data-ng-if=subCat.hideSubCatLink>{{ subCat.name }}</span>\n		<a href data-ng-if=!subCat.hideSubCatLink data-ng-click=buildAppUrl(subCat)>{{ subCat.name }}</a>\n	</div>\n</div>'),e.put("vn-faceted-search/vn-facet-search.html",'<div data-accordion-group class=facet-item data-ng-repeat="facet in facets track by $index" data-is-open=defaultAccordianOpen>\n	<div data-accordion-heading>\n		<div>\n			<span>{{ facet.title }}</span>\n			<i class="pull-right glyphicon" data-ng-class="{\'glyphicon-chevron-down\': defaultAccordianOpen, \'glyphicon-chevron-right\': !defaultAccordianOpen}"></i>\n		</div>\n	</div>\n    <div data-ng-if="facet.displayType != \'swatches\'" class=facet-properties>\n        <label class=facet-property data-ng-repeat="property in facet.properties track by $index" data-ng-class="{ \'-last\': $last }">\n\n            <input type=checkbox name=property.name data-ng-checked=selectProperty(property) data-ng-click="refineFacetSearch(property)">\n            <span class=name>{{ property.name }}</span>\n            <span class=count>{{ property.count }}</span>\n        </label>\n    </div>\n    <div data-ng-if="facet.displayType == \'swatches\'" class="facet-properties clearfix">\n        <div data-ng-repeat="property in facet.properties" class=facet-property__swatch data-ng-click=refineFacetSearch(property) data-ng-class="{\'facet-property__swatch--selected\': selectProperty(property)}">\n			<div class=facet-property__swatch--color data-ng-style="{\'backgroundColor\': property.color }">\n			</div>\n        </div>\n    </div>\n</div>'),e.put("vn-faceted-search/vn-faceted-search.html",'<div class=vn-faceted-search-header data-ng-show=showApplyButton>\n	<button class="btn btn-success __cancel-action" href data-ng-click=dismissMobileFilters()>Apply\n	</button>\n	\n	<button class="btn __clear-action" href data-ng-click=clearAllFilters()>Clear\n	</button>\n	\n</div>\n<div class=-faceted-search data-ng-show=showFacetSearch>\n	<div class=facets>\n		<div data-accordion data-close-others=false>\n\n			\n			<div data-accordion-group class=facet-item__by-category data-is-open=categoryAccordiansOpen data-ng-show="categoryList.length > 0">\n				<div data-accordion-heading>\n					<div>\n						<span>Category</span>\n						<i class="pull-right glyphicon" data-ng-class="{\'glyphicon-chevron-down\': categoryAccordiansOpen, \'glyphicon-chevron-right\': !categoryAccordiansOpen}"></i>\n					</div>\n				</div>\n				<div vn-category-search categories=categoryList query-products=queryProducts() data-ng-show=showCategorySearch class=category-search>\n				</div>\n			</div>\n\n			\n			<div vn-facet-search facets=facets query-products=queryProducts() data-ng-show="facets.length > 0"></div>\n\n			\n			<div data-accordion-group class=facet-item__by-price data-is-open=priceAccordiansOpen data-ng-show="facets.length > 0">\n				<div data-accordion-heading>\n					<div>\n						<span>Price</span>\n						<i class="pull-right glyphicon" data-ng-class="{\'glyphicon-chevron-down\': priceAccordiansOpen, \'glyphicon-chevron-right\': !priceAccordiansOpen}"></i>\n					</div>\n				</div>\n				<div class=facet-item__by-price__inputs vn-price-search query-products=queryProducts()></div>\n			</div>\n		</div>\n\n		\n		<div class=vn-faceted-search-footer data-ng-show=!showApplyButton>\n			<button class="btn __clear-action" href data-ng-click=clearAllFilters()>Reset Filters\n			</button>\n			\n		</div>\n\n	</div>\n</div>'),e.put("vn-faceted-search/vn-price-search.html",'<input data-ng-model=minPrice data-ng-keypress=searchByPrice($event) placeholder="$">\n&thinsp;to&thinsp;\n<input data-ng-model=maxPrice data-ng-keypress=searchByPrice($event) placeholder="$$">\n<button class="btn btn-default facet-item__by-price__button" type=button ng-click=searchByPrice($event)>Go\n</button>'),e.put("vn-faceted-search/vn-sort-search.html",'<div class=dropdown>\n	<button class="btn btn-default dropdown-toggle" type=button id=dropdownMenu1 data-toggle=dropdown>\n		Sort by\n		<span class=caret></span>\n	</button>\n	<ul class=dropdown-menu role=menu aria-labelledby=dropdownMenu1>\n		<li role=presentation>\n			<a role=menuitem tabindex=-1 href="" data-ng-click="sortBy(\'relevance\')">Relevance</a>\n		</li>\n		<li role=presentation>\n			<a role=menuitem tabindex=-1 href="" data-ng-click="sortBy(\'highest price\')">Highest price</a>\n		</li>\n		<li role=presentation>\n			<a role=menuitem tabindex=-1 href="" data-ng-click="sortBy(\'lowest price\')">Lowest price</a>\n		</li>\n		<li role=presentation>\n			<a role=menuitem tabindex=-1 href="" data-ng-click="sortBy(\'relevance\')">Popularity</a>\n		</li>\n		<li role=presentation>\n			<a role=menuitem tabindex=-1 href="" data-ng-click="sortBy(\'newest\')">Newest</a>\n		</li>\n		<li role=presentation>\n			<a role=menuitem tabindex=-1 href="" data-ng-click="sortBy(\'oldest\')">Oldest</a>\n		</li>\n	</ul>\n</div>'),e.put("vn-place-order-btn/vn-place-order-btn.html",'<div class=th-checkout__place-order-fixed data-ng-class="{ \'th-checkout__place-order-fixed--active\': placeOrderFixed}" data-ng-if=checkout.steps[2].active>\n	<button class="btn btn-primary btn-block btn-lg th-checkout__place-order-fixed__btn" data-ng-click=placeOrder()>\n		Place Order\n	</button>\n</div>'),e.put("vn-product-option/checkboxes.html",'<label data-vn-block=vn-labeled-checkbox data-vn-modifiers={{option.class}} data-ng-repeat="item in option.items" data-ng-init=item>\n\n	<div data-vn-element=checkbox>\n		<input type=checkbox data-ng-click="onCheckboxClicked(option, item)">\n	</div>\n\n	<div data-vn-element=content data-ng-include=" \'vn-product-option/content.html\' "></div>\n</label>'),e.put("vn-product-option/content.html",'<div data-vn-element=color-image>\n	<div data-vn-element=color data-ng-show=item.color style="background-color: {{item.color}}"></div>\n	<img data-vn-element=image data-ng-show=item.swatchImage data-ng-src={{item.swatchImage}} alt={{item.text}}>\n</div>\n<div data-vn-element=text data-ng-bind=item.text data-ng-controller=OptionsCtrl data-ng-class="{ \'-disabled\': !isItemAvailable }"></div>\n<div data-vn-element=border data-ng-class="{ checked: option.selected === item.key }"></div>'),e.put("vn-product-option/index.html",'<div data-vn-block=vn-product-option>\n\n	<label data-vn-element=label data-ng-if=option.label data-ng-bind=option.label></label>\n\n	<div data-ng-repeat="inputType in option.inputTypes">\n		<div data-vn-element=group data-vn-modifiers="{{inputType.type}} {{option.class}}" data-ng-include=" \'vn-product-option/\' + inputType.type + \'.html\' ">\n		</div>\n	</div>\n\n	<div data-ng-if=option.selected>\n		<div data-ng-repeat="option in option.options" data-ng-include=" \'vn-product-option/index.html\' ">\n		</div>\n	</div>\n\n</div>'),e.put("vn-product-option/radios.html",'<label data-vn-block=vn-labeled-radio data-vn-modifiers={{option.class}} data-ng-repeat="item in option.items" data-ng-init=item data-ng-controller=OptionsCtrl data-ng-class="{ \'-disabled\': !isItemAvailable }">\n\n	<div data-vn-element=radio>\n\n		<input type=radio name={{option.id}} data-ng-value=item.key data-ng-model=option.selected data-ng-click="onOptionChanged(option, item)">\n	</div>\n\n	<div data-vn-element=content data-ng-include=" \'vn-product-option/content.html\' "></div>\n\n</label>'),e.put("vn-product-option/select.html",'<div class=dropdown data-vn-element=select data-vn-modifiers="{{ option.class }}" data-ng-attr-size="{{ inputType.size }}">\n\n	<button class="btn btn-default dropdown-toggle" type=button id="dropdownMenuOption{{ option.id }}" data-toggle=dropdown>\n		{{ currentSelectionText }}\n		<span class=caret></span>\n	</button>\n	<ul class=dropdown-menu role=menu aria-labelledby="dropdownMenuOption{{ option.id }}">\n		<li role=presentation data-ng-repeat="item in option.items">\n			<a role=menuitem tabindex=-1 href data-ng-click="onOptionChanged(option, item)" data-ng-controller=OptionsCtrl data-ng-class="{ \'-disabled\': !isItemAvailable }">\n				{{ item.text }}\n			</a>\n		</li>\n	</ul>\n</div>'),
e.put("vn-product-option/text.html",'<div data-ng-if="inputType.rows > 1">\n	<textarea data-vn-element=text data-vn-modifiers={{option.class}} data-ng-focus="saveTo=saveTo||{}" data-ng-model=saveTo[option.id] data-ng-maxlength={{inputType.maxlength}} placeholder={{inputType.placeholder}} rows={{inputType.rows}} cols={{inputType.cols}}></textarea>\n</div>\n\n<div data-ng-if="!inputType.rows || inputType.rows < 2">\n	<input data-vn-element=text data-vn-modifiers={{option.class}} data-ng-focus="saveTo=saveTo||{}" data-ng-model=saveTo[option.id] data-ng-maxlength={{inputType.maxlength}} placeholder={{inputType.placeholder}}>\n</div>'),e.put("vn-product/vn-product-image.html",'<img data-ng-src="{{ getImagePath(product.imageCollections) }}" class=img-responsive alt="{{ product.name }}">'),e.put("app-messages/vnAppMessage.tpl.html",'<alert class="vn-app-message container-fluid vn-app-message--{{messagePosition}}" ng-repeat="alert in appMessagesCtrl.alerts track by alert.id" type="{{ alert.type }}">\n	<div class=row>\n		<div class=col-xs-8>\n			<span class=vn-app-message__text>{{alert.text}}</span>\n		</div>\n		<div class="col-xs-4 align-right">\n			<button class="btn vn-app-message__button th-alert__button" data-ng-click=appMessagesCtrl.closeAlert(alert.id)>Ok</button>\n		</div>\n	</div>\n</alert>'),e.put("busy-animation/vnBusyAnimation.tpl.html",'<ng-transclude></ng-transclude>\n<div class="{{ class }}" title=1 data-ng-if=show>\n	<svg version=1.1 id=loader-1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink x=0px y=0px ng-attr-width="{{ size }}" ng-attr-height="{{ size }}" viewbox="0 0 50 50" style="enable-background:new 0 0 50 50" xml:space=preserve>\n\n		<path fill=#000 d=M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z>\n			<animatetransform attributetype=xml attributename=transform type=rotate from="0 25 25" to="360 25 25" dur=.6s repeatcount="indefinite">\n		</path>\n	</svg>\n</div>'),e.put("cart/cart.tpl.html",'<div class=th-cart data-ng-class="{\'th-cart--open\' : isCartOpen, \'th-cart--closed\' : !isCartOpen}">\n	<div ng-switch=state>\n		<a data-ng-click=closeCart() class=th-cart__overlay></a>\n		<div ng-switch-when=login class=th-cart__login>\n\n			<div class=th-cart__panel>\n\n				<div class=vn-spinner data-ng-if="loading && state == \'login\'" vn-busy-animation vn-busy-animation-show="{{ loading }}" vn-busy-animation-size=80px vn-busy-animation-class=vn-spinner__inner></div>\n\n				\n				<div class=th-cart__brand data-ng-if="device.info.shortname == \'phone\'">\n					<button type=button class="navbar-toggle th-cart__brand--search" data-ng-init="navCollapsed = true" data-ng-click=openMobileMenu()>\n						<span class=sr-only data-translate=header.toggleNavigation>Toggle Navigation</span>\n						<span class=icon-bar></span>\n						<span class=icon-bar></span>\n						<span class=icon-bar></span>\n					</button>\n\n					<img class=th-cart__brand--image data-ng-src="{{ config.general.logoUrl }}" class="img-responsive">\n\n					<br style="clear: both">\n				</div>\n				\n				\n				<div class=th-cart__header>\n					<a data-ng-click=closeCart() class=th-cart__header-back tabindex=-1><i class="fa fa-times"></i></a>\n					<span class=th-cart__header-title>Login</span>\n				</div>\n				\n				<div class=th-cart__body data-vn-scroll-top>\n\n					<div data-vn-app-message="" data-message-position=static></div>\n\n					<div data-vn-login-email data-allow-anonymous=false data-redirect-to=checkout.ship-method data-button-text="Sign In" data-title="Welcome Back!">\n					</div>\n\n					<div class=container-fluid>\n						<a data-ng-click=closeLogin() class="btn btn-default btn-block btn-lg th-cart__login__btn-back">\n							<i class="fa fa-chevron-left"></i> <span>Back to cart</span>\n						</a>\n					</div>\n\n				</div>\n			</div>\n		</div>\n		<div ng-switch-when=cart>\n\n			<div class=th-cart__panel>\n\n				\n				<div class=th-cart__brand data-ng-if="device.info.shortname == \'phone\'">\n					<button type=button class="navbar-toggle th-cart__brand--search" data-ng-init="navCollapsed = true" data-ng-click=openMobileMenu()>\n						<span class=sr-only data-translate=header.toggleNavigation>Toggle Navigation</span>\n						<span class=icon-bar></span>\n						<span class=icon-bar></span>\n						<span class=icon-bar></span>\n					</button>\n\n					<img class=th-cart__brand--image data-ng-src="{{ config.general.logoUrl }}" class="img-responsive">\n					<br style="clear: both">\n				</div>\n				\n\n				<div class=vn-spinner data-ng-if="loading && state == \'cart\'" vn-busy-animation vn-busy-animation-show="{{ loading }}" vn-busy-animation-size=80px vn-busy-animation-class=vn-spinner__inner></div>\n\n				\n				<div class=th-cart__header>\n					<a data-ng-click=closeCart() class=th-cart__header-back tabindex=-1><i class="fa fa-times"></i></a>\n					<span class=th-cart__header-title data-translate=cart.lblYourCart>Your Cart</span>\n				</div>\n				\n\n				\n				<div class=th-cart__body data-vn-scroll-top>\n\n					\n\n					<div data-vn-app-message="" data-message-position=static></div>\n\n					<div class=th-cart__noitems--label data-translate=cart.lblYourCartIsEmpty data-ng-if=cartEmpty>\n\n						Your cart is empty\n					</div>\n\n					<div class=th-cart__items data-ng-if=!cartEmpty>\n\n						\n\n						<div class=th-cart__items__item data-ng-repeat="item in cart.items | reverse">\n							<div class=th-cart__items__item--close>\n								<button data-ng-click=deleteItem(item.id)><span></span></button>\n							</div>\n							<div>\n								<a data-ng-href="{{ item.productUrl }}"><img class=th-cart__items__item--image data-ng-src="{{ item.imgUrl }}"></a>\n\n								<div>\n									<div class=th-cart__items__item--name>\n										<a data-ng-href="{{ item.productUrl }}">{{ item.name }}</a>\n									</div>\n									<div class=th-cart__items__item--price>{{ item.pricing.unitPrice | currency }}\n									</div>\n									<div class=th-cart__items__item--option data-ng-repeat="option in item.options">\n										<span>{{ option.optionText }}</span>\n									</div>\n								</div>\n\n								<br style="clear: both">\n							</div>\n\n							<div class=inline-block-wrap>\n								<div class=th-cart__items__item--qty>\n									<div data-vn-block=th-qty-counter class=input-group>\n								<span class=input-group-btn>\n									<button data-vn-element=btn class="btn btn-default" data-ng-click="changeQty(item, item.qty - 1, 500)" data-ng-disabled="item.qty <= 1 || item.qty === \'\'">\n										<span class="glyphicon glyphicon-minus"></span>\n									</button>\n								</span>\n										<input data-vn-element=input class=form-control data-ng-model=item.qty data-ng-blur="changeQty(item, item.qty)" data-vn-format-quantity>\n								<span class=input-group-btn>\n									<button data-vn-element=btn class="btn btn-default" data-ng-disabled="item.qty === 9999999 || item.qty === \'\'" data-ng-click="changeQty(item, item.qty + 1, 500)">\n										<span class="glyphicon glyphicon-plus"></span>\n									</button>\n								</span>\n									</div>\n								</div>\n								<div class=th-cart__items__item--subtotal>{{ item.pricing.subtotal | vnCurrency }}\n								</div>\n							</div>\n\n							<br style="clear: both">\n\n							<div class="th-cart__items__item__gift animate-if" data-ng-if="cart.misc.isGift && item.isGiftWrapAvailable">\n								<div class=th-cart__items__item__gift__option data-ng-class="{\'-visual-cue\' : visualCue}">\n									<input id=item-is-gift type=checkbox data-ng-model=item.giftWrap.selected data-ng-change=addGiftWrap()>\n									<label for=item-is-gift><span data-translate=cart.lblGiftOption>Add gift wrap for</span>&nbsp;{{\n										item.giftWrap.price | currency }}</label>\n								</div>\n\n						<textarea class="th-cart__items__item__gift__message animate-if" maxlength=255 data-vn-auto-grow data-ng-trim=false data-ng-if=item.giftWrap.selected data-ng-model=item.giftWrap.message data-ng-blur=addGiftMsg() placeholder="{{ \'cart.lblGiftNoteOnItem\' | translate }}"></textarea>\n\n								<div class="th-cart__items__item__gift__message-count animate-if" data-ng-if=item.giftWrap.selected>\n									<span>{{item.giftWrap.message.length}} / 255</span>\n								</div>\n							</div>\n						</div>\n					</div>\n				</div>\n				\n\n				\n				<div class=th-cart__footer>\n\n					<div class=th-cart__promo-wrap data-ng-if=!cartEmpty>\n						<div class=th-cart__promo-add>\n							<input class="form-control th-cart__promo-add__input" maxlength=25 data-ng-model=coupon.code data-ng-focus=toggleApplyBtn(true) data-ng-blur=toggleApplyBtn(false) data-ng-keypress=promoInputKeypress($event) placeholder="{{ \'cart.lblAddCoupon\' | translate }}">\n							<button class="btn btn-primary th-cart__promo-add__apply" data-translate=cart.btnApply data-ng-click=applyCoupon() data-ng-class="{\'th-cart__promo-add__apply--active\': coupon.showApply == true}">\n								Apply\n							</button>\n						</div>\n\n						<div class=th-cart__promo-summary data-ng-if=!couponsEmpty data-ng-click=togglePromoList() data-ng-class="{\'th-cart__promo-summary--active\': showPromoList == true}">\n							<span class=th-cart__promo-summary__arrow><span class="glyphicon glyphicon-chevron-down" aria-hidden=true></span></span>\n					<span class=th-cart__promo-summary__count>\n						<span class=th-cart__promo-summary__count-number>{{cart.discounts.length | number}}</span>&nbsp;\n						<span data-ng-if="cart.discounts.length === 1" data-translate=cart.lblPromoApplied>promo applied</span>\n						<span data-ng-if="cart.discounts.length > 1" data-translate=cart.lblPromosApplied>promos applied</span>\n					</span>\n							<span class=th-cart__promo-summary__total>{{ cart.totals.discounts | vnCurrency }}</span>\n\n						</div>\n\n						<div class=th-cart__promo-list data-ng-class="{\'th-cart__promo-list--active\': showPromoList == true}" data-ng-if=!couponsEmpty>\n\n							<div class="th-cart__promo inline-block-wrap" data-ng-repeat="coupon in cart.discounts | reverse:orderBy:\'couponCode\'" data-ng-class="{\'-last\': $last}">\n\n								<div class=th-cart__promo--left>\n									<div class=th-cart__promo__close data-ng-if="coupon.couponCode !== \'\'">\n										<button data-ng-click="deleteCoupon(\'{{coupon.id}}\')"><span></span></button>\n									</div>\n\n									<div class=th-cart__promo__name>\n										<span>{{ coupon.name }}</span>\n									</div>\n								</div>\n\n								<div class=th-cart__promo--right>\n									<div class=th-cart__promo__value>\n										<span>{{ coupon.value | vnCurrency }}</span>\n									</div>\n								</div>\n							</div>\n\n							<br style="clear: both">\n						</div>\n\n					</div>\n\n					<div class=th-cart__subtotal data-ng-if=!cartEmpty>\n						<div class=th-cart__subtotal--label data-translate=cart.lblSubtotal>Subtotal</div>\n						<div class=th-cart__subtotal--price>{{ calcSubtotal | currency }}</div>\n						<br style="clear: both">\n					</div>\n\n					<div class=th-cart__checkout>\n						<a data-ng-click=checkout() class="th-cart__checkout-button btn btn-primary" data-translate=cart.btnCheckout data-ng-disabled=cartEmpty>\n							Checkout</a>\n						<span data-ng-if=isPaypalExpressAvailable>\n							<div data-vn-paypal-button data-ng-show=!cartEmpty></div>\n						</span>\n					</div>\n				</div>\n				\n			</div>\n		</div>\n	</div>\n</div>'),e.put("checkout/address/address-display.tpl.html",'<div class=row data-ng-show="address.address1 !== \'\'" data-ng-click=onClick()>\n	<div class=col-xs-10>\n		<div class=th-address__display__addressPart>{{ address.firstName }}&nbsp;{{ address.lastName }}</div>\n		<div class=th-address__display__addressPart>{{ address.address1 }}</div>\n		<div data-ng-if="address.address2 != \'\'" class=th-address__display__addressPart>{{ address.address2 }}</div>\n		<div class=th-address__display__addressPart data-ng-show=isLocationUS>{{ address.city }},&nbsp;{{ address.state }}&nbsp;{{ address.postalCode }}</div>\n		<div class=th-address__display__addressPart data-ng-show=isLocationUS>{{ address.phoneNumber | vnUsPhone }}</div>\n\n		<div class=th-address__display__addressPart data-ng-show=!isLocationUS>{{ address.city }}</div>\n		<div class=th-address__display__addressPart data-ng-show=!isLocationUS>{{ address.state }}&nbsp;{{ address.postalCode }}</div>\n		<div class=th-address__display__addressPart data-ng-show=!isLocationUS>{{ address.country }}</div>\n		<div class=th-address__display__addressPart data-ng-show=!isLocationUS>{{ address.phoneNumber }}</div>\n\n		<div class=th-address__display__addressPart data-ng-if=shippingValue data-ng-show=address.residential>Type: Residential</div>\n		<div class=th-address__display__addressPart data-ng-if=shippingValue data-ng-show=!address.residential>Type: Business</div>\n	</div>\n	<div class=col-xs-2 ng-show=showEditButton>\n		<i class="fa fa-angle-right fa-2x pull-right"></i>\n	</div>\n</div>'),e.put("checkout/address/vn-address-display-actions.tpl.html",'<div class="container-fluid no-padding">\n	<div data-ng-if="shipping==\'true\'" data-vn-address-display data-address=address data-shipping=true></div>\n	<div data-ng-if="shipping!=\'true\'" data-vn-address-display data-address=address></div>\n	<div class="row th-address__display__actions">\n		<div class=col-xs-7>\n			<span data-ng-if=!address.preferred>\n				<button class="btn btn-default" data-ng-click=onMakePreferredClicked()>Make Preferred\n				</button>\n			</span>\n			<span class=th-address__display__actions__preferred data-ng-if=address.preferred>\n				<i class="fa fa-check"></i>&nbsp;Preferred</span>\n		</div>\n		<div class="col-xs-4 col-xs-offset-1 col-sm-3 col-sm-offset-2 col-md-2 col-md-offset-3">\n			<div class=row>\n				<div class=col-xs-6>\n					<a href data-ng-click=onEditClicked({address:address})><i class="fa fa-pencil"></i></a>\n				</div>\n				<div class=col-xs-6>\n					<a href data-ng-click=onDeleteClicked({address:address})><i class="fa fa-trash-o"></i></a>\n				</div>\n			</div>\n		</div>\n	</div>\n</div>'),e.put("checkout/address/vn-address-editor.html","<div class=th-address>\n\n	<form id=frmAddress name=frmAddress novalidate data-ng-submit=updateAddress(address)>\n\n		<div class=th-address__location>\n			<div class=btn-group>\n				<button type=button data-ng-click=setCountryToUS() class=btn data-ng-class=\"{ 'btn-primary' : isLocationUS, 'btn-default' : !isLocationUS }\">United States\n				</button>\n				<button type=button data-ng-click=setCountryToOther() class=btn data-ng-class=\"{ 'btn-primary': !isLocationUS, 'btn-default' : isLocationUS }\">International\n				</button>\n			</div>\n		</div>\n\n		<div class=th-address__form-wrapper>\n			<div class=row>\n				<div class=col-xs-6>\n					<div class=form-group>\n"+'						<input name=inputUSFirstName class="form-control input-lg immediate-help" id=first-name data-ng-change=validateChange() data-vn-placeholder="First Name" data-ng-model=address.firstName data-vn-invalid-char required>\n\n						<data-vn-popover-first-name>\n\n					</div>\n				</div>\n				<div class=col-xs-6>\n					<div class=form-group>\n						<input name=inputUSLastName class="form-control input-lg -right immediate-help" id=last-name data-ng-change=validateChange() data-vn-placeholder="Last Name" data-ng-model=address.lastName data-vn-invalid-char required>\n\n						<data-vn-popover-last-name>\n\n					</div>\n				</div>\n			</div>\n			<div class=row>\n				<div class=col-xs-12>\n					<div class=form-group>\n						<input name=inputUSAddress1Line class="form-control input-lg immediate-help" id=address-1 data-ng-change=validateChange() data-vn-placeholder="Address Line 1" data-ng-model=address.address1 required>\n\n						<data-vn-popover-address>\n\n					</div>\n				</div>\n			</div>\n			<div class=row>\n				<div class=col-xs-12>\n					<div class=form-group>\n						<input name=inputUSAddressLine2 class="form-control input-lg" id=address-2 data-ng-change=validateChange() data-vn-placeholder="Address Line 2" data-ng-model="address.address2">\n					</div>\n				</div>\n			</div>\n			<div class=row data-ng-show=isLocationUS data-ng-hide=check.useShippingAddress>\n				<div class=col-xs-5>\n					<div class=form-group>\n						<input name=inputUSCity class="form-control input-lg immediate-help" id=city data-ng-change=validateChange() data-vn-placeholder=City data-ng-model=address.city data-vn-invalid-char ng-required="isLocationUS">\n\n						<data-vn-popover-city>\n\n					</div>\n				</div>\n				<div class=col-xs-3>\n					<div class=form-group>\n						<div class="th-address__state th-dropdown">\n							<vn-dropdown name=inputUSState availableoptions=address.selectedCountry.states placeholder=State optionselect=onStateChanged model=address.selectedState selected-field=code>\n								<vn-dropdown>\n						</vn-dropdown></vn-dropdown></div>\n					</div>\n				</div>\n				<div class=col-xs-4>\n					<div class=form-group>\n						<input name=inputUSZip class="form-control input-lg immediate-help" id=zip data-ng-change=validateChange() data-vn-placeholder=Zip data-ng-model=address.postalCode data-vn-zip-validate ng-required="isLocationUS">\n						<data-vn-popover-zip data-ng-if="frmAddress.inputUSZip.$touched">\n\n					</div>\n				</div>\n			</div>\n			<div class=row data-ng-show=!isLocationUS>\n				<div class=col-xs-12>\n					<div class=form-group>\n						<input name=inputWorldwideCity data-ng-change=validateChange() class="form-control input-lg immediate-help" id=international-city data-vn-placeholder=City data-ng-model=address.city data-vn-invalid-char required>\n\n						<data-vn-popover-city></data-vn-popover-city>\n					</div>\n				</div>\n			</div>\n			<div class=row data-ng-show=!isLocationUS>\n				<div class=col-xs-6>\n					<div class=form-group>\n						<input name=inputWorldwideRegion class="form-control input-lg immediate-help" id=region data-ng-change=validateChange() data-vn-placeholder=Region data-ng-model=address.state data-vn-invalid-char ng-required="!isLocationUS">\n						<data-vn-popover-region></data-vn-popover-region>\n					</div>\n				</div>\n				<div class=col-xs-6>\n					<div class=form-group>\n						<input name=inputWorldwidePostalCode class="form-control input-lg immediate-help" id=postal-code maxlength=15 data-vn-placeholder="Postal code" data-ng-model=address.postalCode data-vn-postal-code-validate ng-required="!isLocationUS">\n						<data-vn-popover-postal-code>\n					</data-vn-popover-postal-code></div>\n				</div>\n			</div>\n			<div class=row data-ng-show="!isLocationUS ">\n				<div class=col-xs-12>\n					<div class=form-group>\n						<div class="th-address__country th-dropdown">\n\n							<vn-dropdown name=inputWorldwideCountry data-availableoptions=countries placeholder=Country optionselect=onCountryChanged model=address.selectedCountry>\n								<vn-dropdown>\n\n						</vn-dropdown></vn-dropdown></div>\n					</div>\n				</div>\n			</div>\n\n			<div class=row data-ng-show=isLocationUS>\n				<div class=col-xs-12>\n					<div class=form-group>\n						<input name=inputUSPhoneNumber class="form-control input-lg immediate-help" id=phone-number data-vn-placeholder="Phone Number" data-ng-change=validateChange() data-ng-model=address.phoneNumber data-vn-us-phone-validate data-vn-format-us-phone-number>\n\n						<data-vn-popover-us-phone>\n					</div>\n				</div>\n			</div>\n\n			<div class=row data-ng-show=!isLocationUS>\n				<div class=col-xs-12>\n					<div class=form-group>\n						<input name=inputIntlPhoneNumber class="form-control input-lg immediate-help" maxlength=35 data-ng-change=validateChange() data-vn-placeholder="Phone Number" data-ng-model="address.phoneNumber">\n\n						<data-vn-popover-required location=top field="Phone Number"></data-vn-popover-required>\n					</div>\n				</div>\n			</div>\n			<div class=row data-ng-if="shipping==\'true\'">\n				<div class=col-xs-12>\n					<div class=form-group>\n						<input type=checkbox name=type class=immediate-help id=residential-1 data-ng-model=address.residential data-ng-change=validateChange() data-ng-true-value=false data-ng-false-value="true">\n						<label for=residential-1 role=button tabindex=0>This is a business address</label>\n					</div>\n				</div>\n			</div>\n			<div class=row>\n				<div class=col-xs-12>\n					<div class=form-group>\n						<input type=checkbox name=isPreferred class=immediate-help id=preferred data-ng-model="address.preferred">\n						<label for=preferred role=button tabindex=0>Preferred</label>\n					</div>\n				</div>\n			</div>\n		</div>\n\n		<div class=row data-ng-if=showCancelButtonValue>\n			<div class=col-xs-6>\n				<button class="btn btn-default btn-block btn-lg" data-ng-click=onCancel()>\n					{{cancelText}}\n				</button>\n			</div>\n			<div class=col-xs-6>\n				<button class="btn btn-primary btn-block btn-lg" data-ng-click=saveAddress() data-ng-disabled=disabledButton data-ng-if=showSaveButtonValue>\n					{{saveText}}&nbsp;<i class="fa fa-angle-right"></i>\n				</button>\n			</div>\n		</div>\n		<div class=row data-ng-if=!showCancelButtonValue>\n			<div class=col-xs-12>\n				<button class="btn btn-primary btn-block btn-lg" data-ng-click=saveAddress() data-ng-disabled=disabledButton data-ng-if=showSaveButtonValue>\n					{{saveText}}&nbsp;<i class="fa fa-angle-right"></i>\n				</button>\n			</div>\n		</div>\n	</form>\n</div>'),e.put("checkout/address/vn-address-picker.tpl.html",'<div class=th-checkout__step__drawer data-ng-class="{\'-open\': openAddressPicker}">\n\n	<div class=th-checkout__step__drawer__body data-ng-show=openAddressPicker data-ng-switch=state data-ng-cloak>\n		<a href class=th-checkout__step__drawer__close data-ng-click=selectAddress()>\n			<i class="fa fa-close fa-2x"></i>\n		</a>\n\n		<div class=th-checkout__step__drawer__title>\n			<span data-ng-switch-when=ADDRESSLIST>{{:: selectAddressTitle}}</span>\n			<span data-ng-switch-when=NEWADDRESS>{{:: newAddressTitle}}</span>\n		</div>\n\n		<div class=th-address__choose data-ng-switch-when=ADDRESSLIST>\n			<div class=list-group ng-cloak>\n				<a class="list-group-item -clickable" ng-repeat-end data-ng-click=createNewAddress()>\n					Enter a different address\n				</a>\n				<label class="list-group-item -radio" data-ng-repeat="address in addressList" for="address{{ $index }}">\n					<input type=radio id="address{{ $index }}" name=billingAddress data-ng-value=true data-ng-model=address.preferred data-ng-change="setPreferredAddress({{ $index }}); selectAddress()">\n\n					<div>\n						<vn-address-display data-ng-if="shipping==\'true\'" data-address=address data-show-edit-button=allowEdit data-shipping=true></vn-address-display>\n						<vn-address-display data-ng-if="shipping!=\'true\'" data-address=address data-show-edit-button=allowEdit></vn-address-display>\n					</div>\n				</label>\n			</div>\n			<button class="btn btn-primary btn-block btn-lg th-checkout__step__btn__continue" data-ng-click=selectAddress()>\n				Continue&nbsp;<i class="fa fa-angle-right"></i>\n			</button>\n		</div>\n\n\n		<div data-ng-switch-when=NEWADDRESS>\n			<div class=th-address__same-as data-ng-if=showCopyAddress>\n				<input type=checkbox id=chkAddressCopy name=chkAddressCopy data-ng-model=addressCopied data-ng-change="copyAddressHandler()">\n				<label for=chkAddressCopy>{{:: copyAddressText}}</label>\n			</div>\n			<div class="th-address__enterAddress panel panel-default">\n				<div data-ng-if="shipping==\'true\'" data-vn-address-editor="" address=newAddress countries=countries data-on-dirty=setCopyAddressFalse() data-on-save="saveAddress({newAddress: newAddress})" data-shipping=true class=panel-body></div>\n				<div data-ng-if="shipping!=\'true\'" data-vn-address-editor="" address=newAddress countries=countries data-on-dirty=setCopyAddressFalse() data-on-save="saveAddress({newAddress: newAddress})" class=panel-body></div>\n			</div>\n		</div>\n\n\n		\n	</div>\n</div>'),e.put("checkout/billing-address/billing-address-views.html",'<div class=th-address data-ng-controller="BillingAddressViewsCtrl as vm" data-ng-switch=vm.state data-ng-init=vm.init()>\n\n	<div class="th-address__display panel panel-default" data-ng-show="checkout.steps[1].hasOpenDrawer == false" data-ng-switch-when=VIEWADDRESS data-ng-show="checkout.steps[1].hasOpenDrawer == false">\n		<div class=panel-heading>Billing Address</div>\n		<vn-address-display data-address=vm.billingAddress data-on-click=vm.editBillingAddress() data-show-edit-button=vm.billingAddress class=panel-body></vn-address-display>\n	</div>\n\n	<div class=th-address__same-as data-ng-switch-when=EDITADDRESS data-ng-show="checkout.steps[1].hasOpenDrawer == false" ng-cloak>\n		<input type=checkbox id=chkBillingAddress name=chkBillingAddress data-ng-model=vm.useShippingAddress data-ng-change="vm.copyShippingAddress()">\n		<label for=chkBillingAddress>Billing address same as shipping</label>\n	</div>\n	<div class="th-address__enterAddress panel panel-deafult" data-ng-switch-when=EDITADDRESS ng-cloak>\n		<div data-vn-address-editor="" address=vm.billingAddress countries=vm.countries data-on-dirty=vm.setShippingAddressFalse() data-on-save=vm.saveBillingAddress() data-show-save-button=false class=panel-body></div>\n	</div>\n\n	<div vn-address-picker data-ng-switch-when=PICKADDRESS data-address-list=vm.user.billingAddresses data-new-address-title="Add Billing Address" data-select-address-title="Choose Billing Address" data-back-to-text="back to Pay With" data-show-copy-address=vm.showCopyAddress data-countries=vm.countries data-on-address-selected=vm.onAddressSelected() data-save-address=vm.onAddressAdded(newAddress) data-address-copied=vm.useShippingAddress data-copy-address-handler=vm.copyShippingAddress() data-copy-address-text="Billing address same as shipping"></div>\n\n</div>'),e.put("checkout/checkout.html",'<div class=th-checkout data-vn-tab-index>\n	<div class=row>\n		<div class="th-checkout__loading th-checkout__loading--ship-to" vn-busy-animation vn-busy-animation-size=80px vn-busy-animation-show="{{ stepOneLoading }}" vn-busy-animation-class=th-checkout__loading-inner data-ng-show=checkout.steps[0].active></div>\n\n		<div class="th-checkout__loading th-checkout__loading--pay-with" vn-busy-animation vn-busy-animation-size=80px vn-busy-animation-show="{{ stepTwoLoading }}" vn-busy-animation-class=th-checkout__loading-inner data-ng-show=checkout.steps[1].active></div>\n\n		<div class="th-checkout__loading th-checkout__loading--review" vn-busy-animation vn-busy-animation-size=80px vn-busy-animation-show="{{ stepThreeLoading }}" vn-busy-animation-class=th-checkout__loading-inner data-ng-show=checkout.steps[2].active></div>\n\n		<div class="col-md-4 th-checkout__step th-checkout__step__ship-to" data-ng-show="checkout.steps[0].active || device.info.isDesktop" data-ng-class="{ \'-active\' : checkout.steps[0].active }" data-ng-switch=isEditable(1) data-vn-scroll-to-top=checkout.steps[0].hasOpenDrawer data-ng-init="hideShippingMethods = true">\n\n			<div class=th-checkout__step__overlay data-ng-class="{ \'-complete\' : checkout.steps[1].active || checkout.steps[2].active}" data-ui-sref=checkout.ship-method></div>\n\n			<div class="th-checkout__step-inner col-xs-12 col-xs-offset-0 col-sm-8 col-sm-offset-2 col-md-12 col-md-offset-0">\n\n				<div class=th-checkout__step__title>\n					<div class=th-checkout__step__title__stepNumber data-ng-if=checkout.steps[0].active><span>1</span></div>\n					<i class="fa fa-check-circle-o fa-2x" data-ng-if="checkout.steps[1].active || checkout.steps[2].active"></i>\n					<div class=th-checkout__step__title__stepName>Ship To</div>\n				</div>\n\n				<div ng-include=" \'checkout/ship-to/ship-to-views.html\' "></div>\n\n				<div data-ng-hide=hideShippingMethods ng-include=" \'checkout/ship-method/ship-method.html\' "></div>\n\n				<span data-ng-if=checkout.steps[0].active>\n					<button class="btn btn-primary btn-block btn-lg th-checkout__step__btn-continue" data-ng-hide=hideShippingMethods data-ui-sref=checkout.pay-with>\n						Continue&nbsp;<i class="fa fa-angle-right"></i>\n					</button>\n				</span>\n			</div>\n\n		</div>\n		<div class="col-md-4 th-checkout__step th-checkout__step__pay-with" data-ng-show="checkout.steps[1].active || device.info.isDesktop" data-ng-class="{ \'-active\' : checkout.steps[1].active }" data-ng-switch=isEditable(2) data-vn-scroll-to-top=checkout.steps[1].hasOpenDrawer>\n\n			<div class=th-checkout__step__overlay data-ng-class="{ \'-complete\' : checkout.steps[2].active}" data-ui-sref=checkout.pay-with></div>\n\n			<div class="th-checkout__step-inner col-xs-12 col-xs-offset-0 col-sm-8 col-sm-offset-2 col-md-12 col-md-offset-0">\n\n				<div class=th-checkout__step__title>\n					<div class=th-checkout__step__title__stepNumber data-ng-if="checkout.steps[0].active || checkout.steps[1].active"><span>2</span></div>\n					<i class="fa fa-check-circle-o fa-2x" data-ng-if=checkout.steps[2].active></i>\n					<div class=th-checkout__step__title__stepName>Pay With</div>\n				</div>\n\n				<div class=form-group data-ng-show="isPaypalExpressAvailable && checkout.steps[1].hasOpenDrawer == false">\n					<div class="th-checkout__payment-type th-dropdown" dropdown>\n						<button id=paymentType name=paymentType class="dropdown-toggle form-control immediate-help" type=button data-toggle=dropdown dropdown-toggle aria-haspopup=true role=button aria-expanded=false data-ng-model=paymentType value="{{ paymentType }}">\n\n							{{ paymentType }}<span class=caret></span>\n						</button>\n\n						<ul class=dropdown-menu role=menu aria-labelledby=paymentType>\n							<li><a role=menuitem tabindex=-1 href data-ng-click="paymentType = \'credit-card\'">Credit Card</a></li>\n							<li><a role=menuitem tabindex=-1 href data-ng-click="paymentType = \'paypal\'">PayPal</a></li>\n						</ul>\n					</div>\n				</div>\n\n				<div ng-include=" \'checkout/pay-with/credit-card-views.html\' " data-ng-show="paymentType == \'credit-card\'"></div>\n\n				<div ng-include=" \'checkout/billing-address/billing-address-views.html\' " data-ng-show="paymentType == \'credit-card\'"></div>\n\n				<div data-ng-show="checkout.steps[1].hasOpenDrawer == false">\n					<span data-ng-if="checkout.steps[1].active && paymentType == \'credit-card\'">\n						<button class="btn btn-primary btn-block btn-lg th-checkout__step__btn-continue" data-ng-click=nextBillingStep()>\n							Continue&nbsp;<i class="fa fa-angle-right"></i>\n						</button>\n					</span>\n\n					<button class="btn btn-primary btn-block btn-lg th-checkout__step__btn-continue" data-ng-if="checkout.steps[1].active && paymentType == \'paypal\'" data-ng-click=startPaypal()>\n						Continue to PayPal&nbsp;<i class="fa fa-angle-right"></i>\n					</button>\n\n					<div class=th__back-button data-ng-if=checkout.steps[1].active>\n						<a href=javascript:void(0); data-ui-sref=checkout.ship-method>\n							<i class="fa fa-arrow-left">&nbsp;back to Ship To</i>\n						</a>\n					</div>\n\n					<br style="clear: both">\n				</div>\n			</div>\n\n		</div>\n\n		<div data-vn-place-order-btn></div>\n\n		<div class="col-md-4 th-checkout__step th-checkout__step__review" data-ng-show="checkout.steps[2].active || device.info.isDesktop" data-ng-class="{ \'-active\' : checkout.steps[2].active }" data-vn-scroll-to-top=checkout.steps[2].hasOpenDrawer>\n\n			<div class=th-checkout__step__overlay data-ui-sref=checkout.review-order></div>\n\n			<div class="th-checkout__step-inner col-xs-12 col-xs-offset-0 col-sm-8 col-sm-offset-2 col-md-12 col-md-offset-0">\n\n				<div class=th-checkout__step__title>\n					<div class=th-checkout__step__title__stepNumber><span>3</span></div>\n					<div class=th-checkout__step__title__stepName>Review</div>\n				</div>\n				<div class=th-checkout__thanks__title>\n					Total: {{ checkout.cart.totals.grandTotal | currency }}\n				</div>\n				<button class="btn btn-primary btn-block btn-lg th-checkout__step__btn-continue" data-ng-if=checkout.steps[2].active data-ng-click=placeOrder()>\n					{{ placeOrderBtnText }}\n				</button>\n				<div vn-review=checkout.cart></div>\n				<div ng-include=" \'checkout/review/review-details-2.html\' " ng-if=checkout.steps[2].active></div>\n\n				<button class="hidden-md hidden-lg hidden-xl btn btn-primary btn-block btn-lg th-checkout__step__btn-continue" data-ng-if=checkout.steps[2].active data-ng-click=placeOrder()>\n					{{ placeOrderBtnText }}\n				</button>\n\n				<div class=th__back-button>\n					<a href=javascript:void(0); data-ng-if=checkout.steps[2].active data-ui-sref=checkout.pay-with>\n						<i class="fa fa-arrow-left">&nbsp;back to Pay With</i>\n					</a>\n				</div>\n			</div>\n		</div>\n	</div>\n</div>'),
e.put("checkout/pay-with/credit-card-views.html",'<div data-ng-controller="CreditCardViewsCtrl as cc" data-ng-init=cc.init() data-ng-switch=cc.state>\n\n	<div data-ng-switch-when=VALIDCARDENTERED>\n		<div class="panel panel-default" data-ng-show="checkout.steps[1].hasOpenDrawer == false">\n			<div class=panel-heading>Credit Card</div>\n			<div data-vn-credit-card-display data-card=cc.card data-on-dirty=cc.setCardValidFalse() data-on-save=cc.saveCreditCard() data-on-click=cc.toggleChange() data-state=cc.displayCardState>\n			</div>\n		</div>\n	</div>\n\n	<div data-vn-credit-card-editor data-ng-switch-when=ENTERCARD data-card=cc.card data-on-dirty=cc.setCardValidFalse() data-show-save-button=false data-on-save=cc.saveCreditCard()>\n	</div>\n\n	<div data-vn-credit-card-picker data-ng-switch-when=PICKCARD data-state=cc.pickCardState data-card=cc.card data-card-list=cc.user.paymentProfiles data-on-select="" data-open-credit-cards=true data-close-picker=cc.closePicker() data-choose-picker=cc.choosePicker() data-enter-card=cc.enterCard() data-set-payment-profile=cc.setPaymentProfile(id) data-selected-index=cc.selectedIndex data-on-dirty-card=cc.setCardValidFalse() data-on-save-card=cc.saveCreditCard()>\n	</div>\n\n</div>'),e.put("checkout/pay-with/vn-credit-card-display-action.html",'<div class="container-fluid vn-credit-card-display-action no-padding">\n	<div class=row>\n		<div class=col-xs-6>\n			<span class=th-credit-card__img data-ng-class=paymentProfile.card.ccCssClass></span>\n			&nbsp;&nbsp;<span>{{ paymentProfile.card.cardNumber.slice(-4) }}</span>\n		</div>\n		<div class="col-xs-6 align-right">\n			<span>{{ paymentProfile.card.expMonth }}/{{ paymentProfile.card.expYear }}</span>\n		</div>\n	</div>\n\n	<div class="row th-address__display__actions">\n		<div class="col-xs-6 th-address__display__actions__preferred">\n			<span data-ng-if=!paymentProfile.preferred>\n				<button class="btn btn-default" data-ng-click=onMakePreferredClicked()>Make Preferred</button>\n			</span>\n			<span data-ng-if=paymentProfile.preferred><i class="fa fa-check"></i>&nbsp;Preferred</span>\n		</div>\n		<div class="col-xs-6 align-right">\n			<a href data-ng-click="onDeleteClicked({paymentProfile: paymentProfile})">\n				<i class="fa fa-trash-o"></i>\n			</a>\n		</div>\n	</div>\n</div>'),e.put("checkout/pay-with/vn-credit-card-display.html",'<div class="th-credit-card__display panel-body" data-ng-class="{ \'-verify-CVV\' : state == \'CVV\'}">\n	<div class=row data-ng-class="{\'clickable\': !readonlyVal}" data-ng-cloak data-ng-click=onClick()>\n		<div class=col-xs-10>\n			<span class=th-credit-card__img data-ng-class=card.ccCssClass></span>\n			<span class=th-credit-card__display__last4>{{ card.cardNumber.slice(-4) }}</span>\n			<span class=th-credit-card__display__exp>{{card.expMonth }}/{{card.expYear }}</span>\n		</div>\n		<div class=col-xs-2 data-ng-show=showArrowVal>\n			<i class="fa fa-angle-right fa-2x pull-right"></i>\n		</div>\n	</div>\n	<form id=frmCVV name=frmCVV novalidate ng-show="state==\'CVV\'" class=th-credit-card__display__verifyCVV>\n		<div class=form-group>\n\n			<label class=th-credit-card__display__verifyCVV__label>Please verify your card</label>\n\n			<div class=th-credit-card__display__verifyCVV__input>\n				<input id=inputCreditCardCVV name=inputCreditCardCVV class="form-control input-lg immediate-help" data-vn-placeholder=CVV data-ng-model=card.CVV data-vn-cvv-validate tabindex=-1 data-vn-cc-type="{{ card.cardTypeName }}" required>\n				<input type=hidden data-ng-model=card.pCIaaSId id=hiddenCardID value="{{ card.pCIaaSId }}" name="hiddenCardID">\n				<div class="input-help top" ng-if=frmCVV.inputCreditCardCVV.$touched>\n					<div class=arrow></div>\n					<h4>CVV must:</h4>\n					<ul>\n						<li ng-class=cvvValidFormat>Be <strong>{{ cvvLength }} digits</strong> long</li>\n					</ul>\n				</div>\n			</div>\n		</div>\n	</form>\n</div>'),e.put("checkout/pay-with/vn-credit-card-editor.html",'<div>\n	<div class="credit-card-error -aligned" ng-if=card.pCIaaSError ng-click="card.pCIaaSError = \'\'">\n		<div class=row>{{card.pCIaaSError}}</div>\n	</div>\n	<div class="th-credit-card -aligned" ng-cloak>\n		<div class=th-credit-card__strip></div>\n\n		<form id=frmCreditCard name=frmCreditCard novalidate data-ng-submit=updateCreditCard()>\n			<div class=row>\n				<div class=col-xs-9>\n					<div class=form-group>\n						<input id=inputCreditCardNumber name=inputCreditCardNumber class="form-control input-lg immediate-help" data-vn-placeholder="Credit card number" data-ng-model=card.cardNumber data-ng-change=validateChange() data-vn-format-cc-number data-vn-cc-validate data-vn-cc-type="{{ card.cardTypeName }}" data-ng-keypress=setCreditCardInfo() required>\n						<data-vn-popover-credit-card data-ng-if=frmCreditCard.inputCreditCardNumber.$touched></data-vn-popover-credit-card>\n					</div>\n					<input type=hidden data-ng-hide=true id=hiddenCardType name=hiddenCardType value="{{ card.cardTypeName }}">\n					<input type=hidden data-ng-model=card.pCIaaSId id=hiddenCardID value="{{ card.pCIaaSId }}" name="hiddenCardID">\n\n				</div>\n				<div class=col-xs-3>\n					<div class=form-group>\n						<input id=inputCreditCardCVV name=inputCreditCardCVV class="form-control input-lg immediate-help" data-vn-placeholder=CVV data-ng-model=card.CVV data-ng-change=validateChange() data-ng-focus=setCCImage() data-ng-blur="setCCImage(\'reset\');" data-vn-cvv-validate data-vn-cc-type="{{ card.cardTypeName }}" required>\n\n						<div class="input-help top" ng-if=frmCreditCard.inputCreditCardCVV.$touched>\n							<div class=arrow></div>\n							<h4>CVV must:</h4>\n							<ul>\n								<li ng-class=cvvValidFormat>Be <strong>{{ cvvLength }} digits</strong> long</li>\n							</ul>\n						</div>\n					</div>\n				</div>\n			</div>\n\n			<div class=row>\n				<div class=col-xs-4>\n					<div class=form-group>\n						<div class="th-credit-card__exp-month th-dropdown" dropdown>\n							<button id=inputCreditCardExpMonth name=inputCreditCardExpMonth class="dropdown-toggle form-control immediate-help" type=button data-toggle=dropdown dropdown-togle aria-haspopup=true role=button aria-expanded=false data-ng-class="{ \'ng-invalid\': card.expMonth === \'\' || expDateInvalid === undefined, \'ng-valid\': expDateInvalid === \'valid\' }" data-vn-placeholder=MM data-ng-model=card.expMonth data-ng-change=validateChange() value="{{ card.expMonth }}">\n\n								{{ card.expMonth }}<span class=caret></span>\n							</button>\n							<div class="input-help top-left -dropdown" ng-if=frmCreditCard.inputCreditCardExpMonth.$touched>\n								<div class=arrow></div>\n								<h4>Expiration date must:</h4>\n								<ul>\n									<li ng-class=expDateInvalid>Be <strong>future</strong> date</li>\n								</ul>\n							</div>\n							<ul class=dropdown-menu role=menu aria-labelledby=inputCreditCardExpMonth>\n								<li ng-repeat="month in months track by $index">\n									<a role=menuitem tabindex=-1 href data-ng-click="onExpMonthChanged(month, \'inputCreditCardExpMonth\');">\n\n										{{ month.label }}\n									</a>\n								</li>\n							</ul>\n						</div>\n					</div>\n				</div>\n				<div class=col-xs-4>\n					<div class=form-group>\n						<div class="th-credit-card__exp-year th-dropdown" dropdown>\n							<button id=inputCreditCardExpYear name=inputCreditCardExpYear class="dropdown-toggle form-control immediate-help" type=button data-toggle=dropdown dropdown-toggle aria-haspopup=true role=button aria-expanded=false data-ng-class="{ \'ng-invalid\': card.expYear === \'\' || expDateInvalid === undefined }" data-vn-placeholder=YY data-ng-model=card.expYear data-ng-change=validateChange() value="{{ card.expYear }}">\n\n								{{ card.expYear }}<span class=caret></span>\n							</button>\n							<div class="input-help top-left -dropdown" ng-if=frmCreditCard.inputCreditCardExpYear.$touched>\n								<div class=arrow></div>\n								<h4>Expiration date must:</h4>\n								<ul>\n									<li ng-class=expDateInvalid>Be <strong>future</strong> date</li>\n								</ul>\n							</div>\n							<ul class=dropdown-menu role=menu aria-labelledby=inputCreditCardExpYear>\n								<li ng-repeat="year in rangeYears() track by $index">\n									<a role=menuitem tabindex=-1 href data-ng-click="onExpYearChanged(year, \'inputCreditCardExpYear\');">\n\n										{{ year }}\n									</a>\n								</li>\n							</ul>\n						</div>\n					</div>\n				</div>\n				<div class=col-xs-4>\n					<div class=form-group>\n						<span class=th-credit-card__img data-ng-class=card.ccCssClass></span>\n					</div>\n				</div>\n			</div>\n\n		</form>\n	</div>\n	<div class=container-fluid>\n		<div class=row data-ng-if=showCancelButtonValue>\n			<div class=col-xs-6>\n				<button class="btn btn-default btn-block btn-lg th-checkout__step__cancel" data-ng-click=onCancel()>\n					{{cancelText}}\n				</button>\n			</div>\n			<div class=col-xs-6>\n				<button class="btn btn-primary btn-block btn-lg th-checkout__step__btn__continue" data-ng-click=saveCard() data-ng-disabled=disabledButton data-ng-if=showSaveButtonValue>\n					{{saveText}}&nbsp;<i class="fa fa-angle-right"></i>\n				</button>\n			</div>\n		</div>\n		<div class=row data-ng-if=!showCancelButtonValue>\n			<div class=col-xs-12>\n				<button class="btn btn-primary btn-block btn-lg th-checkout__step__btn__continue" data-ng-click=saveCard() data-ng-disabled=disabledButton data-ng-if=showSaveButtonValue>\n					{{saveText}}&nbsp;<i class="fa fa-angle-right"></i>\n				</button>\n			</div>\n		</div>\n	</div>\n</div>'),e.put("checkout/pay-with/vn-credit-card-picker.html",'<div ng-cloak>\n\n	<div class=th-checkout__step__drawer data-ng-class="{\'-open\': openCreditCards}">\n\n		<div class=th-checkout__step__drawer__body data-ng-show=openCreditCards data-ng-cloak data-ng-switch=state>\n\n			<div data-ng-switch-when=PICK>\n				<a href class=th-checkout__step__drawer__close data-ng-click=closePicker()>\n					<i class="fa fa-close fa-2x"></i>\n				</a>\n\n				<div class=th-checkout__step__drawer__title>Choose credit card</div>\n\n				<div class=th-credit-card__choose>\n					<div class=list-group ng-cloak>\n						<a href class="list-group-item -clickable" ng-repeat-end ng-cloak data-ng-click=addCard()>\n							Enter a different card\n						</a>\n						<label class="list-group-item -radio" data-ng-repeat="profile in cardList" data-ng-class="{\'-first\' : $index === 0}" for="profile{{ $index }}">\n							<input type=radio id="profile{{ $index }}" name=profile data-ng-value=true data-ng-model=profile.preferred data-ng-class="{\'-inactive\' : !profile.preferred, \'-selected\' : profile.preferred}" data-ng-change="setIndex({{ $index }}); choosePicker()">\n\n							<div>\n								<span class=th-credit-card__img data-ng-class=getCssClass(profile)></span>\n								<span class=th-credit-card__display__last4>{{ profile.card.last4 }}</span>\n								<span class="th-credit-card__display__exp pull-right">{{ profile.card.expMonth }}/{{ profile.card.expYear }}</span>\n							</div>\n						</label>\n					</div>\n\n					<button class="btn btn-primary btn-block btn-lg th-checkout__step__btn__continue" data-ng-click=choosePicker()>\n						Continue&nbsp;<i class="fa fa-angle-right"></i>\n					</button>\n				</div>\n\n				<div class=th__back-button>\n					<a href=javascript:void(0); data-ng-click=closePicker()>\n						<i class="fa fa-arrow-left">&nbsp;back</i>\n					</a>\n				</div>\n			</div>\n\n			<div data-ng-switch-when=ENTER>\n				<div class=th-checkout__step__drawer__title>Add credit card</div>\n				<div data-vn-credit-card-editor data-card=card data-on-dirty=onDirtyCard() data-on-save=onSaveCard() data-show-save-button=true>\n				</div>\n				<div class=th__back-button>\n					<a href=javascript:void(0); data-ng-click=goBackFromEnter()>\n						<i class="fa fa-arrow-left">&nbsp;back</i>\n					</a>\n				</div>\n			</div>\n\n		</div>\n	</div>\n\n</div>'),e.put("checkout/review/review-details-2.html",'<div data-ng-controller=ReviewDetailsCtrl data-ng-hide="device.info.shortname == \'desktop\'">\n\n	<div class="th-address__display -readonly panel panel-default" data-ng-if=shippingAddress>\n		<div class=panel-heading>Ship To</div>\n		<div vn-address-display data-shipping=true data-address=shippingAddress class=panel-body></div>\n	</div>\n\n	<div class="th-checkout__ship-method panel panel-default">\n		<div class=panel-heading>Shipping Method</div>\n		<div class="th-checkout__ship-method__display panel-body" data-ng-if=shippingMethod>\n			<div class=th-checkout__ship-method__display__name data-ng-bind-html=shippingMethod.name></div>\n			<div class=th-checkout__ship-method__display__price>{{ shippingMethod.price | vnCurrency }}</div>\n		</div>\n	</div>\n\n	<div class="panel panel-default">\n		<div class=panel-heading>Paid With</div>\n		<div data-vn-credit-card-display data-card=payment.card data-state=NOCVV data-show-arrow=false data-readonly=true>\n		</div>\n	</div>\n\n	<div class="th-address__display -readonly panel panel-default" data-ng-if=billingAddress>\n		<div class=panel-heading>Billing Address</div>\n		<div vn-address-display data-address=billingAddress class=panel-body></div>\n	</div>\n\n</div>'),e.put("checkout/review/vn-review-details.html",'<div>\n\n	<div class="th-address__display -readonly panel panel-default">\n		<div class=panel-heading>Ship To</div>\n		<vn-address-display data-address=shippingAddress data-shipping=true data-show-edit-button=false class=panel-body></vn-address-display>\n	</div>\n\n	<div class="th-checkout__thanks__display panel panel-default">\n		<div class=panel-heading>Shipping Method</div>\n		<div class=panel-body>\n			<div class=row>\n				<div class=col-xs-7>\n					<div class=th-checkout__thanks__display__name data-ng-bind-html=shippingMethod.name></div>\n				</div>\n				<div class="col-xs-5 align-right">\n					<div class=th-checkout__thanks__display__price>{{ shippingMethod.price | vnCurrency }}</div>\n				</div>\n			</div>\n		</div>\n	</div>\n\n	<div class="th-checkout__thanks__display panel panel-default">\n		<div class=panel-heading>Paid With</div>\n		<div class=panel-body>\n			<div class=row>\n				<div data-ng-if=payment.card>\n					<div class=col-xs-8>\n						<span class=th-credit-card__img data-ng-class=payment.card.ccCssClass></span>\n						<span class=th-credit-card__display__last4>\n							<span class=hidden-xs>{{ payment.card.cardNumber | vnCreditCard:payment.card.cardTypeName}}</span>\n							<span class="hidden-sm hidden-md hidden-lg hidden-xl">{{payment.card.last4}}</span>\n						</span>\n					</div>\n					<div class="col-xs-4 align-right">\n						<span class=th-credit-card__display__exp>{{payment.card.expMonth }}/{{payment.card.expYear }}</span>\n					</div>\n				</div>\n				<div data-ng-if=!payment.card>\n					<div tabindex=0>\n						<div class=col-xs-12>\n							<img src=https://www.paypalobjects.com/webstatic/en_US/i/buttons/pp-acceptance-small.png alt="Buy now with PayPal">&nbsp;&nbsp;\n							{{paypalEmail}}\n						</div>\n					</div>\n				</div>\n			</div>\n		</div>\n	</div>\n\n	<div class="th-checkout__thanks__display -readonly panel panel-default">\n		<div class=panel-heading>Billing Address</div>\n		<div vn-address-display data-address=billingAddress class=panel-body></div>\n	</div>\n</div>'),e.put("checkout/review/vn-review.html",'<div class="th-checkout__review panel panel-default">\n	<div class=panel-heading>Order Details</div>\n	<div class=panel-body>\n\n		<div class="th-checkout__review__totals clearfix">\n			<div class=th-checkout__review__totals__count>{{ cart.totals.qty }} items</div>\n			<div class=th-checkout__review__totals__expand ng-class="{expanded: !reviewItems}"><button data-ng-click="reviewItems = !reviewItems"><span></span></button></div>\n			<div class=th-checkout__review__totals__amount>{{ cart.totals.items | currency }}</div>\n		</div>\n\n		<div class=th-checkout__review__items data-ng-show=!reviewItems>\n			<div class="th-checkout__review__items__item clearfix" data-ng-repeat="item in cart.items | reverse" data-ng-class="{\'-last\': $last}">\n\n				<div class=th-checkout__review__items__item-image>\n					<img data-ng-src="{{ item.imgUrl }}">\n				</div>\n\n				<div class=th-checkout__review__items__item-info>\n					<div class=th-checkout__review__items__item-info--name>\n						<span>{{ item.name }}</span>\n					</div>\n\n					<div class=th-checkout__review__items__item-info--price>{{ item.pricing.unitPrice | currency }}</div>\n\n					<div class=th-checkout__review__items__item-info--option data-ng-repeat="option in item.options">\n						<span>{{ option.optionText }}</span>\n					</div>\n\n					<div class=item-info-row>\n						<div class=th-checkout__review__items__item-info--qty>\n							<span>Qty</span>&nbsp;{{ item.qty }}\n						</div>\n						<div class=th-checkout__review__items_-info--subtotal>{{ item.pricing.subtotal | currency }}</div>\n					</div>\n\n					<div class=item-info-row data-ng-if="item.giftWrap.price > 0">\n						<div class=th-checkout__review__items__item-info--qty>\n							<span>Gift Wrap</span>\n						</div>\n						<div class=th-checkout__review__items__item-info--subtotal>{{ item.giftWrap.price | currency }}</div>\n					</div>\n\n					<div class=item-info-row data-ng-if="item.giftWrap.message != \'\'">\n						<span>Message:</span>&nbsp;"{{ item.giftWrap.message }}"\n					</div>\n				</div>\n			</div>\n		</div>\n\n		<div class=th-checkout__review__discounts data-ng-if=cart.discounts.length>\n			<div class=th-checkout__review__discounts__discount data-ng-repeat="discount in cart.discounts">\n				<div class=discount-info-row>\n					<div class=th-checkout__review__discounts__discount-info>\n						<span>{{ discount.name }}</span>\n					</div>\n					<div class=th-checkout__review__discounts__discount-info--subtotal>{{ discount.value | vnCurrency }}</div>\n				</div>\n			</div>\n		</div>\n\n		<div class=th-checkout__review__store-credit data-ng-if="cart.customer.storeCredit != 0">\n			<div class=store-credit-info-row>\n				<div class=th-checkout__review__store-credit-info>\n					<span>Store Credit</span>\n				</div>\n				<div class=th-checkout__review__store-credit-info--subtotal>{{ cart.customer.storeCredit | vnCurrency }}</div>\n			</div>\n		</div>\n\n		<div class=th-checkout__review__shipping-method>\n			<div class=shipping-method-info-row>\n				<div class=th-checkout__review__shipping-method-info>\n					<span>Shipping</span>\n					\n						\n					\n				</div>\n				<div class=th-checkout__review__shipping-method-info--subtotal>{{cart.totals.shipping | vnCurrency }}</div>\n			</div>\n		</div>\n\n		<div class=th-checkout__review__tax>\n			<div class=tax-info-row>\n				<div class=th-checkout__review__tax-info>\n					<span>Tax</span>\n				</div>\n				<div class=th-checkout__review__tax-info--subtotal>{{ cart.totals.taxTotal | currency }}</div>\n			</div>\n		</div>\n\n		<div class=th-checkout__review__grand-total>\n			<div class=grand-total-info-row>\n				<div class=th-checkout__review__grand-total-info>\n					<span>Grand Total</span>\n				</div>\n				<div class=th-checkout__review__grand-total-info--subtotal>{{ cart.totals.grandTotal | currency }}</div>\n			</div>\n		</div>\n	</div>\n</div>'),e.put("checkout/ship-method/ship-method.html",'<div data-ng-controller=ShipMethodCtrl data-ng-show="checkout.cart.shippingMethods.length > 0" data-ng-switch=isEditable()>\n\n	<div class=list-group data-ng-switch-when=edit>\n		<div class=panel-heading>Shipping Method</div>\n		<label class="list-group-item -radio" data-ng-repeat="method in checkout.cart.shippingMethods" for="shipping{{ $index }}">\n\n			<input type=radio id="shipping{{ $index }}" name=shipping data-ng-value=true data-ng-model=method.selected data-ng-change="setPreferredShippingMethod({{ $index }})">\n			<div>\n				<div data-ng-bind-html=method.name class=th-checkout__ship-method__name></div>\n				<div class=th-checkout__ship-method__price>{{ method.price | vnCurrency }}</div>\n			</div>\n		</label>\n	</div>\n	<div class="panel panel-default" data-ng-switch-when=show data-ng-click=editShippingMethod()>\n		<div class=panel-heading>Shipping Method</div>\n		<div class="th-checkout__ship-method__display panel-body">\n			<div class=th-checkout__ship-method__display__name data-ng-bind-html=checkout.cart.shippingMethods[currentShippingMethodIdx].name></div>\n			<div class=th-checkout__ship-method__display__price>{{ checkout.cart.shippingMethods[currentShippingMethodIdx].price | vnCurrency }}</div>\n		</div>\n	</div>\n</div>'),e.put("checkout/ship-to/ship-to-views.html",'<div class=th-checkout__ship-to data-ng-controller="ShipToViewsCtrl as vm" data-ng-switch=vm.state data-ng-init=vm.init()>\n\n	<div class="th-address__display panel panel-default" data-ng-switch-when=VIEWADDRESS>\n		<div class=panel-heading>Shipping Address</div>\n		<vn-address-display data-address=vm.shippingAddress data-on-click=vm.editShippingAddress() data-shipping=true class=panel-body data-show-edit-button=vm.shippingAddress></vn-address-display>\n	</div>\n\n	<div class="th-address__enterAddress panel panel-default" data-ng-switch-when=EDITADDRESS ng-cloak>\n		<div data-vn-address-editor="" address=vm.shippingAddress countries=vm.countries data-on-save=vm.saveShippingAddress() data-show-save-button=true data-shipping=true data-save-text="Get Shipping Rates" class=panel-body></div>\n	</div>\n\n	<div vn-address-picker data-ng-switch-when=PICKADDRESS data-address-list=vm.user.shippingAddresses data-new-address-title="Add Shipping Address" data-select-address-title="Choose Shipping Address" data-back-to-text="back to Ship To" data-show-copy-address=vm.showCopyAddress data-countries=vm.countries data-on-address-selected=vm.onAddressSelected() data-shipping=true data-save-address=vm.onAddressAdded(newAddress)></div>\n\n</div>'),e.put("checkout/thank-you/thank-you.html",'<div class=th-checkout__thanks ng-cloak="">\n	<div class=th-checkout__thanks__header>\n		<div class=title>Thank you for your order.</div>\n		<div class=order-info>Your order number is No.{{ ::orderId }}</div>\n		<div class=action-info>A copy of this has been sent to<br>{{ ::userEmail }}</div>\n\n		<br style="clear : both">\n	</div>\n\n	<div class=container-fluid>\n		<div class=row>\n			<div class="col-sm-12 col-sm-offset-0 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2">\n\n				<div class=row>\n					<div class="th-checkout__thanks__column col-xs-12 col-sm-6 col-md-6">\n						<div vn-review=checkout.cart></div>\n					</div>\n					<div class="th-checkout__thanks__column col-xs-12 col-sm-6 col-md-6">\n						<div data-ng-if="checkout.cart.paymentProfile.method !== \'PAYPAL EXPRESS\'">\n							<div vn-review-details shipping-address=checkout.cart.shippingAddress shipping-method=shippingMethod payment=checkout.cart.paymentProfile billing-address=checkout.cart.billingAddress></div>\n						</div>\n						<div data-ng-if="checkout.cart.paymentProfile.method === \'PAYPAL EXPRESS\'">\n							<div vn-review-details shipping-address=checkout.cart.shippingAddress shipping-method=shippingMethod payment=checkout.cart.paypalInfo paypal-email={{paypalEmail}} billing-address=checkout.cart.billingAddress></div>\n						</div>\n					</div>\n\n					<br style="clear : both">\n				</div>\n\n			</div>\n		</div>\n	</div>\n</div>'),e.put("dropdown/vn-dropdown.tpl.html",'<div class="vn-dropdown th-dropdown" dropdown>\n	<button id=dropdownButton name="{{name + \'Label\'}}" class="vn-dropdown__trigger form-control dropdown-toggle form-control" data-vn-placeholder={{placeholder}} data-ng-model=selectedOption.selectedDisplayValue dropdown-toggle data-toggle=dropdown value={{selectedOption.selectedDisplayValue}}>{{selectedOption.selectedDisplayValue}}<span class=caret></span>\n	</button>\n	<ul class="vn-dropdown__menu dropdown-menu" role=menu>\n		<li role=presentation data-ng-repeat="option in options">\n			<a role=menuitem data-ng-click=changeOption($index) href>{{option.displayValue}}</a>\n		</li>\n	</ul>\n	<select name={{name}} class=vn-dropdown__select ng-model=selectedOption ng-options="option.selectedDisplayValue for option in options">\n	</select>\n</div>'),e.put("easy-zoom/vnEasyZoom.tpl.html","<div class=easyzoom data-ng-class=\"{ 'easyzoom--adjacent': ezAdjacent, 'easyzoom--overlay': ezOverlay }\">\n    <a data-ng-href={{ezZoomSrc}}>\n        <img class=img-responsive data-ng-src={{ngSrc}} alt={{alt}}>\n        <div class=th-product-view__zoom></div>\n    </a>\n</div>"),e.put("login/forgot-password.html",'<div class=th-login>\n	<div class=container-fluid>\n		<div class=row>\n			<div class="col-xs-12 col-xs-offset-0 col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3 col-lg-4 col-lg-offset-4">\n				<div class=th__title>Forgot Your Password?</div>\n				<div class=th__subtitle>Enter your email address and we\'ll send you a link to reset your password</div>\n				<div class=th-checkout__login__form>\n					<form id=frmForgotPassword name=frmForgotPassword novalidate data-ng-submit=forgotPassword()>\n						<div class=row>\n							<div class=col-xs-12>\n								<div class=form-group>\n									<input id=inputLoginEmail name=inputLoginEmail class="form-control input-lg immediate-help" data-vn-placeholder="E-mail address" data-ng-model=email data-ng-change=checkValidity() data-vn-email-validate required>\n\n									<div class="input-help bottom" ng-if=frmForgotPassword.inputLoginEmail.$touched>\n										<div class=arrow></div>\n										<h4>E-mail must:</h4>\n										<ul>\n											<li ng-class=emailEmpty>Not be <strong>empty</strong></li>\n											<li ng-class=validEmail>Be a <strong>valid</strong> address</li>\n										</ul>\n									</div>\n								</div>\n							</div>\n						</div>\n					</form>\n					<button class="btn btn-primary btn-block btn-lg th-checkout__login__continue" data-ng-disabled=disabledButton data-ng-click=forgotPassword()>\n						Reset Password&nbsp;<i class="fa fa-angle-right"></i>\n					</button>\n				</div>\n			</div>\n		</div>\n	</div>\n</div>'),e.put("login/login.html",'<div class=row>\n	<div class="col-xs-12 col-xs-offset-0 col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3 col-lg-4 col-lg-offset-4">\n\n		<div data-vn-app-message="" data-message-position=static></div>\n		<div data-vn-login data-allow-anonymous=true data-redirect-to=checkout.ship-method data-button-text=Continue></div>\n		\n	</div>\n</div>'),e.put("login/my-account-login.html",'<div class=row>\n	<div class="col-xs-12 col-xs-offset-0 col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3 col-lg-4 col-lg-offset-4">\n		<div data-vn-app-message="" data-message-position=static></div>\n		<div data-vn-login data-show-create-account=true data-create-account-modal=false data-allow-anonymous=false data-redirect-to=my-account data-button-text="Sign In" data-title="Account Login"></div>\n	</div>\n</div>'),e.put("login/vn-login-email.html",'<div data-ng-switch=state>\n	<div data-ng-switch-when=start class=container-fluid>\n		<div class=th__title>Please enter your email address.</div>\n\n		<div class=th-login__form>\n			<form id=frmLoginEmail name=frmLoginEmail novalidate data-ng-submit=checkEmail()>\n				<div class=row>\n					<div class=col-xs-12>\n						<div class=form-group>\n							<input type=email data-vn-email-validate id=inputLoginEmail name=inputLoginEmail class="form-control input-lg immediate-help" data-vn-placeholder="E-mail address" data-ng-model=user.email data-ng-change=validateChange() pattern=.{1,75} required>\n\n						</div>\n					</div>\n				</div>\n			</form>\n\n			<button class="btn btn-primary btn-block btn-lg th-login__continue" data-ng-disabled=!frmLoginEmail.$valid data-ng-click=checkEmail()>\n				Continue <i class="fa fa-angle-right"></i>\n			</button>\n		</div>\n	</div>\n	<div data-ng-switch-when=login>\n		<div data-vn-login data-allow-anonymous=false data-redirect-to={{redirectTo}} data-show-create-account=false data-email={{user.email}} data-button-text={{buttonText}} data-title={{title}}></div>\n	</div>\n	<div data-ng-switch-when=anonymous>Anonymous</div>\n</div>'),e.put("login/vn-login-link.html","<div>\n	<span data-ng-if=!loggedIn>\n		<a data-ui-sref=login data-translate=header.signIn>Sign In</a>\n	</span>\n	<span data-ng-if=loggedIn>\n		<a data-ui-sref=logout data-translate=header.signOut>Sign Out</a>\n	</span>\n</div>"),e.put("login/vn-login.html",'<div class=th-login>\n	<div class=th__title>{{title}}</div>\n	<div class=container-fluid>\n		<div class=row ng-if=loginError>\n			<div class=th-login__error data-ng-click=clearError()>\n				Login Failed\n			</div>\n		</div>\n		<div class=row>\n			<div class=col-xs-12>\n\n				<div class=th-login__form>\n					<form id=frmLogin name=frmLogin novalidate data-ng-submit=updateUser()>\n						<div class=row>\n							<div class=col-xs-12>\n								<div class=form-group>\n									<input type=email data-vn-email-validate id=inputLoginEmail name=inputLoginEmail class="form-control input-lg immediate-help" data-ng-model=user.email data-ng-change=validateChange() data-vn-placeholder="E-mail address" pattern=.{1,75} required>\n								</div>\n							</div>\n						</div>\n\n						<div class=row data-ng-if="!user.anonymous || !allowAnonymous">\n							<div class=col-xs-12>\n								<div class=form-group>\n									<input type=password id=inputLoginPassword name=inputLoginPassword class="form-control input-lg immediate-help" data-vn-placeholder=Password data-ng-model=user.password data-ng-enter=updateUser() data-ng-change=validateChange() pattern=.{1,75} required>\n								</div>\n							</div>\n						</div>\n					</form>\n\n					<div class=th-login__user-type ng-show=allowAnonymous>\n						<div class=btn-group>\n							<button type=button data-ng-click=anonUser() class="btn btn-default" data-ng-class="{ \'btn-primary\' : user.anonymous }">I\'m a new customer\n							</button>\n							<button type=button data-ng-click=nonAnonUser() class="btn btn-default" data-ng-class="{ \'btn-primary\': !user.anonymous }">I\'ve ordered before\n							</button>\n						</div>\n					</div>\n\n					<button class="btn btn-primary btn-block btn-lg th-login__continue" data-ng-disabled=disabledButton data-ng-click=updateUser()>\n						{{buttonText}}&nbsp;<i class="fa fa-angle-right"></i>\n					</button>\n				</div>\n				<div class=th-login__footer>\n					<div data-ng-if="showCreateAccount == \'true\'">\n						New? <a href data-ng-click=showSignup()>Create an account</a>\n					</div>\n					<div>\n						<a href ui-sref=forgot-password>Forgot your password</a>?\n					</div>\n				</div>\n\n			</div>\n		</div>\n	</div>\n</div>'),e.put("modal/vnAddressDeleteConf.tpl.html",'<div class="th-error-wrap clearfix th-modal">\n	<a href class=th-modal__close ng-click=$dismiss()>\n		<i class="fa fa-times"></i>\n	</a>\n	<div class=th-error-details>\n		<div class="th-error-details__header modal-header">\n			<div class=modal-body>\n				<div class=th-modal__message>\n					{{ :: message }}\n				</div>\n\n				<div class="th-modal__body row">\n					<div class=col-xs-12>\n						<div class=th-message-details__section2 vn-address-display="" address=::addressToDelete></div>\n					</div>\n				</div>\n			</div>\n			<div class="modal-footer container-fluid">\n				<div class=row>\n					<div class="col-xs-12 col-sm-6">\n						<button class="btn btn-default btn-lg th-modal__button th-modal__button--secondary" ng-click=$dismiss()>Cancel</button>\n					</div>\n					<div class="col-xs-12 col-sm-6">\n						<button class="btn btn-primary btn-lg th-modal__button th-modal__button--primary" ng-click=$close()>{{::buttonText}}</button>\n					</div>\n				</div>\n			</div>\n		</div>\n	</div>\n</div>'),e.put("modal/vnErrorModal.tpl.html",'<div class=th-error-details>\n	<div class="th-error-details__header modal-header">\n		<h1>Sorry, something went wrong with the page...</h1>\n\n		<div class=modal-body>\n			<p class=th-error-details__section1>... but it might just be a small glitch. Try refreshing the page\n				to see if that fixes it.</p>\n\n			<p class=th-error-details__section2>\n				If the problem persists, please try again later.\n			</p>\n		</div>\n		<div class=modal-footer>\n			<button class="btn btn-warning" ng-click=$close()>Close</button>\n		</div>\n	</div>\n</div>'),
e.put("modal/vnLogin.tpl.html",'<div class=vn-spinner data-ng-if=isLoading vn-busy-animation vn-busy-animation-show={{isLoading}} vn-busy-animation-size=80px vn-busy-animation-class=vn-spinner__inner></div>\n\n<div class=modal-header>\n	<button type=button class=close data-ng-click=$close()>&times;</button>\n	<h1 class=modal-title>Log In</h1>\n</div>\n<div data-vn-login data-title="" data-allow-anonymous=false data-show-create-account=true data-create-account-modal=true data-redirect-to="" data-button-text=Continue data-show-signup=false></div>'),e.put("modal/vnMessageModal.tpl.html",'<div class="th-error-wrap clearfix">\n	<div class=th-error-details>\n		<div class="th-error-details__header modal-header">\n			<h1>This is a generic app message template</h1>\n			<div class=modal-body>\n				<p class=th-message-details__section1>It should be over ridden in the calling application</p>\n\n			</div>\n			<div class=modal-footer>\n				<button class="btn btn-warning" ng-click=$dismiss()>Ok</button>\n				<button class="btn btn-warning" ng-click=$close()>Cancel</button>\n			</div>\n		</div>\n	</div>\n</div>'),e.put("modal/vnPaymentProfileDeleteConf.tpl.html",'<div class="th-error-wrap clearfix th-modal">\n	<a href class=th-modal__close ng-click=$dismiss()>\n		<i class="fa fa-times"></i>\n	</a>\n	<div class=th-error-details>\n		<div class="th-error-details__header modal-header">\n			<div class=modal-body>\n				<div class=th-modal__message>\n					{{ :: message }}\n				</div>\n\n				<div class="th-modal__body row">\n					<div class=col-xs-12>\n						<span class=th-credit-card__img data-ng-class=::paymentProfileToDelete.card.ccCssClass></span>\n						<span>{{ ::paymentProfileToDelete.card.cardNumber.slice(-4) }}</span>\n						<span>{{ ::paymentProfileToDelete.card.expMonth }}/{{ ::paymentProfileToDelete.card.expYear }}</span>\n					</div>\n				</div>\n\n			</div>\n			<div class="modal-footer container-fluid">\n				<div class=row>\n					<div class="col-xs-12 col-sm-6">\n						<button class="btn btn-default btn-lg th-modal__button th-modal__button--secondary" ng-click=$dismiss()>Cancel</button>\n					</div>\n					<div class="col-xs-12 col-sm-6">\n						<button class="btn btn-primary btn-lg th-modal__button th-modal__button--primary" ng-click=$close()>{{::buttonText}}</button>\n					</div>\n				</div>\n			</div>\n		</div>\n	</div>\n</div>'),e.put("modal/vnSignup.tpl.html",'<div class=vn-spinner data-ng-if=isLoading vn-busy-animation vn-busy-animation-show={{isLoading}} vn-busy-animation-size=80px vn-busy-animation-class=vn-spinner__inner></div>\n\n<div class=modal-header>\n	<button type=button class=close data-ng-click=$close()>&times;</button>\n	<h1 class=modal-title>Sign Up</h1>\n</div>\n<div data-vn-signup data-title="" data-button-text="Create Account"></div>'),e.put("modal/vnWriteReview.tpl.html","<div class=modal-header>\n	<button type=button class=close data-ng-click=$close()>&times;</button>\n	<h1 class=modal-title>Review for {{product.name}}</h1>\n</div>\n<div data-vn-write-review data-product=product></div>"),e.put("my-account/billing-addresses.html",'<div class="th-my-account container" data-ng-cloak="">\n\n	<div class="th-my-account__breadcrumbs row">\n		<div class=col-xs-12>\n			<div ncy-breadcrumb></div>\n		</div>\n	</div>\n\n	<div class=th-my-account__title>\n		{{vm.pageTitle}}\n	</div>\n\n	<div class=row>\n		<div class="col-xs-12 col-sm-7 col-md-6">\n			<div class=th-my-account__overlay data-ng-if=vm.loading vn-busy-animation vn-busy-animation-show="{{ vm.loading }}" vn-busy-animation-size=80px vn-busy-animation-class=th-my-account__overlay--loader></div>\n\n			<div data-ng-show="!vm.addressToEdit && !vm.addressToAdd" class="th-address__choose animate-show">\n				<div class=list-group>\n					<a href class="list-group-item -clickable" data-ng-click=vm.addAddress() ng-repeat-end>\n						<i class="fa fa-plus"></i>&nbsp;&nbsp;Add a Billing Address</a>\n					\n					<div data-ng-repeat="billingAddress in vm.billingAddresses" class=list-group-item>\n						<div vn-address-display-actions="" data-address=billingAddress data-on-make-preferred-clicked=vm.makeAddressPreferred($index) data-on-delete-clicked=vm.deleteAddress(address) data-on-edit-clicked="vm.editAddress(address, $index)"></div>\n					</div>\n				</div>\n			</div>\n			<div data-ng-show=vm.addressToEdit class="panel panel-default animate-show">\n				<div data-vn-address-editor="" data-ng-if=vm.addressToEdit data-countries=vm.countries data-address=vm.addressToEdit data-title="Edit Shipping Address" data-on-save=vm.saveEditedAddress() data-on-cancel=vm.cancelEditAddress() data-show-save-button=true data-save-text=Save data-show-cancel-button=true class=panel-body>\n				</div>\n			</div>\n			<div data-ng-show=vm.addressToAdd class="panel panel-default animate-show">\n				<div data-vn-address-editor="" data-ng-if=vm.addressToAdd data-countries=vm.countries data-address=vm.addressToAdd data-title="Edit Shipping Address" data-on-save=vm.saveNewAddress() data-on-cancel=vm.cancelAddAddress() data-show-save-button=true data-save-text=Add data-show-cancel-button=true class=panel-body>\n				</div>\n			</div>\n\n		</div>\n		<div class="col-xs-12 col-sm-5 col-md-4 col-md-offset-1 th-my-account__group">\n			<div class=th-my-account__title>More Addresses &amp; Payments</div>\n			<ul class=th-my-account__group__links>\n				<li><a href="" data-ui-sref=my-account.shipping-addresses>Shipping Addresses</a></li>\n				<li><a href="" data-ui-sref=my-account.payment-profiles>Payment Profiles</a></li>\n			</ul>\n		</div>\n	</div>\n	<div class=th__back-button>\n		<a ui-sref=my-account>\n			<i class="fa fa-arrow-left"></i>&nbsp;&nbsp;Back to My Account\n		</a>\n	</div>\n</div>'),e.put("my-account/change-email.html",'<div class="th-my-account th-change-email container" data-ng-cloak="">\n	<div class="th-my-account__breadcrumbs row">\n		<div class=col-xs-12>\n			<div ncy-breadcrumb></div>\n		</div>\n	</div>\n\n	<div class=th-my-account__title>\n		Change Email\n	</div>\n\n	<div class=row>\n		<div class="col-xs-12 col-sm-8 col-md-6">\n			<div class=th-my-account__overlay data-ng-if=vm.loading vn-busy-animation vn-busy-animation-show="{{ vm.loading }}" vn-busy-animation-size=80px vn-busy-animation-class=th-my-account__overlay--loader></div>\n\n			<div class=th-change-email__current>\n				<div class=th-change-email__current__title>Current Email</div>\n				<div class=th-change-email__current__email>{{user.email}}</div>\n			</div>\n\n			<form id=frmChangeEmail name=frmChangeEmail novalidate data-ng-submit="">\n				<div class=row>\n					<div class=col-xs-12>\n						<div>\n							<input id=changeEmail name=changeEmail class="form-control input-lg immediate-help" data-vn-placeholder="Updated E-mail" data-ng-model=user.changeEmail data-ng-class="{\'ng-invalid\':frmChangeEmail.confirmChangeEmail.$error.match}" data-ng-change=checkValidity() data-vn-email-validate required>\n\n							<div class="input-help bottom" ng-if=frmChangeEmail.changeEmail.$touched>\n								<div class=arrow></div>\n								<h4>E-mail must:</h4>\n								<ul>\n									<li ng-class=emailEmpty>Not be <strong>empty</strong></li>\n									<li ng-class=validEmail>Be a <strong>valid</strong> address</li>\n									<li ng-class=validLength>Be less than <strong>75</strong> characters</li>\n								</ul>\n							</div>\n						</div>\n					</div>\n				</div>\n				<div class=row>\n					<div class=col-xs-12>\n						<input id=confirmChangeEmail name=confirmChangeEmail class="form-control input-lg immediate-help" data-vn-placeholder="Confirm Updated E-mail" data-ng-model=user.confirmChangeEmail data-match=frmChangeEmail.changeEmail data-ng-change=checkValidity() data-vn-value-match={{user.changeEmail}} required>\n						<div class="input-help bottom" ng-if="frmChangeEmail.confirmChangeEmail.$touched && frmChangeEmail.confirmChangeEmail.$viewValue.length > 0">\n							<div class=arrow></div>\n							<ul>\n								<li ng-class=sameValue>Email addresses must match</li>\n							</ul>\n						</div>\n					</div>\n				</div>\n				<div class=row>\n					<div class=col-xs-12>\n						<input type=password id=inputPassword name=inputPassword class="form-control input-lg immediate-help" data-vn-placeholder=Password data-ng-model=user.password data-ng-change=checkValidity() data-vn-password-validate required>\n					</div>\n				</div>\n				<button class="btn btn-primary btn-block btn-lg th-checkout__login__continue" data-ng-disabled=changeButtonDisabled data-ng-click=changeEmail()>\n					Change Email&nbsp;<i class="fa fa-angle-right"></i>\n				</button>\n			</form>\n		</div>\n	</div>\n	<div class=th__back-button>\n		<a ui-sref=my-account>\n			<i class="fa fa-arrow-left"></i>&nbsp;&nbsp;Back to My Account\n		</a>\n	</div>\n\n</div>'),e.put("my-account/change-password.html",'<div class="th-my-account th-change-password container" data-ng-cloak="">\n	<div class="th-my-account__breadcrumbs row">\n		<div class=col-xs-12>\n			<div ncy-breadcrumb></div>\n		</div>\n	</div>\n\n	<div class=th-my-account__title>\n		Change Password\n	</div>\n\n	<div class=row>\n		<div class="col-xs-12 col-sm-8 col-md-6">\n			<div class=th-my-account__overlay data-ng-if=vm.loading vn-busy-animation vn-busy-animation-show="{{ vm.loading }}" vn-busy-animation-size=80px vn-busy-animation-class=th-my-account__overlay--loader></div>\n\n			<form id=frmChangePassword name=frmChangePassword novalidate data-ng-submit="">\n				<div class=row>\n					<div class=col-xs-12>\n						<input type=password id=inputPassword name=inputPassword class="form-control input-lg immediate-help" data-vn-placeholder="Current Password" data-ng-model=user.password data-ng-change=checkValidity() data-vn-password-validate required>\n					</div>\n				</div>\n				<div class=row>\n					<div class=col-xs-12>\n						<input type=password id=inputNewPassword name=inputNewPassword class="form-control input-lg immediate-help" data-vn-placeholder="New Password" data-ng-model=user.newPassword data-ng-change=checkValidity() data-vn-password-validate required>\n\n						<div class="input-help bottom" ng-if=frmChangePassword.inputNewPassword.$touched>\n							<div class=arrow></div>\n							<h4>Password must:</h4>\n							<ul>\n								<li ng-class=validLength>Be at least <strong>6</strong> characters</li>\n								<li ng-class=validLength>Be at most <strong>20</strong> characters</li>\n							</ul>\n						</div>\n					</div>\n				</div>\n				<div class=row>\n					<div class=col-xs-12>\n						<input type=password id=inputConfirmPassword name=inputConfirmPassword class="form-control input-lg immediate-help" data-vn-placeholder="Confirm Password" data-ng-model=user.confirmPassword data-ng-change=checkValidity() data-vn-value-match={{user.newPassword}} required>\n						<div class="input-help bottom" ng-if="frmChangePassword.inputConfirmPassword.$touched && frmChangePassword.inputConfirmPassword.$viewValue.length > 0">\n							<div class=arrow></div>\n							<ul>\n								<li ng-class=sameValue>Passwords must match</li>\n							</ul>\n						</div>\n					</div>\n				</div>\n				<button class="btn btn-primary btn-block btn-lg th-checkout__login__continue" data-ng-disabled=changeButtonDisabled data-ng-click=changePassword()>\n					Change Password&nbsp;<i class="fa fa-angle-right"></i>\n				</button>\n			</form>\n		</div>\n	</div>\n	<div class=th__back-button>\n		<a ui-sref=my-account>\n			<i class="fa fa-arrow-left"></i>&nbsp;&nbsp;Back to My Account\n		</a>\n	</div>\n\n</div>'),e.put("my-account/my-account.html",'<div data-vn-app-message="" data-message-position=fixed></div>\n<div ui-view>\n	<div class="container th-my-account">\n		<div class=row>\n			<div class="col-xs-12 th-my-account__group th-my-account__group--header">\n				<div class="th-my-account__title th-my-account__group--header__title">My Account</div>\n				<div class=th-my-account__group--header__welcome>\n					Hi, {{user.firstName}} (<a href ui-sref=logout>log out</a>)\n				</div>\n			</div>\n		</div>\n\n		<div class=row>\n			<div class="col-xs-12 th-my-account__group th-my-account__group--orders">\n				<div class=th-my-account__title>Orders</div>\n\n				<div class=vn-spinner data-ng-if=loading vn-busy-animation vn-busy-animation-show="{{ loading }}" vn-busy-animation-size=80px vn-busy-animation-class=vn-spinner__inner></div>\n				<div data-ng-if="orders.length == 0">\n					<p class=text-muted>\n						You haven\'t placed an order with us yet.\n					</p>\n				</div>\n\n				<div data-ng-if="orders.length > 0">\n					<div data-vn-order-table="" orders=orders class=hidden-xs></div>\n					<div data-vn-order-list-view="" orders=orders class="hidden-sm hidden-md hidden-lg hidden-xl"></div>\n					<div class=th-my-account__group__links>\n						<a href data-ui-sref=my-account.orders.list>View all Orders</a>\n					</div>\n				</div>\n			</div>\n		</div>\n\n		<div class=row>\n			<div class="col-xs-12 col-sm-6 th-my-account__group th-my-account__group--addresses">\n				<div class=th-my-account__title>Addresses &amp; Payments</div>\n				<ul class=th-my-account__group__links>\n					<li><a href="" data-ui-sref=my-account.shipping-addresses>Shipping Addresses</a></li>\n					<li><a href="" data-ui-sref=my-account.payment-profiles>Payment Profiles</a></li>\n					<li><a href="" data-ui-sref=my-account.billing-addresses>Billing Addresses</a></li>\n				</ul>\n			</div>\n			<div class="col-xs-12 col-sm-6 th-my-account__group th-my-account__group--email">\n				<div class=th-my-account__title>Email &amp; Password</div>\n				<ul class=th-my-account__group__links>\n					<li><a href="" data-ui-sref=my-account.change-email>Change Email Address</a></li>\n					<li><a href="" data-ui-sref=my-account.change-password>Change Password</a></li>\n				</ul>\n			</div>\n		</div>\n	</div>\n</div>'),e.put("my-account/orders.detail.html",'<div class="th-order-detail container">\n	<div class=row>\n		<div class=col-xs-12>\n\n			<div class=th-my-account__overlay data-ng-if=vm.loading vn-busy-animation vn-busy-animation-show="{{ vm.loading }}" vn-busy-animation-size=80px vn-busy-animation-class=th-my-account__overlay--loader></div>\n\n			<div class="th-my-account__breadcrumbs row">\n				<div class=col-xs-12>\n					<div ncy-breadcrumb></div>\n				</div>\n			</div>\n\n			<div class="th-order-detail__header row">\n				<div class=col-xs-12>\n					<div class="th-order-detail__title th-order-detail__header__title">Order Details</div>\n					<div class=th-order-detail__header__order-date>Placed on <span>{{::vm.order.orderDate | date}}</span></div>\n					<div class=th-order-detail__header__order-details>\n						<span class=th-order-detail__header__order-details__order-number>Order <span>#{{::vm.order.orderId}}</span></span> | <span class=th-order-detail__header__order-details__order-status>{{::vm.order.orderStatus}}</span>\n					</div>\n				</div>\n			</div>\n\n			<div class=row>\n				<div class="col-xs-12 col-sm-6">\n					<div class="panel panel-default th-order-detail__items">\n						<div class=panel-body>\n							<div class="row th-order-detail__items__product" data-ng-repeat="product in vm.order.orderItems">\n								<div class="col-xs-3 col-sm-3 col-md-3 th-order-detail__items__product__img">\n									<a href ui-sref="product({slug: product.slug})"><img data-ng-src={{product.imageUrl}} width=100%></a>\n								</div>\n								<div class="col-xs-6 col-sm-6 col-md-6">\n									<div class=th-order-detail__items__product__name>\n										<a href ui-sref="product({slug: product.slug})">{{::product.productName}}</a>\n									</div>\n									<div class=th-order-detail__items__product__qty>Qty: {{::product.quantity}}</div>\n									<div class=th-order-detail__items__product__options>{{::product.options}}</div>\n								</div>\n								<div class="col-xs-3 col-sm-3 col-md-3">\n									<div class="th-order-detail__items__product__price align-right currency">{{::product.price.subtotal | currency}}</div>\n								</div>\n							</div>\n						</div>\n						<div class=panel-footer>\n							<div class="row th-order-detail__items__discount" data-ng-repeat="discount in vm.order.discounts">\n								<div class=col-xs-8>{{::discount.couponCode}}</div>\n								<div class="align-right col-xs-4 currency">-{{::discount.value | currency}}</div>\n							</div>\n							<div class="row th-order-detail__items__shipping">\n								<div class=col-xs-8>Shipping</div>\n								<div class="align-right col-xs-4">{{::vm.order.totals.shipping | currency}}</div>\n							</div>\n							<div class="row th-order-detail__items__tax">\n								<div class=col-xs-8>Tax</div>\n								<div class="align-right col-xs-4">{{::vm.order.totals.taxTotal | currency}}</div>\n							</div>\n							<div class="row th-order-detail__items__total">\n								<div class=col-xs-8>Total</div>\n								<div class="align-right col-xs-4">{{::vm.order.totals.grandTotal | currency}}</div>\n							</div>\n						</div>\n					</div>\n				</div>\n\n				<div class="col-xs-12 col-sm-6">\n					<div class=th-order-detail__paid-with>\n						<div class="panel panel-default th-order-detail__paid-with">\n							<div class=panel-heading>Paid With</div>\n							<div class=panel-body>\n								<div data-ng-if="vm.order.paymentProfile.paymentMethod.toLowerCase() != \'paypal express\'">\n									<div class=th-credit-card__img data-ng-class="{\'th-credit-card__img--visa\': vm.order.paymentProfile.paymentMethod == \'Visa\', \'th-credit-card__img--amex\': vm.order.paymentProfile.paymentMethod == \'American Express\', \'th-credit-card__img--discover\': vm.order.paymentProfile.paymentMethod == \'Discover\', \'th-credit-card__img--mastercard\': vm.order.paymentProfile.paymentMethod == \'MasterCard\'}"></div>\n									<span class=th-order-detail__paid-with__card-number>{{::vm.order.paymentProfile.PCIaaS_MaskedCardRef}}</span>\n								</div>\n								<div data-ng-if="vm.order.paymentProfile.paymentMethod.toLowerCase() == \'paypal express\'">\n									<img src=https://www.paypalobjects.com/webstatic/en_US/i/buttons/pp-acceptance-small.png alt="Buy now with PayPal">\n								</div>\n							</div>\n						</div>\n					</div>\n					<div class=th-order-detail__shipping>\n						<div class="panel panel-default">\n							<div class=panel-heading>Shipping</div>\n							<div class=panel-body>\n								<div class=th-order-detail__shipping__name>{{::vm.order.shippingAddress.firstName}} {{::vm.order.shippingAddress.lastName}}</div>\n								<div class=th-order-detail__shipping__address-1>{{::vm.order.shippingAddress.address1}}</div>\n								<div class=th-order-detail__shipping__address-2>{{::vm.order.shippingAddress.address2}}</div>\n								<div>\n									<span class=th-order-detail__shipping__city>{{::vm.order.shippingAddress.city}}</span>,\n									<span class=th-order-detail__shipping__state>{{::vm.order.shippingAddress.state}}</span>\n									<span class=th-order-detail__shipping__zip>{{::vm.order.shippingAddress.postalCode}}</span>\n								</div>\n								<div data-ng-if="vm.order.trackingDetails.length > 0">\n									<hr>\n									<div class=th-order-detail__shipping__tracking-detail data-ng-repeat="tracking in vm.order.trackingDetails">\n										<div data-ng-if="tracking.shippingGateway != \'OTHER\'">\n											<div data-ng-bind-html=tracking.shippingMethodName></div>\n											<div>\n												Tracking: <span data-ng-if=tracking.trackingUri><a data-ng-href={{::tracking.trackingUri}} target=_blank>{{::tracking.trackingNumber}}</a></span>\n												<span data-ng-if=!tracking.trackingUri>{{::tracking.trackingNumber}}</span>\n											</div>\n										</div>\n									</div>\n								</div>\n\n							</div>\n						</div>\n					</div>\n					<div class=th-order-detail__notes data-ng-if="vm.order.misc.comment != \'\'">\n						<div class="panel panel-default">\n							<div class=panel-heading>Notes</div>\n							<div class=panel-body>\n								<div>{{::vm.order.misc.comment || "No Notes"}}</div>\n							</div>\n						</div>\n					</div>\n				</div>\n			</div>\n\n			<div class=th__back-button>\n				<a ui-sref=my-account>\n					<i class="fa fa-arrow-left"></i>&nbsp;&nbsp;Back to My Account\n				</a>\n			</div>\n		</div>\n	</div>\n</div>'),e.put("my-account/orders.html","<div ui-view></div>"),e.put("my-account/orders.list.html",'<div class="th-orders-list container" data-ng-cloak="" data-ng-init=vm.init()>\n	<div class=row>\n		<div class=col-xs-12>\n			<div class="th-my-account__breadcrumbs row">\n				<div class=col-xs-12>\n					<div ncy-breadcrumb></div>\n				</div>\n			</div>\n\n			<div class=th-my-account__title>\n				Orders\n			</div>\n\n			<div class=th-my-account__overlay data-ng-if=vm.loading vn-busy-animation vn-busy-animation-show="{{ vm.loading }}" vn-busy-animation-size=80px vn-busy-animation-class=th-my-account__overlay--loader></div>\n\n			<div data-ng-if="vm.orders.length == 0">\n				<p class=text-muted>\n					You haven\'t placed an order with us yet.\n				</p>\n			</div>\n\n			<div data-ng-if="vm.orders.length > 0">\n				<div class=th-orders-list__page-size>\n					<select ng-options="item.text for item in vm.pageSizes" ng-model=vm.selectedPageSize ng-change=vm.getOrders()></select>\n				</div>\n\n				<div data-vn-order-list-view="" orders=vm.orders class="hidden-sm hidden-md hidden-lg hidden-xl"></div>\n				<div data-vn-order-table="" orders=vm.orders class=hidden-xs></div>\n\n				<div class="well well-sm th-orders-list__pagination">\n					<span>{{vm.startIndex}} - {{vm.endIndex}} of {{vm.cursor.total}}</span>\n					<div class=pull-right>\n						<pagination total-items=vm.cursor.total ng-model=vm.currentPage class=pagination-sm previous-text=&lsaquo; next-text=&rsaquo; items-per-page=vm.selectedPageSize.value ng-change=vm.getOrders() max-size=vm.maxSize></pagination>\n					</div>\n				</div>\n			</div>\n\n\n			<div class=th__back-button>\n				<a ui-sref=my-account>\n					<i class="fa fa-arrow-left"></i>&nbsp;&nbsp;Back to My Account\n				</a>\n			</div>\n		</div>\n	</div>\n</div>'),e.put("my-account/orders/vn-order-list-view.tpl.html",'<div class="th-order-list-view container-fluid">\n	<a href ui-sref="my-account.orders.detail({id: order.orderId})" class="th-order-list-view__item list-group-item row" data-ng-repeat="order in orders">\n		<div class="col-xs-7 th-order-list-view__item-left">\n			<div class=th-order-list-view__item__id data-ng-bind=::order.orderId></div>\n			<div class=th-order-list-view__item__num-items>\n				{{::order.orderItems.length}} Items\n			</div>\n			<div class=th-order-list-view__item__status data-ng-bind=::order.orderStatus></div>\n		</div>\n		<div class="col-xs-5 th-order-list-view__item-right">\n			<div class=th-order-list-view__item__date data-ng-bind="::order.orderDate | date"></div>\n			<div class=th-order-list-view__item__total data-ng-bind="::order.orderTotal | currency"></div>\n		</div>\n	</a>\n</div>'),e.put("my-account/orders/vn-order-table.tpl.html",'<table class="th-orders-table table table-striped table-hover">\n	<thead>\n	<tr>\n		<th>Order #</th>\n		<th>Order Date</th>\n		<th>Items</th>\n		<th>Order Total</th>\n		<th>Status</th>\n	</tr>\n	</thead>\n	<tbody>\n	<tr data-ng-repeat="order in orders">\n		<td><a href ui-sref="my-account.orders.detail({id: order.orderId})">{{ ::order.orderId }}</a></td>\n		<td data-ng-bind="::order.orderDate | date"></td>\n		<td data-ng-bind=::order.orderItems.length></td>\n		<td data-ng-bind="::order.orderTotal | currency"></td>\n		<td data-ng-bind=::order.orderStatus></td>\n	</tr>\n	</tbody>\n</table>'),e.put("my-account/payment-profiles.html",'<div class="th-my-account th-payment-profiles container" data-ng-cloak="">\n\n	<div class="th-my-account__breadcrumbs row">\n		<div class=col-xs-12>\n			<div ncy-breadcrumb></div>\n		</div>\n	</div>\n\n	<div class=th-my-account__title>\n		{{vm.pageTitle}}\n	</div>\n\n	<div class=row>\n		<div class="col-xs-12 col-sm-6 col-md-6">\n			<div class=th-my-account__overlay data-ng-if=vm.loading vn-busy-animation vn-busy-animation-show="{{ vm.loading }}" vn-busy-animation-size=80px vn-busy-animation-class=th-my-account__overlay--loader></div>\n			<div data-ng-show="!vm.paymentProfileToEdit && !vm.paymentProfileToAdd" class=animate-show>\n				<div class=list-group>\n					<a class="list-group-item -clickable" href data-ng-click=vm.addPaymentProfile()><i class="fa fa-plus"></i>&nbsp;&nbsp;Add a\n						Credit Card</a>\n					<div data-ng-repeat="paymentProfile in vm.paymentProfiles" class=list-group-item>\n						<div vn-credit-card-display-actions data-payment-profile=paymentProfile data-on-make-preferred-clicked=vm.makePaymentProfilePreferred($index) data-on-delete-clicked=vm.deletePaymentProfile(paymentProfile) data-on-edit-clicked=vm.editPaymentProfile(paymentProfile)>\n						</div>\n					</div>\n				</div>\n			</div>\n			<div data-ng-show=vm.paymentProfileToAdd class="panel panel-default animate-show">\n				<div data-vn-credit-card-editor="" data-ng-if=vm.paymentProfileToAdd data-card=vm.paymentProfileToAdd.card data-title="Edit Shipping Address" data-on-save=vm.saveNewPaymentProfile() data-on-cancel=vm.cancelAddPaymentProfile() data-show-save-button=true data-save-text=Add data-show-cancel-button=true class=panel-body>\n				</div>\n			</div>\n\n		</div>\n		<div class="col-xs-12 col-sm-5 col-md-4 col-md-offset-1 th-my-account__group">\n			<div class=th-my-account__title>More Addresses &amp; Payments</div>\n			<ul class=th-my-account__group__links>\n				<li><a href="" data-ui-sref=my-account.shipping-addresses>Shipping Addresses</a></li>\n				<li><a href="" data-ui-sref=my-account.billing-addresses>Billing Addresses</a></li>\n			</ul>\n		</div>\n	</div>\n	<div class=th__back-button>\n		<a ui-sref=my-account>\n			<i class="fa fa-arrow-left"></i>&nbsp;&nbsp;Back to My Account\n		</a>\n	</div>\n\n</div>'),e.put("my-account/shipping-addresses.html",'<div class="th-my-account container" data-ng-cloak="">\n\n	<div class="th-my-account__breadcrumbs row">\n		<div class=col-xs-12>\n			<div ncy-breadcrumb></div>\n		</div>\n	</div>\n\n	<div class=th-my-account__title>\n		{{vm.pageTitle}}\n	</div>\n\n	<div class=row>\n		<div class="col-xs-12 col-sm-7 col-md-6">\n			<div class=th-my-account__overlay data-ng-if=vm.loading vn-busy-animation vn-busy-animation-show="{{ vm.loading }}" vn-busy-animation-size=80px vn-busy-animation-class=th-my-account__overlay--loader></div>\n			<div data-ng-show="!vm.addressToEdit && !vm.addressToAdd" class="th-address__choose animate-show">\n				<div class=list-group>\n					<a href data-ng-click=vm.addAddress() class="list-group-item -clickable" ng-repeat-end>\n						<i class="fa fa-plus"></i>&nbsp;&nbsp;Add a Shipping Address\n					</a>\n					<div data-ng-repeat="shippingAddress in vm.shippingAddresses" class=list-group-item>\n						<div vn-address-display-actions="" data-address=shippingAddress data-on-make-preferred-clicked=vm.makeAddressPreferred($index) data-on-delete-clicked=vm.deleteAddress(address) data-on-edit-clicked="vm.editAddress(address, $index)" data-shipping=true></div>\n					</div>\n				</div>\n			</div>\n			<div data-ng-show=vm.addressToEdit class="panel panel-default animate-show">\n				<div data-vn-address-editor="" data-ng-if=vm.addressToEdit data-countries=vm.countries data-address=vm.addressToEdit data-title="Edit Shipping Address" data-on-save=vm.saveEditedAddress() data-on-cancel=vm.cancelEditAddress() data-show-save-button=true data-save-text=Save data-show-cancel-button=true data-shipping=true class=panel-body>\n				</div>\n			</div>\n			<div data-ng-show=vm.addressToAdd class="panel panel-default animate-show">\n				<div data-vn-address-editor="" data-ng-if=vm.addressToAdd data-countries=vm.countries data-address=vm.addressToAdd data-title="Edit Shipping Address" data-on-save=vm.saveNewAddress() data-on-cancel=vm.cancelAddAddress() data-show-save-button=true data-save-text=Add data-show-cancel-button=true data-shipping=true class=panel-body>\n				</div>\n			</div>\n\n		</div>\n		<div class="col-xs-12 col-sm-5 col-md-4 col-md-offset-1 th-my-account__group">\n			<div class=th-my-account__title>More Addresses &amp; Payments</div>\n			<ul class=th-my-account__group__links>\n				<li><a href="" data-ui-sref=my-account.billing-addresses>Billing Addresses</a></li>\n				<li><a href="" data-ui-sref=my-account.payment-profiles>Payment Profiles</a></li>\n			</ul>\n		</div>\n	</div>\n	<div class=th__back-button>\n		<a ui-sref=my-account>\n			<i class="fa fa-arrow-left"></i>&nbsp;&nbsp;Back to My Account\n		</a>\n	</div>\n\n</div>'),e.put("newsletters/vn-newsletter-signup.html",'<div>\n	<form name=frmMailingList class=form-inline data-ng-class=formClasses role=form novalidate data-ng-submit=signupForNewsletter() data-ng-show="!displaySuccessMessage && !displayErrorMessage">\n		<div class=form-group data-ng-class=formGroupClasses>\n			<input type=email name=emailaddress ng-model=userEmail class="form-control immediate-help" data-ng-class=inputClasses data-vn-email-validate pattern=.{1,75} required placeholder="{{labelText}}">\n		</div>\n		<button type=submit class="btn btn-default" data-ng-enabled=MailingList.$valid data-ng-class=submitClasses>{{buttonText}}</button>\n	</form>\n	<alert type=success data-ng-if=displaySuccessMessage>{{successMsg}}</alert>\n	<alert type=danger data-ng-if=displayErrorMessage close=closeError()>{{errorMsg}}</alert>\n</div>'),e.put("pagination/vnPaginator.tpl.html",'<ul class=pager data-ng-if="cursor.totalPages > 1">\n	<li data-ng-class="{disabled: cursor.currentPage == 1}">\n		<a href data-ng-click=prevPage()><span class="glyphicon glyphicon-chevron-left"></span></a></li>\n	<li data-ng-class="{disabled: cursor.currentPage == cursor.totalPages}">\n		<a href data-ng-click=nextPage()><span class="glyphicon glyphicon-chevron-right"></span></a></li>\n</ul>\n\n	<div class=pager>\n		Page {{ cursor.currentPage }} of {{ cursor.totalPages }}\n	</div>'),e.put("paypal/vn-paypal-button.html",'<div class="vn-paypal-button paypal-button-hidden">\n	<a data-ng-click=checkout() href="">\n		<img src=https://www.paypalobjects.com/webstatic/en_US/i/buttons/checkout-logo-medium.png alt="Check out with PayPal">\n	</a>\n</div>'),e.put("paypal/vn-paypal-checkout.html",'<div class="th-checkout th-checkout--paypal container-fluid">\n	<div class=row>\n		<div data-vn-app-message="" data-message-position=fixed></div>\n		<div class="th-checkout__loading th-checkout__loading--ship-to" vn-busy-animation vn-busy-animation-size=80px vn-busy-animation-show="{{ stepOneLoading }}" vn-busy-animation-class=th-checkout__loading-inner data-ng-show=checkout.steps[0].active></div>\n\n		<div class="th-checkout__loading th-checkout__loading--review" vn-busy-animation vn-busy-animation-size=80px vn-busy-animation-show="{{ stepTwoLoading }}" vn-busy-animation-class=th-checkout__loading-inner data-ng-show=checkout.steps[1].active></div>\n\n		<div class="col-xs-12 col-sm-6 th-checkout__step th-checkout__step__ship-to" data-ng-init="hideShippingMethods = true" data-ng-class="{ \'-active\' : checkout.steps[0].active }" data-ng-hide="device.info.shortname == \'phone\' && checkout.steps[0].active == false">\n\n			<div class=th-checkout__step__overlay data-ng-class="{ \'-complete\' : checkout.steps[1].active}" data-ui-sref=paypal-checkout.ship-method></div>\n\n			<div class=th-checkout__step__inner>\n				<div class=th-checkout__step__title>\n					<div class=th-checkout__step__title__stepNumber data-ng-if=checkout.steps[0].active><span>1</span></div>\n					<i class="fa fa-check-circle-o fa-2x" data-ng-if=checkout.steps[1].active></i>\n					<div class=th-checkout__step__title__stepName>Shipping Method {{$rootScope.deviceType}}</div>\n				</div>\n\n				<div ng-include=" \'checkout/ship-method/ship-method.html\' "></div>\n\n				<span data-ng-if="checkout.steps[0].active && checkout.cart.shippingMethods.length != 0">\n					<button class="btn btn-primary btn-block btn-lg th-checkout__step__btn-continue" data-ui-sref=paypal-checkout.review-order>\n						Continue&nbsp;<i class="fa fa-angle-right"></i>\n					</button>\n				</span>\n\n			</div>\n\n		</div>\n\n		<div class="col-xs-12 col-sm-6 th-checkout__step th-checkout__step__review" data-ng-class="{ \'-active\' : checkout.steps[1].active }" data-ng-hide="device.info.shortname == \'phone\' && checkout.steps[1].active == false">\n\n			<div class=th-checkout__step__overlay></div>\n\n			<div class=th-checkout__step__inner>\n				<div class=th-checkout__step__title>\n					<div class=th-checkout__step__title__stepNumber><span>2</span></div>\n					<div class=th-checkout__step__title__stepName>Review</div>\n				</div>\n				<div class=th-checkout__thanks__title>\n					Total: {{ checkout.cart.totals.grandTotal | currency }}\n				</div>\n\n				<button class="btn btn-primary btn-block btn-lg th-checkout__step__btn-continue" data-ng-if=checkout.steps[1].active data-ng-click=placeOrder()>\n					{{ placeOrderBtnText }}\n				</button>\n\n				<div vn-review=checkout.cart></div>\n\n				<div class="th-address__display -readonly panel panel-default" data-ng-if=checkout.cart.shippingAddress>\n					<div class=panel-heading>Ship To</div>\n					<div vn-address-display data-address=checkout.cart.shippingAddress data-shipping=true class=panel-body></div>\n				</div>\n\n				<div class="th-checkout__ship-method panel panel-default" data-ng-if=shippingMethod data-ui-sref=paypal-checkout.ship-method>\n					<div class=panel-heading data-ng-if=shippingMethod>Shipping Method</div>\n					<div class="th-checkout__ship-method__display panel-body">\n						<div class=th-checkout__ship-method__display__name data-ng-bind-html=shippingMethod.name></div>\n						<div class=th-checkout__ship-method__display__price>{{ shippingMethod.price | vnCurrency }}</div>\n					</div>\n				</div>\n\n				<div ng-include=" \'paypal/vn-paypal-payment.html\' "></div>\n\n				<div class="th-address__display -readonly panel panel-default" data-ng-if=checkout.cart.billingAddress>\n					<div class=panel-heading>Billing Address</div>\n					<div vn-address-display data-address=checkout.cart.billingAddress class=panel-body></div>\n				</div>\n\n				<button class="btn btn-primary btn-block btn-lg th-checkout__step__btn-continue" data-ng-if=checkout.steps[1].active data-ng-click=placeOrder()>\n					{{ placeOrderBtnText }}\n				</button>\n\n				<div class=th__back-button>\n					<a href data-ng-if=checkout.steps[1].active data-ui-sref=paypal-checkout.ship-method>\n						<i class="fa fa-arrow-left">&nbsp;back to Shipping Method</i>\n					</a>\n				</div>\n			</div>\n\n		</div>\n	</div>\n</div>'),
e.put("paypal/vn-paypal-payment.html",'<div class="th-credit-card__display ng-isolate-scope -readonly panel panel-default">\n	<div class=panel-heading>Paid With</div>\n	<div class=panel-body>\n		<div class="row ng-click-active" role=button tabindex=0>\n			<div class=col-xs-10>\n				<img src=https://www.paypalobjects.com/webstatic/en_US/i/buttons/pp-acceptance-small.png alt="Buy now with PayPal">&nbsp;&nbsp;\n				{{user.paypalEmail}}\n			</div>\n		</div>\n	</div>\n</div>'),e.put("popover/vn-popover.tpl.html",'<div class="input-help {{ ::location }}">\n	<div class=arrow></div>\n	<h4>{{ ::title }}</h4>\n</div>'),e.put("product-image/vn-product-image.tpl.html",'<img data-ng-src="{{ getImagePath(product.imageCollections) }}" class=img-responsive alt="{{ product.name }}">'),e.put("product-reviews/vn-rating-bar.html",""),e.put("product-reviews/vn-rating-button.html",'<div>\n	<span data-ng-if=!loggedIn>\n		<a href data-ng-click=showLogin()>Log in</a> to write a review\n	</span>\n	<span data-ng-if=loggedIn>\n		<span class="th-rating-button btn btn-primary" data-ng-click=writeRating(product)>\n			<i class="fa fa-pencil"></i> Write a review\n		</span>\n	</span>\n</div>'),e.put("product-reviews/vn-rating-summary.html",'<div class=th-rating-summary itemprop=aggregateRating itemscope itemtype=http://schema.org/AggregateRating>\n	<div class=th-rating-summary__rating><span itemprop=ratingValue>{{ratingValue}}</span></div>\n	<div class=th-rating-summary__stars data-vn-rating data-rating-value=ratingValue data-title="" data-editable=isEditable></div>\n	<div class=th-rating-summary__average>Average from <strong><span itemprop=reviewCount>24</span></strong> reviews</div>\n</div>'),e.put("product-reviews/vn-write-review.html",'<div class=th-write-review>\n	<form id=frmReview name=frmReview novalidate data-ng-submit=addReview()>\n\n		<div class=modal-body>\n			<div data-vn-rating data-editable=true data-rating-value=ratingValue></div>\n			<div class=form-group>\n				<input type=email id=inputReviewTitle name=inputReviewTitle class="form-control input-lg immediate-help" data-vn-placeholder=Title data-ng-model=review.title required>\n			</div>\n			<div class=form-group>\n				<textarea id=inputReviewBody name=inputReviewBody class=form-control data-ng-model=review.body cols=40 rows=5 required>\n				</textarea>\n			</div>\n		</div>\n\n		<div class="form-group modal-footer">\n			<div class="form-group pull-left modal-footer-left">\n				<input type=checkbox id=inputReviewAnonymous name=inputReviewAnonymous><label for=inputReviewAnonymous>Exclude my name and location</label>\n			</div>\n			<button type=button class="btn btn-md btn-default" ng-click=cancel()>\n				Cancel\n			</button>\n			<button type=button class="btn btn-md btn-primary" ng-click=addReview()>\n				Done\n			</button>\n		</div>\n\n	</form>\n</div>'),e.put("product-search/vnSearchForm.tpl.html",'<div class=th-search role=search>\n	<div data-ng-show=showSearch class=th-search__popout>\n		<form class=form-inline role=search name=frmSearch data-ng-submit=doSearch() novalidate>\n			<div class=form-group>\n				<input data-ng-model=searchTerm class=th-search__popout--input placeholder=Search...>\n				<button type=button data-ng-click=doSearch() class="btn btn-xs btn-primary th-search__popout--submit">Go!\n				</button>\n			</div>\n		</form>\n	</div>\n\n	<a id=search-toggle data-ng-click="showSearch = !showSearch" ng-show=allowCollapse type=button class=th-search__trigger data-ng-class="{ \'-position\' : !showSearch }">\n		<span class="glyphicon glyphicon-search"></span>\n	</a>\n</div>'),e.put("signup/signup.html",'<div class=container>\n	<div class=row>\n		<div class="col-xs-12 col-xs-offset-0 col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3 col-lg-4 col-lg-offset-4">\n\n			<div data-vn-app-message="" data-message-position=fixed></div>\n			<div data-vn-signup data-title="Sign Up" data-redirect-to=my-account data-button-text="Create Account"></div>\n\n		</div>\n	</div>\n</div>'),e.put("signup/vn-signup.html",'<div class=th-login>\n	<div class=th__title>{{title}}</div>\n	<div class=container-fluid>\n		<div class=row ng-if=signupError>\n			<div class=th-login__error data-ng-click=clearError()>\n				Sign Up Failed\n			</div>\n		</div>\n		<div class=row>\n			<div class=th-login__form>\n				<form id=frmSignup name=frmSignup novalidate>\n					<div class=row>\n						<div class=col-xs-12>\n							<input id=inputFirstName name=inputFirstName class="form-control input-lg immediate-help" data-vn-placeholder="First name" data-ng-model=user.firstName data-ng-change=validateChange() required>\n\n						</div>\n					</div>\n					<div class=row>\n						<div class=col-xs-12>\n							<input id=inputLastName name=inputLastName class="form-control input-lg immediate-help" data-vn-placeholder="Last name" data-ng-model=user.lastName data-ng-change=validateChange() required>\n						</div>\n					</div>\n					<div class=row>\n						<div class=col-xs-12>\n							<input type=email data-vn-email-validate id=inputLoginEmail name=inputLoginEmail class="form-control input-lg immediate-help" data-vn-placeholder="E-mail address" data-ng-model=user.email data-ng-change=validateChange() pattern=.{1,75} required>\n						</div>\n					</div>\n					<div class=row>\n						<div class=col-xs-12>\n							<input type=password id=inputNewPassword name=inputNewPassword class="form-control input-lg immediate-help" data-vn-placeholder="New Password" data-ng-model=user.password data-ng-change=validateChange() data-vn-password-validate required>\n\n							<div class="input-help bottom" ng-if=frmSignup.inputNewPassword.$touched>\n								<div class=arrow></div>\n								<h4>Password must:</h4>\n								<ul>\n									<li ng-class=pwdValidLength>Be at least <strong>6</strong> characters</li>\n									<li ng-class=pwdValidLength>Be at most <strong>20</strong> characters</li>\n								</ul>\n							</div>\n						</div>\n					</div>\n					<div class=row>\n						<div class=col-xs-12>\n							<input type=password id=inputConfirmPassword name=inputConfirmPassword class="form-control input-lg immediate-help" data-vn-placeholder="Confirm Password" data-ng-model=user.confirmPassword data-ng-change=validateChange() data-vn-value-match={{user.password}} required>\n\n							<div class="input-help bottom" ng-if="frmSignup.inputConfirmPassword.$touched && frmSignup.inputConfirmPassword.$viewValue.length > 0">\n								<div class=arrow></div>\n								<ul>\n									<li ng-class=sameValue>Passwords must match</li>\n								</ul>\n							</div>\n						</div>\n					</div>\n				</form>\n				<button class="btn btn-primary btn-block btn-lg th-login__continue" data-ng-disabled=disabledButton data-ng-click=signup()>\n					{{buttonText}}&nbsp;<i class="fa fa-angle-right"></i>\n				</button>\n			</div>\n		</div>\n	</div>\n</div>'),e.put("validators/vn-validation-messages.html","<span data-ng-message=emailEmpty>Emails is empty</span>\n<span data-ng-message=validEmail>Invalid Email</span>\n<span data-ng-message=validLength>Invalid Length</span>\n<span data-ng-message=zipHasValidFormat>Zip Code must be formatted as 99999[-9999]</span>"),e.put("video/vn-video.html",'<iframe type=text/html width={{width}} height={{height}} data-ng-src={{trustedUrl}} frameborder="0">')}]);